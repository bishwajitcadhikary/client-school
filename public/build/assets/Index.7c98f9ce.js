import{u as E,r as N,t as V,a as c,c as T,w as s,b as j,o as p,d as t,V as U,av as o,aw as C,ax as D,g as d,H as A,k as h,bH as H,m as g,D as _,l as I,e as O,f as $,i as M,aU as q,aV as z,j as G,aO as J}from"./app.c74c21f4.js";import K from"./SettingsDrawerContent.4e2e494c.js";import{V as Q}from"./VTable.bbaee15f.js";import{V as B}from"./VSwitch.c46a2151.js";import{V as b}from"./VTooltip.6345da64.js";import{V as R}from"./VContainer.9871394f.js";import"./VSelect.5810ae9c.js";import"./VCheckboxBtn.85849725.js";import"./VSelectionControl.e7494f68.js";import"./VLabel.2a4a1171.js";import"./form.655e4f4e.js";import"./VTextField.2cf6dc35.js";import"./VCounter.bd549793.js";/* empty css              */const W=o("th",null,null,-1),X={class:"pa-1",width:"10%"},ce={__name:"Index",props:{languages:{type:Object,default:null}},setup(k){const w=k,v=E(),m=N(!1),S=N(null),y=[V("Name"),V("Code"),V("Status"),V("Default")],r=c({statuses:[...w.languages.data.map(e=>!!e.is_active)]});function x(e,l){c({_method:"PUT",is_active:r.statuses[e]}).post(route("admin.settings.languages.change-status",{language:l}),{onSuccess:u=>{v.showNotification(u),r.statuses=u.props.languages.data.map(a=>!!a.is_active)}})}const f=c({statuses:[...w.languages.data.map(e=>!!e.is_default)]});function F(e,l){c({_method:"PUT",is_default:r.statuses[e]}).post(route("admin.settings.languages.change-default",{language:l}),{onSuccess:u=>{v.showNotification(u),f.statuses=u.props.languages.data.map(a=>!!a.is_default)}})}function P(){m.value=!1,c({}).delete(route("admin.settings.languages.destroy",{language:S.value}),{onSuccess:e=>{v.showNotification(e),r.statuses=e.props.languages.data.map(l=>!!l.is_active),f.statuses=e.props.languages.data.map(l=>!!l.is_default)}})}return(e,l)=>{const u=j("AppLayout");return p(),T(u,{title:e.$t("Languages"),action:{href:e.route("admin.settings.languages.create"),icon:"mdi-plus",title:e.$t("Add New")}},{"sub-navbar":s(()=>[t(K)]),default:s(()=>[t(R,null,{default:s(()=>[t(U,null,{default:s(()=>[t(Q,{class:"table-rounded"},{default:s(()=>[o("thead",null,[o("tr",null,[(p(),C(A,null,D(y,a=>o("th",null,d(a),1)),64)),W])]),o("tbody",null,[(p(!0),C(A,null,D(k.languages.data,(a,i)=>(p(),C("tr",{key:i},[o("td",null,d(a.name),1),o("td",null,d(a.code),1),o("td",null,[t(B,{modelValue:h(r).statuses[i],"onUpdate:modelValue":n=>h(r).statuses[i]=n,color:"primary","hide-detail":"",onChange:n=>x(i,a.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),o("td",null,[t(B,{modelValue:h(f).statuses[i],"onUpdate:modelValue":n=>h(f).statuses[i]=n,color:"primary","hide-details":"",onChange:n=>F(i,a.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),o("td",X,[t(H,{rounded:"xl"},{default:s(()=>[t(b,{text:e.$t("Edit Phrases")},{activator:s(({props:n})=>[t(g,_({icon:"mdi-translate"},n,{onClick:L=>e.$inertia.visit(e.route("admin.settings.languages.edit-phrases",{language:a.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),t(b,{text:e.$t("Edit Language")},{activator:s(({props:n})=>[t(g,_({icon:"mdi-clipboard-edit-outline"},n,{onClick:L=>e.$inertia.visit(e.route("admin.settings.languages.edit",{language:a.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),t(b,{text:e.$t("Delete Language")},{activator:s(({props:n})=>[a.is_default?I("",!0):(p(),T(g,_({key:0,icon:"mdi-delete-outline"},n,{onClick:L=>{m.value=!0,S.value=a.id}}),null,16,["onClick"]))]),_:2},1032,["text"])]),_:2},1024)])]))),128))])]),_:1})]),_:1})]),_:1}),t(J,{modelValue:m.value,"onUpdate:modelValue":l[1]||(l[1]=a=>m.value=a),"max-width":"290"},{default:s(()=>[t(U,{class:"pa-3"},{default:s(()=>[t(O,{class:"text-h5 text-center"},{default:s(()=>[$(d(e.$t("Are your sure to delete?")),1)]),_:1}),t(M,{class:"text-center"},{default:s(()=>[o("p",null,d(e.$t("Action cannot be undone")),1)]),_:1}),t(q,null,{default:s(()=>[t(z),t(g,{onClick:l[0]||(l[0]=a=>m.value=!1)},{default:s(()=>[$(d(e.$t("Cancel")),1)]),_:1}),t(g,{color:"error",onClick:G(P,["stop"])},{default:s(()=>[$(d(e.$t("Delete")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title","action"])}}};export{ce as default};

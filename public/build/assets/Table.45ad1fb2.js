import{r as V,aw as h,d as r,w as a,V as w,aO as A,H as g,o as u,c as d,av as e,g as t,ax as N,Y as m,bj as C,f as i,k as _,m as v,D as B,l as k,i as S,aS as F,e as R,bk as U,aU as z,n as G,a1 as E,aK as D,u as O}from"./app.c74c21f4.js";import{_ as H}from"./Pagination.ddb96f02.js";import{_ as K}from"./DataNotFound.fa8e0d1d.js";import{V as L}from"./VTooltip.6345da64.js";import{V as b}from"./VTable.bbaee15f.js";import"./VCol.fb68aa0d.js";/* empty css              */import"./VRow.51c37cbe.js";const Y=e("th",null,"Order ID",-1),q={class:"text-center"},J={class:"text-center",width:"15%"},M={class:"text-center"},Q={class:"text-center"},W={colspan:"2"},X=["src"],se={__name:"Table",props:{orders:{type:Object,default:null}},setup(p){const j=p,y=E("dateFormat"),c=V(!1),s=V(null),T=l=>{c.value=!0,s.value=j.orders.data.find(o=>o.id===l)},I=l=>{D.Inertia.post(route("admin.orders.accept",l),{_method:"PUT"},{preserveState:!0,preserveScroll:!0,only:["orders","flash"],onSuccess:o=>{O().showNotification(o)},onFinish:()=>{c.value=!1}})},P=l=>{D.Inertia.post(route("admin.orders.reject",l),{_method:"PUT"},{preserveState:!0,preserveScroll:!0,only:["orders","flash"],onSuccess:o=>{O().showNotification(o)},onFinish:()=>{c.value=!1}})};return(l,o)=>(u(),h(g,null,[r(w,null,{default:a(()=>[p.orders.data.length?(u(),d(b,{key:0},{default:a(()=>[e("thead",null,[e("tr",null,[Y,e("th",null,t(l.$t("Customer")),1),e("th",null,t(l.$t("Plan")),1),e("th",null,t(l.$t("Gateway")),1),e("th",q,t(l.$t("Status")),1),e("th",null,t(l.$t("Order At")),1),e("th",J,t(l.$t("Actions")),1)])]),e("tbody",null,[(u(!0),h(g,null,N(p.orders.data,n=>(u(),h("tr",{key:n.id},[e("td",null,t(n.id),1),e("td",null,t(n.customer.name),1),e("td",null,t(n.plan.name),1),e("td",null,t(n.gateway.name),1),e("td",M,[n.status==0?(u(),d(m,{key:0,color:"warning",dark:""},{default:a(()=>[r(C,{width:"3",size:"x-small",class:"me-3",color:"warning",indeterminate:""}),i(" "+t(l.$t("Pending")),1)]),_:1})):n.status==1?(u(),d(m,{key:1,color:"primary",dark:"","prepend-icon":"mdi-check"},{default:a(()=>[i(t(l.$t("Accepted")),1)]),_:1})):(u(),d(m,{key:2,color:"error",dark:"","prepend-icon":"mdi-close"},{default:a(()=>[i(t(l.$t("Rejected")),1)]),_:1}))]),e("td",null,t(_(y)(n.created_at)),1),e("td",Q,[r(L,{text:l.$t("View Details")},{activator:a(({props:f})=>[r(v,B({variant:"plain",size:"small",icon:"mdi-eye-outline"},f,{onClick:$=>T(n.id)}),null,16,["onClick"])]),_:2},1032,["text"])])]))),128))])]),_:1})):k("",!0),r(S,null,{default:a(()=>[p.orders.data.length?k("",!0):(u(),d(K,{key:0})),r(H,{pagination:p.orders},null,8,["pagination"])]),_:1})]),_:1}),r(A,{modelValue:c.value,"onUpdate:modelValue":o[3]||(o[3]=n=>c.value=n),"max-width":"500",persistent:""},{default:a(()=>[r(w,null,{default:a(()=>[r(F,null,{default:a(()=>[r(R,null,{default:a(()=>[i(t(l.$t("Order Details")),1)]),_:1})]),_:1}),r(S,null,{default:a(()=>[r(b,null,{default:a(()=>{var n,f,$;return[e("tbody",null,[e("tr",null,[e("td",null,t(l.$t("Order ID")),1),e("td",null,t(s.value.id),1)]),e("tr",null,[e("td",null,t(l.$t("Transaction ID")),1),e("td",null,t(s.value.trx_id),1)]),e("tr",null,[e("td",null,t(l.$t("Customer")),1),e("td",null,t((n=s.value.customer)==null?void 0:n.name),1)]),e("tr",null,[e("td",null,t(l.$t("Plan")),1),e("td",null,t((f=s.value.plan)==null?void 0:f.name),1)]),e("tr",null,[e("td",null,t(l.$t("Gateway")),1),e("td",null,t(($=s.value.gateway)==null?void 0:$.name),1)]),e("tr",null,[e("td",null,t(l.$t("Status")),1),e("td",null,[s.value.status==0?(u(),d(m,{key:0,color:"warning",dark:""},{default:a(()=>[r(C,{width:"3",size:"x-small",class:"me-3",color:"warning",indeterminate:""}),i(" "+t(l.$t("Pending")),1)]),_:1})):s.value.status==1?(u(),d(m,{key:1,color:"primary",dark:"","prepend-icon":"mdi-check"},{default:a(()=>[i(t(l.$t("Accepted")),1)]),_:1})):(u(),d(m,{key:2,color:"error",dark:"","prepend-icon":"mdi-close"},{default:a(()=>[i(t(l.$t("Rejected")),1)]),_:1}))])]),e("tr",null,[e("td",null,t(l.$t("Description")),1),e("td",null,t(s.value.description),1)]),e("tr",null,[e("td",null,t(l.$t("Order At")),1),e("td",null,t(_(y)(s.value.created_at)),1)]),e("tr",null,[e("td",W,[r(U,{class:"pa-5"},{default:a(()=>[e("img",{src:s.value.screenshot,alt:""},null,8,X)]),_:1})])])])]}),_:1})]),_:1}),r(z,{class:"justify-space-between"},{default:a(()=>[s.value.status==0?(u(),d(v,{key:0,color:"primary",variant:"text",onClick:o[0]||(o[0]=n=>I(s.value.id))},{default:a(()=>[i(t(l.$t("Accept")),1)]),_:1})):k("",!0),s.value.status==0?(u(),d(v,{key:1,color:"error",variant:"text",onClick:o[1]||(o[1]=n=>P(s.value.id))},{default:a(()=>[i(t(l.$t("Reject")),1)]),_:1})):k("",!0),r(v,{color:"green-darken-1",variant:"text",onClick:o[2]||(o[2]=n=>c.value=!1)},{default:a(()=>[r(G,null,{default:a(()=>[i("mdi-close")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{se as default};

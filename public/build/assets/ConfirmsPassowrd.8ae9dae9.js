import{r as m,bA as C,aa as y,a9 as w,bv as b,d as s,w as a,au as k,M as v,o as x,V as S,e as B,f as l,g as n,h as P,i as T,l as h,bB as _,aB as F,aC as K,n as V,bC as N,ap as $}from"./app.d0959a79.js";const D={__name:"ConfirmsPassowrd",props:{title:{type:String,default:"Confirm Password"},content:{type:String,default:"For your security, please confirm your password to continue."},button:{type:String,default:"Confirm"}},emits:["confirmed"],setup(d,{emit:f}){const r=m(!1),e=C({password:"",error:"",processing:!1}),u=m(null),g=()=>{axios.get(route("password.confirmation")).then(o=>{o.data.confirmed?f("confirmed"):(r.value=!0,setTimeout(()=>u.value.focus(),250))})},p=()=>{e.processing=!0,axios.post(route("password.confirm"),{password:e.password}).then(()=>{e.processing=!1,i(),$().then(()=>f("confirmed"))}).catch(o=>{e.processing=!1,e.error=o.response.data.errors.password[0],u.value.focus()})},i=()=>{r.value=!1,e.password="",e.error=""};return(o,t)=>(x(),y(v,null,[w("span",null,[w("span",{onClick:g},[b(o.$slots,"default")])]),s(k,{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=c=>r.value=c),onClose:i},{default:a(()=>[s(S,null,{default:a(()=>[s(B,{class:"text-h5"},{default:a(()=>[l(n(d.title),1)]),_:1}),s(P,null,{default:a(()=>[l(n(d.content),1)]),_:1}),s(T,null,{default:a(()=>[s(h,{ref_key:"passwordInput",ref:u,modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=c=>e.password=c),type:"password",class:"mt-1 block w-3/4",label:o.$t("Password"),"error-messages":e.error,onKeyup:_(p,["enter"])},null,8,["modelValue","label","error-messages","onKeyup"])]),_:1}),s(F,null,{default:a(()=>[s(K),s(V,{onClick:i},{default:a(()=>[l(n(o.$t("Cancel")),1)]),_:1}),s(V,{class:N(["ml-3",{"opacity-25":e.processing}]),disabled:e.processing,onClick:p},{default:a(()=>[l(n(d.button),1)]),_:1},8,["class","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{D as default};

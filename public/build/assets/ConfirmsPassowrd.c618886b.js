import{r as m,bA as C,aa as y,a9 as w,bv as b,d as s,w as a,au as k,M as v,o as x,V as S,e as P,f as l,g as n,h as T,i as h,l as B,bB as _,aC as D,aD as F,n as V,bC as K,ap as N}from"./app.1d0c46b2.js";const A={__name:"ConfirmsPassowrd",props:{title:{type:String,default:"Confirm Password"},content:{type:String,default:"For your security, please confirm your password to continue."},button:{type:String,default:"Confirm"}},emits:["confirmed"],setup(d,{emit:f}){const r=m(!1),e=C({password:"",error:"",processing:!1}),u=m(null),g=()=>{axios.get(route("password.confirmation")).then(o=>{o.data.confirmed?f("confirmed"):(r.value=!0,setTimeout(()=>u.value.focus(),250))})},p=()=>{e.processing=!0,axios.post(route("password.confirm"),{password:e.password}).then(()=>{e.processing=!1,i(),N().then(()=>f("confirmed"))}).catch(o=>{e.processing=!1,e.error=o.response.data.errors.password[0],u.value.focus()})},i=()=>{r.value=!1,e.password="",e.error=""};return(o,t)=>(x(),y(v,null,[w("span",null,[w("span",{onClick:g},[b(o.$slots,"default")])]),s(k,{modelValue:r.value,"onUpdate:modelValue":t[1]||(t[1]=c=>r.value=c),onClose:i},{default:a(()=>[s(S,null,{default:a(()=>[s(P,{class:"text-h5"},{default:a(()=>[l(n(d.title),1)]),_:1}),s(T,null,{default:a(()=>[l(n(d.content),1)]),_:1}),s(h,null,{default:a(()=>[s(B,{ref_key:"passwordInput",ref:u,modelValue:e.password,"onUpdate:modelValue":t[0]||(t[0]=c=>e.password=c),type:"password",class:"mt-1 block w-3/4",label:o.$t("Password"),"error-messages":e.error,onKeyup:_(p,["enter"])},null,8,["modelValue","label","error-messages","onKeyup"])]),_:1}),s(D,null,{default:a(()=>[s(F),s(V,{onClick:i},{default:a(()=>[l(n(o.$t("Cancel")),1)]),_:1}),s(V,{class:K(["ml-3",{"opacity-25":e.processing}]),disabled:e.processing,onClick:p},{default:a(()=>[l(n(d.button),1)]),_:1},8,["class","disabled"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{A as default};

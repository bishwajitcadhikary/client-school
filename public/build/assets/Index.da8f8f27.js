import{c as r,w as a,b as w,o as n,d as i,V as D,av as e,g as o,aw as y,ax as z,Y as v,f as c,l as d,m as u,D as m,bi as N,n as F,k as _,ay as A,H as B,i as I,a1 as V,aK as T,u as L}from"./app.024f86d4.js";import{_ as P}from"./Pagination.f66c5c8b.js";import{_ as j}from"./DataNotFound.0f4dca2f.js";import{V as E}from"./VTable.ccb6ff10.js";import{V as h}from"./VTooltip.2a21bcfe.js";import{V as H}from"./VContainer.066e5020.js";import"./VCol.19781618.js";/* empty css              */import"./VRow.a17a7fb6.js";const K=e("th",null,"#",-1),O={class:"text-center"},Y={class:"text-center"},q={class:"text-center"},G={width:"5%"},J=["href"],M={class:"text-center"},Q={class:"text-center"},R={class:"text-center"},it={__name:"Index",props:{schools:{type:Object,default:null}},setup($){V("currencyFormat");const g=V("dateFormat"),S=t=>{T.Inertia.post(route("admin.schools.database-creation-retry",{school:t}),{},{preserveState:!0,preserveScroll:!0,onSuccess:f=>{L().showNotification(f)}})};return(t,f)=>{const b=w("AppLayout");return n(),r(b,{title:t.$t("Schools"),actions:[{title:t.$t("New School"),href:t.route("admin.schools.create"),icon:"mdi-plus"}]},{default:a(()=>[i(H,null,{default:a(()=>[i(D,null,{default:a(()=>[$.schools.data.length?(n(),r(E,{key:0},{default:a(()=>[e("thead",null,[e("tr",null,[K,e("th",null,o(t.$t("School Name")),1),e("th",null,o(t.$t("Domain")),1),e("th",null,o(t.$t("Customer")),1),e("th",O,o(t.$t("Database")),1),e("th",Y,o(t.$t("Status")),1),e("th",null,o(t.$t("Created At")),1),e("th",q,o(t.$t("Actions")),1)])]),e("tbody",null,[(n(!0),y(B,null,z($.schools.data,(l,k)=>{var C;return n(),y("tr",{key:k},[e("td",G,o(k+1),1),e("td",null,o(l.name),1),e("td",null,[e("a",{href:"https://"+l.domain,target:"_blank"},o(l.domain),9,J)]),e("td",null,o((C=l.customer)==null?void 0:C.name),1),e("td",M,[l.database_created==1?(n(),r(v,{key:0,class:"ma-2",color:"primary"},{default:a(()=>[c(o(t.$t("Created")),1)]),_:1})):d("",!0),i(h,{text:t.$t("Click to refresh")},{activator:a(({props:s})=>[l.database_created==0?(n(),r(u,m({key:0,class:"ma-2",color:"secondary",rounded:"",size:"small"},s,{onClick:f[0]||(f[0]=p=>t.$inertia.reload())}),{default:a(()=>[c(o(t.$t("Creating"))+" ",1),i(N,{class:"ml-3",width:3,size:"x-small",color:"red",indeterminate:""})]),_:2},1040)):d("",!0)]),_:2},1032,["text"]),i(h,{text:t.$t("Click to retry")},{activator:a(({props:s})=>[l.database_created==2?(n(),r(u,m({key:0,class:"ma-2 text-white",color:"error",rounded:"",size:"small"},s,{onClick:p=>S(l.id)}),{default:a(()=>[c(o(t.$t("Failed"))+" ",1),i(F,null,{default:a(()=>[c("mdi-reload")]),_:1})]),_:2},1040,["onClick"])):d("",!0)]),_:2},1032,["text"])]),e("td",Q,[l.is_active?(n(),r(v,{key:0,class:"ma-2",color:"primary"},{default:a(()=>[c(o(t.$t("Active")),1)]),_:1})):d("",!0),l.is_active?d("",!0):(n(),r(v,{key:1,class:"ma-2",color:"secondary"},{default:a(()=>[c(o(t.$t("Inactive")),1)]),_:1}))]),e("td",null,o(_(g)(l.created_at)),1),e("td",R,[i(h,{text:t.$t("View School")},{activator:a(({props:s})=>[i(u,m({variant:"plain",size:"small",icon:"mdi-eye-outline"},s,{onClick:p=>t.$inertia.visit(t.route("admin.schools.show",{school:l.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),i(h,{text:t.$t("Finger Print Setting")},{activator:a(({props:s})=>[i(u,m({variant:"plain",size:"small",icon:"mdi-cog-outline"},s,{onClick:p=>t.$inertia.visit(t.route("admin.schools.settings.index",{school:l.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),i(h,{text:t.$t("Edit School")},{activator:a(({props:s})=>[i(u,m({variant:"plain",size:"small",icon:"mdi-clipboard-edit-outline"},s,{onClick:p=>t.$inertia.visit(t.route("admin.schools.edit",{school:l.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),i(h,{text:t.$t("Delete School")},{activator:a(({props:s})=>[i(u,m({variant:"plain",size:"small",icon:"mdi-delete-outline"},s,{onClick:p=>_(A)().showDialog(t.route("admin.schools.destroy",{school:l.id}))}),null,16,["onClick"])]),_:2},1032,["text"])])])}),128))])]),_:1})):d("",!0),i(I,null,{default:a(()=>[$.schools.data.length?d("",!0):(n(),r(j,{key:0})),i(P,{pagination:$.schools},null,8,["pagination"])]),_:1})]),_:1})]),_:1})]),_:1},8,["title","actions"])}}};export{it as default};

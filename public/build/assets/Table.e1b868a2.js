import{r as V,aa as h,d as s,w as a,V as g,au as I,M as w,o as u,a9 as e,g as t,ab as N,c as i,b6 as C,f as d,S as m,k as _,n as f,O as B,aA as F,e as R,i as z,b7 as U,aC as G,m as b,p as q,a5 as E,aq as S,u as D,b as L}from"./app.c3e15605.js";import{V as O}from"./VTable.e96bd427.js";import{V as M}from"./VTooltip.d33deba5.js";const H=e("th",null,"Order ID",-1),J={class:"text-center"},K={class:"text-center",width:"15%"},Q={class:"text-center"},W={class:"text-center"},X={class:"mb-5 mt-5"},Y={colspan:"2"},Z=["src"],le={__name:"Table",props:{orders:{type:Object,default:null}},setup(k){const $=k,y=E("dateFormat"),c=V(!1),r=V(null),P=l=>{c.value=!0,r.value=$.orders.data.find(o=>o.id===l)},T=l=>{S.Inertia.post(route("admin.orders.accept",l),{_method:"PUT"},{preserveState:!0,preserveScroll:!0,only:["orders","flash"],onSuccess:o=>{D().showNotification(o)},onFinish:()=>{c.value=!1}})},j=l=>{S.Inertia.post(route("admin.orders.reject",l),{_method:"PUT"},{preserveState:!0,preserveScroll:!0,only:["orders","flash"],onSuccess:o=>{D().showNotification(o)},onFinish:()=>{c.value=!1}})};return(l,o)=>{const A=L("Pagination");return u(),h(w,null,[s(g,null,{default:a(()=>[s(O,null,{default:a(()=>[e("thead",null,[e("tr",null,[H,e("th",null,t(l.$t("Customer")),1),e("th",null,t(l.$t("Plan")),1),e("th",null,t(l.$t("Gateway")),1),e("th",J,t(l.$t("Status")),1),e("th",null,t(l.$t("Order At")),1),e("th",K,t(l.$t("Actions")),1)])]),e("tbody",null,[(u(!0),h(w,null,N($.orders.data,n=>(u(),h("tr",{key:n.id},[e("td",null,t(n.id),1),e("td",null,t(n.customer.name),1),e("td",null,t(n.plan.name),1),e("td",null,t(n.gateway.name),1),e("td",Q,[n.status==0?(u(),i(m,{key:0,color:"warning",dark:""},{default:a(()=>[s(C,{width:"3",size:"x-small",class:"me-3",color:"warning",indeterminate:""}),d(" "+t(l.$t("Pending")),1)]),_:1})):n.status==1?(u(),i(m,{key:1,color:"primary",dark:"","prepend-icon":"mdi-check"},{default:a(()=>[d(t(l.$t("Accepted")),1)]),_:1})):(u(),i(m,{key:2,color:"error",dark:"","prepend-icon":"mdi-close"},{default:a(()=>[d(t(l.$t("Rejected")),1)]),_:1}))]),e("td",null,t(_(y)(n.created_at)),1),e("td",W,[s(M,{text:l.$t("View Details")},{activator:a(({props:p})=>[s(f,B({variant:"plain",size:"small",icon:"mdi-eye-outline"},p,{onClick:v=>P(n.id)}),null,16,["onClick"])]),_:2},1032,["text"])])]))),128))])]),_:1}),e("div",X,[s(A,{pagination:k.orders},null,8,["pagination"])])]),_:1}),s(I,{modelValue:c.value,"onUpdate:modelValue":o[3]||(o[3]=n=>c.value=n),"max-width":"500",persistent:""},{default:a(()=>[s(g,null,{default:a(()=>[s(F,null,{default:a(()=>[s(R,null,{default:a(()=>[d(t(l.$t("Order Details")),1)]),_:1})]),_:1}),s(z,null,{default:a(()=>[s(O,null,{default:a(()=>{var n,p,v;return[e("tbody",null,[e("tr",null,[e("td",null,t(l.$t("Order ID")),1),e("td",null,t(r.value.id),1)]),e("tr",null,[e("td",null,t(l.$t("Transaction ID")),1),e("td",null,t(r.value.trx_id),1)]),e("tr",null,[e("td",null,t(l.$t("Customer")),1),e("td",null,t((n=r.value.customer)==null?void 0:n.name),1)]),e("tr",null,[e("td",null,t(l.$t("Plan")),1),e("td",null,t((p=r.value.plan)==null?void 0:p.name),1)]),e("tr",null,[e("td",null,t(l.$t("Gateway")),1),e("td",null,t((v=r.value.gateway)==null?void 0:v.name),1)]),e("tr",null,[e("td",null,t(l.$t("Status")),1),e("td",null,[r.value.status==0?(u(),i(m,{key:0,color:"warning",dark:""},{default:a(()=>[s(C,{width:"3",size:"x-small",class:"me-3",color:"warning",indeterminate:""}),d(" "+t(l.$t("Pending")),1)]),_:1})):r.value.status==1?(u(),i(m,{key:1,color:"primary",dark:"","prepend-icon":"mdi-check"},{default:a(()=>[d(t(l.$t("Accepted")),1)]),_:1})):(u(),i(m,{key:2,color:"error",dark:"","prepend-icon":"mdi-close"},{default:a(()=>[d(t(l.$t("Rejected")),1)]),_:1}))])]),e("tr",null,[e("td",null,t(l.$t("Description")),1),e("td",null,t(r.value.description),1)]),e("tr",null,[e("td",null,t(l.$t("Order At")),1),e("td",null,t(_(y)(r.value.created_at)),1)]),e("tr",null,[e("td",Y,[s(U,{class:"pa-5"},{default:a(()=>[e("img",{src:r.value.screenshot,alt:""},null,8,Z)]),_:1})])])])]}),_:1})]),_:1}),s(G,{class:"justify-space-between"},{default:a(()=>[r.value.status==0?(u(),i(f,{key:0,color:"primary",variant:"text",onClick:o[0]||(o[0]=n=>T(r.value.id))},{default:a(()=>[d(t(l.$t("Accept")),1)]),_:1})):b("",!0),r.value.status==0?(u(),i(f,{key:1,color:"error",variant:"text",onClick:o[1]||(o[1]=n=>j(r.value.id))},{default:a(()=>[d(t(l.$t("Reject")),1)]),_:1})):b("",!0),s(f,{color:"green-darken-1",variant:"text",onClick:o[2]||(o[2]=n=>c.value=!1)},{default:a(()=>[s(q,null,{default:a(()=>[d("mdi-close")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};export{le as default};

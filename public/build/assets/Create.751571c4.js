import{j as X,b9 as Z,aY as x,be as ee,y as le,x as ae,D as V,bf as D,h as S,H as te,a$ as ne,ba as oe,bg as se,a,bh as re,K as I,F,bi as ue,bc as ie,aQ as de,bj as H,M as ce,aH as me,c as fe,w as d,r as pe,o as ve,f as B,t as z,aI as Ve,aJ as P,u as s,J as be,ak as ge,V as ye,aK as Ce}from"./app.dfca5287.js";import{r as R}from"./rules.e445957c.js";import ke from"./SettingsDrawerContent.c7703bac.js";import{V as Se}from"./VRow.d39a107d.js";import{V as we}from"./VCol.4592c862.js";import{V as $e,c as he,d as Ie,a as Fe}from"./VCard.1aef212d.js";import{V as Be}from"./VForm.871c80d0.js";import{V as ze}from"./VChip.7123b1f9.js";import{V as Pe}from"./VSelect.7afc3e43.js";import{V as Re}from"./VSwitch.e0b4e87c.js";import"./VCheckboxBtn.134247d4.js";const Ae=X({name:"VFileInput",inheritAttrs:!1,props:{chips:Boolean,counter:Boolean,counterSizeString:{type:String,default:"$vuetify.fileInput.counterSize"},counterString:{type:String,default:"$vuetify.fileInput.counter"},multiple:Boolean,hint:String,persistentHint:Boolean,placeholder:String,showSize:{type:[Boolean,Number],default:!1,validator:e=>typeof e=="boolean"||[1e3,1024].includes(e)},...Z({prependIcon:"$file"}),modelValue:{type:Array,default:()=>[],validator:e=>x(e).every(p=>p!=null&&typeof p=="object")},...ee({clearable:!0})},emits:{"click:control":e=>!0,"update:modelValue":e=>!0},setup(e,p){let{attrs:w,emit:n,slots:u}=p;const{t:C}=le(),l=ae(e,"modelValue"),o=V(()=>typeof e.showSize!="boolean"?e.showSize:void 0),v=V(()=>{var t;return((t=l.value)!=null?t:[]).reduce((i,c)=>{let{size:g=0}=c;return i+g},0)}),r=V(()=>D(v.value,o.value)),$=V(()=>{var t;return((t=l.value)!=null?t:[]).map(i=>{const{name:c="",size:g=0}=i;return e.showSize?`${c} (${D(g,o.value)})`:c})}),T=V(()=>{var c;var t;const i=(c=(t=l.value)==null?void 0:t.length)!=null?c:0;return e.showSize?C(e.counterSizeString,i,r.value):C(e.counterString,i)}),A=S(),j=S(),b=S(!1),m=S(),L=V(()=>e.messages.length?e.messages:e.persistentHint?e.hint:"");function h(){if(m.value!==document.activeElement){var t;(t=m.value)==null||t.focus()}b.value||(b.value=!0)}function M(t){H(e["onClick:prepend"],t),N(t)}function N(t){var i;(i=m.value)==null||i.click(),n("click:control",t)}function _(t){t.stopPropagation(),h(),ce(()=>{l.value=[],m!=null&&m.value&&(m.value.value=""),H(e["onClick:clear"],t)})}return te(()=>{const t=!!(u.counter||e.counter),i=!!(t||u.details),[c,g]=ne(w),[{modelValue:je,...q}]=oe(e),[E]=se(e);return a(ie,I({ref:A,modelValue:l.value,"onUpdate:modelValue":y=>l.value=y,class:"v-file-input","onClick:prepend":M,"onClick:append":e["onClick:append"]},c,q,{messages:L.value}),{...u,default:y=>{let{isDisabled:k,isDirty:G,isReadonly:J,isValid:K}=y;return a(re,I({ref:j,"prepend-icon":e.prependIcon,"onClick:control":N,"onClick:clear":_,"onClick:prependInner":e["onClick:prependInner"],"onClick:appendInner":e["onClick:appendInner"]},E,{active:G.value||b.value,dirty:G.value,focused:b.value,error:K.value===!1}),{...u,default:O=>{let{props:{class:Q,...Y}}=O;return a(F,null,[a("input",I({ref:m,type:"file",readonly:J.value,disabled:k.value,multiple:e.multiple,name:e.name,onClick:f=>{f.stopPropagation(),h()},onChange:f=>{var U;if(!f.target)return;const W=f.target;l.value=[...(U=W.files)!=null?U:[]]},onFocus:h,onBlur:()=>b.value=!1},Y,g),null),a("div",{class:Q},[l.value.length>0&&(u.selection?u.selection({fileNames:$.value,totalBytes:v.value,totalBytesReadable:r.value}):e.chips?$.value.map(f=>a(ze,{key:f,size:"small",color:e.color},{default:()=>[f]})):$.value.join(", "))])])}})},details:i?y=>{var k;return a(F,null,[(k=u.details)==null?void 0:k.call(u,y),t&&a(F,null,[a("span",null,null),a(ue,{active:!!l.value.length,value:T.value},u.counter)])])}:void 0})}),de({},A,j,m)}}),Je={__name:"Create",props:{currencies:{type:Object,default:null}},setup(e){const p=e,w=Ce("Notification"),n=me({name:null,logo:null,currency:null,code:null,rate:null,status:null});function u(){n.post(route("admin.settings.gateways.store"),{onSuccess:l=>{l.props.flash.error&&w.error(l.props.flash.error)}})}function C(l){var o;n.rate=(o=p.currencies.find(v=>v.value==l))==null?void 0:o.rate}return(l,o)=>{const v=pe("AdminLayout");return ve(),fe(v,{title:l.$t("Create Gateway"),back:l.route("admin.settings.gateways.index")},{"sub-navbar":d(()=>[a(ke)]),default:d(()=>[a(ye,null,{default:d(()=>[a(Se,null,{default:d(()=>[a(we,{cols:"12",sm:"8"},{default:d(()=>[a($e,null,{default:d(()=>[a(he,null,{default:d(()=>[B(z(l.$t("Create Gateway")),1)]),_:1}),a(Ie,null,{default:d(()=>[B(z(l.$t("Here you can create new language")),1)]),_:1}),a(Fe,null,{default:d(()=>[a(Be,{onSubmit:Ve(u,["prevent"])},{default:d(()=>[a(P,{modelValue:s(n).name,"onUpdate:modelValue":o[0]||(o[0]=r=>s(n).name=r),class:"mb-5",label:l.$t("Gateway Name"),rules:[s(R).required]},null,8,["modelValue","label","rules"]),a(Ae,{"prepend-icon":!1,class:"mb-5",accept:"image/png, image/jpeg, image/jpg",label:l.$t("Logo"),rules:s(R).image_size_1MB,placeholder:l.$t("Pick gateway logo")},null,8,["label","rules","placeholder"]),a(Pe,{modelValue:s(n).currency,"onUpdate:modelValue":[o[1]||(o[1]=r=>s(n).currency=r),C],class:"mb-5",label:l.$t("Gateway Code"),items:e.currencies,rules:[s(R).required],"error-messages":s(n).errors.currency},null,8,["modelValue","label","items","rules","error-messages"]),a(P,{modelValue:s(n).code,"onUpdate:modelValue":o[2]||(o[2]=r=>s(n).code=r),class:"mb-5",label:l.$t("Gateway Code"),disabled:""},null,8,["modelValue","label"]),a(P,{modelValue:s(n).rate,"onUpdate:modelValue":o[3]||(o[3]=r=>s(n).rate=r),class:"mb-5",label:l.$t("Gateway Rate"),disabled:""},null,8,["modelValue","label"]),a(Re,{modelValue:s(n).is_active,"onUpdate:modelValue":o[4]||(o[4]=r=>s(n).is_active=r),class:"mb-5",label:l.$t("Active"),"error-messages":s(n).errors.is_active},null,8,["modelValue","label","error-messages"]),a(be,{type:"submit",loading:s(n).processing},{default:d(()=>[a(ge,{icon:"mdi-content-save"}),B(" "+z(l.$t("Save")),1)]),_:1},8,["loading"])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["title","back"])}}};export{Je as default};

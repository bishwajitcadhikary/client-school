import{a as v,r as d,c as p,w as s,b as S,o as f,d as a,V as _,i as c,j as C,k as r,f as V,g as y,m as x,l as k,n as T,u as $}from"./app.c257832e.js";import{V as j}from"./VRow.6ffd3285.js";import{V as B}from"./VCol.61c044f5.js";import{V as N}from"./VForm.795ab91f.js";import{V as P}from"./VSelect.09e8f089.js";import{V as D}from"./VTextarea.3729ed07.js";import{V as F}from"./VContainer.77648bf1.js";/* empty css              */import"./VCheckboxBtn.fb337e77.js";import"./VSelectionControl.fc2d9dda.js";const z={__name:"Payment",props:{gateways:{type:Object,required:!0},plan:{type:Object,default:null},interval:{type:Boolean,default:!1}},setup(u){const n=u,e=v({trx_id:null,description:null,gateway:null,interval:n.interval?"monthly":"yearly"}),b=()=>{e.post(route("customer.subscription.payment.store",{plan:n.plan.id}),{preserveScroll:!0,preserveState:!0,onSuccess:t=>{$().showNotification(t),e.reset()}})},i=d(!1),m=d(null),g=()=>{var t;i.value=!0,m.value=(t=n.gateways.find(o=>o.value===e.gateway))==null?void 0:t.instructions};return(t,o)=>{const w=S("AppLayout");return f(),p(w,{title:t.$t("Payment")},{default:s(()=>[a(F,null,{default:s(()=>[a(j,{justify:"center"},{default:s(()=>[a(B,{cols:"12",md:"8"},{default:s(()=>[a(_,null,{default:s(()=>[a(c,null,{default:s(()=>[a(N,{onSubmit:C(b,["prevent"])},{default:s(()=>[a(P,{modelValue:r(e).gateway,"onUpdate:modelValue":[o[0]||(o[0]=l=>r(e).gateway=l),g],label:t.$t("Payment Gateway"),items:u.gateways,"error-messages":r(e).errors.gateway,class:"mb-5"},null,8,["modelValue","label","items","error-messages"]),i.value?(f(),p(c,{key:0},{default:s(()=>[V(y(m.value),1)]),_:1})):x("",!0),a(k,{modelValue:r(e).trx_id,"onUpdate:modelValue":o[1]||(o[1]=l=>r(e).trx_id=l),label:t.$t("Transaction ID"),outlined:"",dense:"","error-messages":r(e).errors.trx_id,class:"mb-5"},null,8,["modelValue","label","error-messages"]),a(D,{modelValue:r(e).description,"onUpdate:modelValue":o[2]||(o[2]=l=>r(e).description=l),label:t.$t("Description"),rows:"3",outlined:"",dense:"","error-messages":r(e).errors.description,class:"mb-5"},null,8,["modelValue","label","error-messages"]),a(T,{type:"submit",loading:r(e).processing},{default:s(()=>[V(y(t.$t("Submit")),1)]),_:1},8,["loading"])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["title"])}}};export{z as default};

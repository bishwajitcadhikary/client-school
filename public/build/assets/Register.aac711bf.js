import{bs as z,r as b,ap as x,o as k,aw as R,a as A,bL as D,y as F,d as a,av as d,w as l,V as U,k as r,aL as _,H as j,b as $,aS as I,bK as L,i as S,g as u,j as M,E as N,ai as B,l as Z,m as H,f as q,aQ as C}from"./app.c74c21f4.js";import K from"./AuthProvider.7cc94e2b.js";import{a as O,b as Q,c as G,d as J}from"./auth-v1-tree.87718d64.js";import{V as W}from"./VForm.64f4569b.js";import{V as X}from"./VRow.51c37cbe.js";import{V as i}from"./VCol.fb68aa0d.js";import{V as w}from"./VTextField.2cf6dc35.js";import{V as Y}from"./VCheckbox.62885493.js";import{a as ee}from"./VLabel.2a4a1171.js";import"./form.655e4f4e.js";/* empty css              */import"./VCounter.bd549793.js";import"./VCheckboxBtn.85849725.js";import"./VSelectionControl.e7494f68.js";const ae=z({props:{sitekey:{type:String,required:!0},size:{type:String,required:!1,default:"normal"},theme:{type:String,required:!1,default:"light"},hl:{type:String,required:!1}},emits:{verify:c=>c!=null&&c!="",expire:null,fail:null},setup(c,{expose:h,emit:t}){const p=c,y=b(null);let n=null;h({execute:function(){window.grecaptcha.execute(n)},reset:function(){window.grecaptcha.reset(n)}});function m(){n=window.grecaptcha.render(y.value,{sitekey:p.sitekey,theme:p.theme,size:p.size,callback:f=>t("verify",f),"expired-callback":()=>t("expire"),"error-callback":()=>t("fail")})}return x(()=>{window.grecaptcha==null?new Promise(f=>{window.recaptchaReady=function(){f()};const g=window.document,v="recaptcha-script",V=g.createElement("script");V.id=v,V.setAttribute("src",`https://www.google.com/recaptcha/api.js?onload=recaptchaReady&render=explicit&hl=${p.hl}`),g.head.appendChild(V)}).then(()=>{m()}):m()}),(f,g)=>(k(),R("div",{ref_key:"recaptchaDiv",ref:y},null,512))}});const te={class:"auth-wrapper d-flex align-center justify-center pa-4"},se={class:"d-flex"},re=["src"],le={class:"text-h5 font-weight-semibold mb-1"},oe={class:"mb-0"},ne={key:0,class:"text-error"},ie={class:"d-flex align-center"},de={class:"me-1"},ue={href:"javascript:void(0)",class:"text-primary"},ce={class:"mx-4"},pe={components:{VueRecaptcha:ae}},qe=Object.assign(pe,{__name:"Register",props:{showRecaptcha:{type:Boolean,default:!1},recaptchaSiteKey:{type:String,default:null}},setup(c){const h=b(!1),t=A({name:null,phone:null,email:null,password:null,password_confirmation:null,terms:!1,recaptcha:null}),p=D(),y=F(()=>p.global.name.value==="light"?O:Q),n=b(!1),m=b(),f=()=>{t.post(route("register"),{preserveScroll:!0,preserveState:!0,onFinish:()=>t.reset("password","password_confirmation")})},g=function(s){t.recaptcha=s,t.errors.recaptcha=null},v=function(){t.recaptcha=null,m.value.reset()},V=function(){t.recaptcha=null,m.value.reset()};return(s,o)=>{const P=$("Head"),E=$("VueRecaptcha"),T=$("Link");return k(),R(j,null,[a(P,{title:s.$t("Register")},null,8,["title"]),d("div",te,[a(U,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:l(()=>[a(I,{class:"justify-center"},{prepend:l(()=>[d("div",se,[d("img",{src:r(L),class:"w-100"},null,8,re)])]),_:1}),a(S,{class:"pt-2"},{default:l(()=>[d("h5",le,u(s.$t("Adventure starts here")),1),d("p",oe,u(s.$t("Make your school management easy and fun!")),1)]),_:1}),a(S,null,{default:l(()=>[a(W,{modelValue:h.value,"onUpdate:modelValue":o[8]||(o[8]=e=>h.value=e),onSubmit:M(f,["prevent"])},{default:l(()=>[a(X,null,{default:l(()=>[a(i,{cols:"12"},{default:l(()=>[a(w,{modelValue:r(t).name,"onUpdate:modelValue":o[0]||(o[0]=e=>r(t).name=e),label:s.$t("Name"),"error-message":r(t).errors.name,rules:[e=>!!e||s.$t("Name is required")],required:""},null,8,["modelValue","label","error-message","rules"])]),_:1}),a(i,{cols:"12"},{default:l(()=>[a(w,{modelValue:r(t).phone,"onUpdate:modelValue":o[1]||(o[1]=e=>r(t).phone=e),label:s.$t("Phone"),"error-message":r(t).errors.phone,rules:[e=>!!e||s.$t("Phone is required")],required:""},null,8,["modelValue","label","error-message","rules"])]),_:1}),a(i,{cols:"12"},{default:l(()=>[a(w,{modelValue:r(t).email,"onUpdate:modelValue":o[2]||(o[2]=e=>r(t).email=e),label:s.$t("Email"),type:"email","error-messages":r(t).errors.email,rules:[e=>!!e||s.$t("Email is required"),e=>/.+@.+\..+/.test(e)||s.$t("Email must be valid"),e=>e.length<=255||s.$t("Email must be less than 255 characters")],required:""},null,8,["modelValue","label","error-messages","rules"])]),_:1}),a(i,{cols:"12"},{default:l(()=>[a(w,{modelValue:r(t).password,"onUpdate:modelValue":o[3]||(o[3]=e=>r(t).password=e),label:s.$t("Password"),type:n.value?"text":"password","append-inner-icon":n.value?"mdi-eye-off-outline":"mdi-eye-outline","error-messages":r(t).errors.password,rules:[e=>!!e||s.$t("Password is required"),e=>e.length>=8||s.$t("Password must be at least 8 characters"),e=>e.length<=255||s.$t("Password must be less than 255 characters"),e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(e)||s.$t("Password must contain at least one uppercase letter, one lowercase letter and one number"),e=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.test(e)||s.$t("Password must contain at least one uppercase letter, one lowercase letter and one number")],min:"8",required:"","onClick:appendInner":o[4]||(o[4]=e=>n.value=!n.value)},null,8,["modelValue","label","type","append-inner-icon","error-messages","rules"])]),_:1}),a(i,{cols:"12"},{default:l(()=>[a(w,{modelValue:r(t).password_confirmation,"onUpdate:modelValue":o[5]||(o[5]=e=>r(t).password_confirmation=e),label:s.$t("Confirm Password"),type:n.value?"text":"password","append-inner-icon":n.value?"mdi-eye-off-outline":"mdi-eye-outline","error-messages":r(t).errors.password_confirmation,min:"8",required:"","onClick:appendInner":o[6]||(o[6]=e=>n.value=!n.value)},null,8,["modelValue","label","type","append-inner-icon","error-messages"])]),_:1}),a(i,{cols:"12"},{default:l(()=>[N(a(E,{ref_key:"vueRecaptchaRef",ref:m,sitekey:c.recaptchaSiteKey,size:"normal",theme:"light",class:"g-recaptcha",onVerify:g,onExpire:v,onFail:V},null,8,["sitekey"]),[[B,c.showRecaptcha]]),r(t).errors.recaptcha?(k(),R("p",ne,u(r(t).errors.recaptcha),1)):Z("",!0)]),_:1}),a(i,{cols:"12"},{default:l(()=>[d("div",ie,[a(Y,{id:"terms",modelValue:r(t).terms,"onUpdate:modelValue":o[7]||(o[7]=e=>r(t).terms=e),inline:"","error-messages":r(t).errors.terms},null,8,["modelValue","error-messages"]),a(ee,{for:"terms",style:{opacity:"1"}},{default:l(()=>[d("span",de,u(s.$t("I agree to")),1),d("a",ue,u(s.$t("privacy policy & terms")),1)]),_:1})])]),_:1}),a(i,{cols:"12"},{default:l(()=>[a(H,{loading:r(t).processing,disabled:!r(t).isDirty&&h.value,type:"submit",block:""},{default:l(()=>[q(u(s.$t("Sign up")),1)]),_:1},8,["loading","disabled"])]),_:1}),a(i,{cols:"12",class:"text-center text-base"},{default:l(()=>[d("span",null,u(s.$t("Already have an account?")),1),a(T,{class:"text-primary ms-2",href:s.route("login")},{default:l(()=>[q(u(s.$t("Sign in instead")),1)]),_:1},8,["href"])]),_:1}),a(i,{cols:"12",class:"d-flex align-center"},{default:l(()=>[a(C),d("span",ce,u(s.$t("or")),1),a(C)]),_:1}),a(i,{cols:"12",class:"text-center"},{default:l(()=>[a(K)]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1}),a(_,{class:"auth-footer-start-tree d-none d-md-block",src:r(G),width:250},null,8,["src"]),a(_,{src:r(J),class:"auth-footer-end-tree d-none d-md-block",width:350},null,8,["src"]),a(_,{class:"auth-footer-mask d-none d-md-block",src:r(y)},null,8,["src"])])],64)}}});export{qe as default};

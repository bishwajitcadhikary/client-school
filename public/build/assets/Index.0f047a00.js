import{aJ as E,aK as j,as as M,aZ as O,aS as R,m as S,H as C,N as G,b as t,aP as T,b0 as H,aG as J,aC as b,ax as v,a as P,w as n,r as K,o as h,h as u,i as N,s as x,t as g,F as D,u as y,aY as Y,g as V,e as Z,aA as q,p as U,f as z,ay as Q,aB as W}from"./app.113290fe.js";import X from"./SettingsDrawerContent.7732970c.js";import{a as F,c as ee,V as te,e as ae}from"./VCard.966d3ba3.js";import{V as se}from"./VTable.9f2f43d0.js";import{V as I}from"./VSwitch.75fc5512.js";import{V as oe}from"./VDialog.e45af3f9.js";import"./VSelectionControl.be129dc8.js";const k=E()({name:"VTooltip",inheritAttrs:!1,props:{id:String,modelValue:Boolean,text:String,location:{type:String,default:"end"},origin:{type:String,default:"auto"},...j({transition:!1})},emits:{"update:modelValue":s=>!0},setup(s,$){let{attrs:c,slots:d}=$;const p=M(s,"modelValue"),{scopeId:w}=O(),f=R(),_=S(()=>s.id||`v-tooltip-${f}`),m=C(),A=S(()=>s.location.split(" ").length>1?s.location:s.location+" center"),L=S(()=>s.origin==="auto"||s.origin==="overlap"||s.origin.split(" ").length>1||s.location.split(" ").length>1?s.origin:s.origin+" center"),e=S(()=>s.transition?s.transition:p.value?"scale-transition":"fade-transition");return G(()=>t(H,T({modelValue:p.value,"onUpdate:modelValue":o=>p.value=o,ref:m,class:["v-tooltip"],id:_.value,transition:e.value,absolute:!0,locationStrategy:"connected",scrollStrategy:"reposition",location:A.value,origin:L.value,"min-width":0,offset:10,scrim:!1,persistent:!0,"open-on-click":!1,"open-on-hover":!0,"close-on-back":!1,role:"tooltip",eager:!0,activatorProps:{"aria-describedby":_.value}},w,c),{activator:d.activator,default:function(){var i;for(var o,l=arguments.length,a=new Array(l),r=0;r<l;r++)a[r]=arguments[r];return(i=(o=d.default)==null?void 0:o.call(d,...a))!=null?i:s.text}})),J({},m)}}),le=u("th",null,null,-1),ne={class:"pa-1",width:"10%"},ge={__name:"Index",props:{languages:{type:Object,default:null}},setup(s){const $=s,c=W("Notification");C([]),C([]);const d=C(!1),p=C(null),w=[b("Name"),b("Code"),b("Status"),b("Default")],f=v({statuses:[...$.languages.data.map(e=>!!e.is_active)]});function _(e,o){v({_method:"PUT",is_active:f.statuses[e]}).post(route("admin.settings.languages.change-status",{language:o}),{onSuccess:l=>{l.props.flash.success&&c.success(l.props.flash.success),l.props.flash.error&&c.error(l.props.flash.error),f.statuses=l.props.languages.data.map(a=>!!a.is_active)}})}const m=v({statuses:[...$.languages.data.map(e=>!!e.is_default)]});function A(e,o){v({_method:"PUT",is_default:f.statuses[e]}).post(route("admin.settings.languages.change-default",{language:o}),{onSuccess:l=>{l.props.flash.success&&c.success(l.props.flash.success),l.props.flash.error&&c.error(l.props.flash.error),m.statuses=l.props.languages.data.map(a=>!!a.is_default)}})}function L(){d.value=!1,v({}).delete(route("admin.settings.languages.destroy",{language:p.value}),{onSuccess:e=>{e.props.flash.success&&c.success(e.props.flash.success),e.props.flash.error&&c.error(e.props.flash.error),f.statuses=e.props.languages.data.map(o=>!!o.is_active),m.statuses=e.props.languages.data.map(o=>!!o.is_default)}})}return(e,o)=>{const l=K("AdminLayout");return h(),P(l,{title:e.$t("Languages"),action:{href:e.route("admin.settings.languages.create"),icon:"mdi-plus",title:e.$t("Add New")}},{"sub-navbar":n(()=>[t(X)]),default:n(()=>[t(q,null,{default:n(()=>[t(F,null,{default:n(()=>[t(se,{class:"table-rounded"},{default:n(()=>[u("thead",null,[u("tr",null,[(h(),N(D,null,x(w,a=>u("th",null,g(a),1)),64)),le])]),u("tbody",null,[(h(!0),N(D,null,x(s.languages.data,(a,r)=>(h(),N("tr",{key:r},[u("td",null,g(a.name),1),u("td",null,g(a.code),1),u("td",null,[t(I,{modelValue:y(f).statuses[r],"onUpdate:modelValue":i=>y(f).statuses[r]=i,color:"primary","hide-detail":"",onChange:i=>_(r,a.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),u("td",null,[t(I,{modelValue:y(m).statuses[r],"onUpdate:modelValue":i=>y(m).statuses[r]=i,color:"primary","hide-details":"",onChange:i=>A(r,a.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),u("td",ne,[t(Y,{rounded:"xl"},{default:n(()=>[t(k,{text:e.$t("Edit Phrases")},{activator:n(({props:i})=>[t(V,T({icon:"mdi-translate"},i,{onClick:B=>e.$inertia.visit(e.route("admin.settings.languages.edit-phrases",{language:a.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),t(k,{text:e.$t("Edit Language")},{activator:n(({props:i})=>[t(V,T({icon:"mdi-clipboard-edit-outline"},i,{onClick:B=>e.$inertia.visit(e.route("admin.settings.languages.edit",{language:a.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),t(k,{text:e.$t("Delete Language")},{activator:n(({props:i})=>[a.is_default?Z("",!0):(h(),P(V,T({key:0,icon:"mdi-delete-outline"},i,{onClick:B=>{d.value=!0,p.value=a.id}}),null,16,["onClick"]))]),_:2},1032,["text"])]),_:2},1024)])]))),128))])]),_:1})]),_:1})]),_:1}),t(oe,{modelValue:d.value,"onUpdate:modelValue":o[1]||(o[1]=a=>d.value=a),"max-width":"290"},{default:n(()=>[t(F,{class:"pa-3"},{default:n(()=>[t(ee,{class:"text-h5 text-center"},{default:n(()=>[U(g(e.$t("Are your sure to delete?")),1)]),_:1}),t(te,{class:"text-center"},{default:n(()=>[u("p",null,g(e.$t("Action cannot be undone")),1)]),_:1}),t(ae,null,{default:n(()=>[t(z),t(V,{onClick:o[0]||(o[0]=a=>d.value=!1)},{default:n(()=>[U(g(e.$t("Cancel")),1)]),_:1}),t(V,{color:"error",onClick:Q(L,["stop"])},{default:n(()=>[U(g(e.$t("Delete")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title","action"])}}};export{ge as default};

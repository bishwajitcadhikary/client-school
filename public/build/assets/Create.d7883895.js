import{a as g,c as V,w as r,b as c,o as C,d as a,V as _,e as $,f as t,g as n,h,i as d,n as i,j as k,k as o,l as y,a9 as m,u as v}from"./app.f9a28c2e.js";import{V as w}from"./VRow.f2858d43.js";import{V as S}from"./VCol.5f9e87bb.js";import{V as N,a as T}from"./VAlert.978d7760.js";import{V as U}from"./VForm.8532fda7.js";import{V as B}from"./VFileInput.6ea26185.js";import{V as F}from"./VTextarea.f40bbc67.js";import{V as L}from"./VContainer.93269294.js";/* empty css              */const q=m("br",null,null,-1),A=m("br",null,null,-1),E={__name:"Create",props:{customers:{type:Object,default:null}},setup(j){const l=g({version:null,database:null,change_log:null});function p(){l.post(route("admin.database-upgrades.store"),{onSuccess:e=>{v().showNotification(e)}})}const b=e=>{l.database=e[0]};return(e,u)=>{const f=c("AppLayout");return C(),V(f,{title:e.$t("New Upgrade"),back:e.route("admin.database-upgrades.index")},{default:r(()=>[a(L,null,{default:r(()=>[a(w,{justify:"center"},{default:r(()=>[a(S,{cols:"12",md:"8"},{default:r(()=>[a(_,null,{default:r(()=>[a($,null,{default:r(()=>[t(n(e.$t("New Upgrade")),1)]),_:1}),a(h,null,{default:r(()=>[t(n(e.$t("Create a new database upgrade")),1)]),_:1}),a(d,null,{default:r(()=>[a(N,{color:"error",variant:"outlined",icon:"mdi-alert-circle-outline"},{default:r(()=>[a(T,null,{default:r(()=>[t(n(e.$t("Warning")),1)]),_:1}),t(" "+n(e.$t("Please make sure you have a backup of your database before upgrading. Database upgrade is irreversible."))+" ",1),q,A,a(i,{href:e.route("admin.database-upgrades.download-backup")},{default:r(()=>[t(n(e.$t("Create Backup")),1)]),_:1},8,["href"])]),_:1})]),_:1}),a(d,null,{default:r(()=>[a(U,{onSubmit:k(p,["prevent"])},{default:r(()=>[a(B,{label:e.$t("MySQL File"),rules:[s=>!!s||e.$t("Database is required")],"error-messages":o(l).errors.database,outlined:"",accept:".sql",class:"mb-5","prepend-inner-icon":"mdi-database","prepend-icon":!1,"onUpdate:modelValue":b},null,8,["label","rules","error-messages"]),a(y,{modelValue:o(l).version,"onUpdate:modelValue":u[0]||(u[0]=s=>o(l).version=s),label:e.$t("Version"),rules:[s=>!!s||e.$t("Version is required")],"error-messages":o(l).errors.version,outlined:"",class:"mb-5"},null,8,["modelValue","label","rules","error-messages"]),a(F,{modelValue:o(l).change_log,"onUpdate:modelValue":u[1]||(u[1]=s=>o(l).change_log=s),label:e.$t("Change Log"),rules:[s=>!!s||e.$t("Change Log is required")],"error-messages":o(l).errors.change_log,outlined:"",class:"mb-5"},null,8,["modelValue","label","rules","error-messages"]),a(i,{type:"submit",color:"primary",loading:o(l).processing,disabled:o(l).processing},{default:r(()=>[t(n(e.$t("Upgrade")),1)]),_:1},8,["loading","disabled"])]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["title","back"])}}};export{E as default};

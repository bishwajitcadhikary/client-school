import{aT as h,aU as x,aV as y,x as E,b5 as S,h as T,b6 as B,b7 as f,H as D,a as m,Q as P,K as A,b8 as R,aQ as $,M as k}from"./app.dfca5287.js";const F=h()({name:"VDialog",inheritAttrs:!1,props:{fullscreen:Boolean,origin:{type:String,default:"center center"},retainFocus:{type:Boolean,default:!0},scrollable:Boolean,modelValue:Boolean,...x({transition:{component:y}})},emits:{"update:modelValue":t=>!0},setup(t,g){let{attrs:b,slots:s}=g;const l=E(t,"modelValue"),{scopeId:p}=S(),a=T();function u(e){var o,n;const c=e.relatedTarget,i=e.target;if(c!==i&&(o=a.value)!=null&&o.contentEl&&(n=a.value)!=null&&n.globalTop&&![document,a.value.contentEl].includes(i)&&!a.value.contentEl.contains(i)){const r=[...a.value.contentEl.querySelectorAll('button, [href], input:not([type="hidden"]), select, textarea, [tabindex]:not([tabindex="-1"])')].filter(v=>!v.hasAttribute("disabled")&&!v.matches('[tabindex="-1"]'));if(!r.length)return;const d=r[0],V=r[r.length-1];c===d?V.focus():d.focus()}}return B&&f(()=>l.value&&t.retainFocus,e=>{e?document.addEventListener("focusin",u):document.removeEventListener("focusin",u)},{immediate:!0}),f(l,async e=>{if(await k(),e){var o;(o=a.value.contentEl)==null||o.focus({preventScroll:!0})}else{var n;(n=a.value.activatorEl)==null||n.focus({preventScroll:!0})}}),D(()=>m(R,A({modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,class:["v-dialog",{"v-dialog--fullscreen":t.fullscreen,"v-dialog--scrollable":t.scrollable}],transition:t.transition,scrollStrategy:"block",ref:a,"aria-role":"dialog","aria-modal":"true",activatorProps:{"aria-haspopup":"dialog","aria-expanded":String(l.value)},"z-index":2400},p,b),{activator:s.activator,default:()=>{var e;return m(P,{root:!0},{default:()=>[(e=s.default)==null?void 0:e.call(s)]})}})),$({},a)}});export{F as V};

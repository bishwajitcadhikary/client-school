import{r as V,aa as $,d as r,w as a,V as g,av as A,M as w,o as u,c as d,a9 as e,g as t,ab as B,S as m,bh as C,f as i,k as _,n as v,O as N,m as h,i as S,az as F,e as z,bi as R,aB as U,p as G,a5 as q,aq as b,u as D}from"./app.4e419244.js";import{_ as E}from"./Pagination.dedb92ff.js";import{_ as L}from"./DataNotFound.eb5df1c3.js";import{V as M}from"./VTooltip.ef233a6c.js";import{V as O}from"./VTable.03c16a94.js";import"./VCol.a910cf49.js";/* empty css              */import"./VRow.54e80b11.js";const H=e("th",null,"Order ID",-1),J={class:"text-center"},K={class:"text-center",width:"15%"},Q={class:"text-center"},W={class:"text-center"},X={colspan:"2"},Y=["src"],se={__name:"Table",props:{orders:{type:Object,default:null}},setup(p){const T=p,y=q("dateFormat"),c=V(!1),s=V(null),j=l=>{c.value=!0,s.value=T.orders.data.find(o=>o.id===l)},I=l=>{b.Inertia.post(route("admin.orders.accept",l),{_method:"PUT"},{preserveState:!0,preserveScroll:!0,only:["orders","flash"],onSuccess:o=>{D().showNotification(o)},onFinish:()=>{c.value=!1}})},P=l=>{b.Inertia.post(route("admin.orders.reject",l),{_method:"PUT"},{preserveState:!0,preserveScroll:!0,only:["orders","flash"],onSuccess:o=>{D().showNotification(o)},onFinish:()=>{c.value=!1}})};return(l,o)=>(u(),$(w,null,[r(g,null,{default:a(()=>[p.orders.data.length?(u(),d(O,{key:0},{default:a(()=>[e("thead",null,[e("tr",null,[H,e("th",null,t(l.$t("Customer")),1),e("th",null,t(l.$t("Plan")),1),e("th",null,t(l.$t("Gateway")),1),e("th",J,t(l.$t("Status")),1),e("th",null,t(l.$t("Order At")),1),e("th",K,t(l.$t("Actions")),1)])]),e("tbody",null,[(u(!0),$(w,null,B(p.orders.data,n=>(u(),$("tr",{key:n.id},[e("td",null,t(n.id),1),e("td",null,t(n.customer.name),1),e("td",null,t(n.plan.name),1),e("td",null,t(n.gateway.name),1),e("td",Q,[n.status==0?(u(),d(m,{key:0,color:"warning",dark:""},{default:a(()=>[r(C,{width:"3",size:"x-small",class:"me-3",color:"warning",indeterminate:""}),i(" "+t(l.$t("Pending")),1)]),_:1})):n.status==1?(u(),d(m,{key:1,color:"primary",dark:"","prepend-icon":"mdi-check"},{default:a(()=>[i(t(l.$t("Accepted")),1)]),_:1})):(u(),d(m,{key:2,color:"error",dark:"","prepend-icon":"mdi-close"},{default:a(()=>[i(t(l.$t("Rejected")),1)]),_:1}))]),e("td",null,t(_(y)(n.created_at)),1),e("td",W,[r(M,{text:l.$t("View Details")},{activator:a(({props:f})=>[r(v,N({variant:"plain",size:"small",icon:"mdi-eye-outline"},f,{onClick:k=>j(n.id)}),null,16,["onClick"])]),_:2},1032,["text"])])]))),128))])]),_:1})):h("",!0),r(S,null,{default:a(()=>[p.orders.data.length?h("",!0):(u(),d(L,{key:0})),r(E,{pagination:p.orders},null,8,["pagination"])]),_:1})]),_:1}),r(A,{modelValue:c.value,"onUpdate:modelValue":o[3]||(o[3]=n=>c.value=n),"max-width":"500",persistent:""},{default:a(()=>[r(g,null,{default:a(()=>[r(F,null,{default:a(()=>[r(z,null,{default:a(()=>[i(t(l.$t("Order Details")),1)]),_:1})]),_:1}),r(S,null,{default:a(()=>[r(O,null,{default:a(()=>{var n,f,k;return[e("tbody",null,[e("tr",null,[e("td",null,t(l.$t("Order ID")),1),e("td",null,t(s.value.id),1)]),e("tr",null,[e("td",null,t(l.$t("Transaction ID")),1),e("td",null,t(s.value.trx_id),1)]),e("tr",null,[e("td",null,t(l.$t("Customer")),1),e("td",null,t((n=s.value.customer)==null?void 0:n.name),1)]),e("tr",null,[e("td",null,t(l.$t("Plan")),1),e("td",null,t((f=s.value.plan)==null?void 0:f.name),1)]),e("tr",null,[e("td",null,t(l.$t("Gateway")),1),e("td",null,t((k=s.value.gateway)==null?void 0:k.name),1)]),e("tr",null,[e("td",null,t(l.$t("Status")),1),e("td",null,[s.value.status==0?(u(),d(m,{key:0,color:"warning",dark:""},{default:a(()=>[r(C,{width:"3",size:"x-small",class:"me-3",color:"warning",indeterminate:""}),i(" "+t(l.$t("Pending")),1)]),_:1})):s.value.status==1?(u(),d(m,{key:1,color:"primary",dark:"","prepend-icon":"mdi-check"},{default:a(()=>[i(t(l.$t("Accepted")),1)]),_:1})):(u(),d(m,{key:2,color:"error",dark:"","prepend-icon":"mdi-close"},{default:a(()=>[i(t(l.$t("Rejected")),1)]),_:1}))])]),e("tr",null,[e("td",null,t(l.$t("Description")),1),e("td",null,t(s.value.description),1)]),e("tr",null,[e("td",null,t(l.$t("Order At")),1),e("td",null,t(_(y)(s.value.created_at)),1)]),e("tr",null,[e("td",X,[r(R,{class:"pa-5"},{default:a(()=>[e("img",{src:s.value.screenshot,alt:""},null,8,Y)]),_:1})])])])]}),_:1})]),_:1}),r(U,{class:"justify-space-between"},{default:a(()=>[s.value.status==0?(u(),d(v,{key:0,color:"primary",variant:"text",onClick:o[0]||(o[0]=n=>I(s.value.id))},{default:a(()=>[i(t(l.$t("Accept")),1)]),_:1})):h("",!0),s.value.status==0?(u(),d(v,{key:1,color:"error",variant:"text",onClick:o[1]||(o[1]=n=>P(s.value.id))},{default:a(()=>[i(t(l.$t("Reject")),1)]),_:1})):h("",!0),r(v,{color:"green-darken-1",variant:"text",onClick:o[2]||(o[2]=n=>c.value=!1)},{default:a(()=>[r(G,null,{default:a(()=>[i("mdi-close")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{se as default};

import{c as i,w as o,b as g,o as l,d as s,V as w,a9 as e,g as a,aa as k,ab as D,S as $,f as d,m as c,n as m,O as p,bh as N,p as z,k as v,ac as A,M as B,a5 as y,aq as F,u as I}from"./app.ddbcd361.js";import{_ as L}from"./Pagination.a040a79b.js";import{V as T}from"./VTable.b83360b9.js";import{V as h}from"./VTooltip.6b9257f2.js";import{V as j}from"./VContainer.bd2dfb17.js";/* empty css              */const E=e("th",null,"#",-1),O={class:"text-center"},P={class:"text-center"},q={class:"text-center",width:"15%"},M={width:"5%"},G={class:"text-center"},H={class:"text-center"},J={class:"text-center"},K={class:"mb-5 mt-5"},Z={__name:"Index",props:{schools:{type:Object,default:null}},setup(_){y("currencyFormat");const V=y("dateFormat"),b=t=>{F.Inertia.post(route("customer.schools.database-creation-retry",{school:t}),{},{preserveState:!0,preserveScroll:!0,onSuccess:u=>{I().showNotification(u)}})};return(t,u)=>{const S=g("AppLayout");return l(),i(S,{title:t.$t("Schools"),actions:[{title:t.$t("New School"),href:t.route("customer.schools.create"),icon:"mdi-plus"}]},{default:o(()=>[s(j,null,{default:o(()=>[s(w,null,{default:o(()=>[s(T,null,{default:o(()=>[e("thead",null,[e("tr",null,[E,e("th",null,a(t.$t("School Name")),1),e("th",null,a(t.$t("Domain")),1),e("th",O,a(t.$t("Database")),1),e("th",P,a(t.$t("Status")),1),e("th",null,a(t.$t("Created At")),1),e("th",q,a(t.$t("Actions")),1)])]),e("tbody",null,[(l(!0),k(B,null,D(_.schools.data,(r,C)=>(l(),k("tr",{key:C},[e("td",M,a(C+1),1),e("td",null,a(r.name),1),e("td",null,a(r.domain),1),e("td",G,[r.database_created==1?(l(),i($,{key:0,class:"ma-2",color:"primary"},{default:o(()=>[d(a(t.$t("Created")),1)]),_:1})):c("",!0),s(h,{text:t.$t("Click to refresh")},{activator:o(({props:n})=>[r.database_created==0?(l(),i(m,p({key:0,class:"ma-2",color:"secondary",rounded:"",size:"small"},n,{onClick:u[0]||(u[0]=f=>t.$inertia.reload())}),{default:o(()=>[d(a(t.$t("Creating"))+" ",1),s(N,{class:"ml-3",width:3,size:"x-small",color:"red",indeterminate:""})]),_:2},1040)):c("",!0)]),_:2},1032,["text"]),s(h,{text:t.$t("Click to retry")},{activator:o(({props:n})=>[r.database_created==2?(l(),i(m,p({key:0,class:"ma-2 text-white",color:"error",rounded:"",size:"small"},n,{onClick:f=>b(r.id)}),{default:o(()=>[d(a(t.$t("Failed"))+" ",1),s(z,null,{default:o(()=>[d("mdi-reload")]),_:1})]),_:2},1040,["onClick"])):c("",!0)]),_:2},1032,["text"])]),e("td",H,[r.is_active?(l(),i($,{key:0,class:"ma-2",color:"primary"},{default:o(()=>[d(a(t.$t("Active")),1)]),_:1})):c("",!0),r.is_active?c("",!0):(l(),i($,{key:1,class:"ma-2",color:"secondary"},{default:o(()=>[d(a(t.$t("Inactive")),1)]),_:1}))]),e("td",null,a(v(V)(r.created_at)),1),e("td",J,[s(h,{text:t.$t("Edit School")},{activator:o(({props:n})=>[s(m,p({variant:"plain",size:"small",icon:"mdi-clipboard-edit-outline"},n,{onClick:f=>t.$inertia.visit(t.route("customer.schools.edit",{school:r.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),s(h,{text:t.$t("Delete School")},{activator:o(({props:n})=>[s(m,p({variant:"plain",size:"small",icon:"mdi-delete-outline"},n,{onClick:f=>v(A)().showDialog(t.route("customer.schools.destroy",{school:r.id}))}),null,16,["onClick"])]),_:2},1032,["text"])])]))),128))])]),_:1}),e("div",K,[s(L,{pagination:_.schools},null,8,["pagination"])])]),_:1})]),_:1})]),_:1},8,["title","actions"])}}};export{Z as default};

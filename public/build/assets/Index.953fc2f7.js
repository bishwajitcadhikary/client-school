import{c as n,w as o,b as w,o as i,d as l,V as D,a9 as e,g as a,aa as k,ab as N,S as f,f as d,m as c,n as u,O as m,bh as z,p as A,k as y,ac as B,M as F,a5 as V,aq as I,u as L}from"./app.c257832e.js";import{_ as T}from"./Pagination.c1b51cb5.js";import{V as j}from"./VTable.9f42b3fc.js";import{V as h}from"./VTooltip.ad2fe071.js";import{V as E}from"./VContainer.77648bf1.js";/* empty css              */const O=e("th",null,"#",-1),P={class:"text-center"},q={class:"text-center"},M={class:"text-center",width:"15%"},G={width:"5%"},H=["href"],J={class:"text-center"},K={class:"text-center"},Q={class:"text-center"},R={class:"mb-5 mt-5"},tt={__name:"Index",props:{schools:{type:Object,default:null}},setup(v){V("currencyFormat");const b=V("dateFormat"),S=t=>{I.Inertia.post(route("admin.schools.database-creation-retry",{school:t}),{},{preserveState:!0,preserveScroll:!0,onSuccess:p=>{L().showNotification(p)}})};return(t,p)=>{const g=w("AppLayout");return i(),n(g,{title:t.$t("Schools"),actions:[{title:t.$t("New School"),href:t.route("admin.schools.create"),icon:"mdi-plus"}]},{default:o(()=>[l(E,null,{default:o(()=>[l(D,null,{default:o(()=>[l(j,null,{default:o(()=>[e("thead",null,[e("tr",null,[O,e("th",null,a(t.$t("School Name")),1),e("th",null,a(t.$t("Domain")),1),e("th",null,a(t.$t("Customer")),1),e("th",P,a(t.$t("Database")),1),e("th",q,a(t.$t("Status")),1),e("th",null,a(t.$t("Created At")),1),e("th",M,a(t.$t("Actions")),1)])]),e("tbody",null,[(i(!0),k(F,null,N(v.schools.data,(s,C)=>{var _;return i(),k("tr",{key:C},[e("td",G,a(C+1),1),e("td",null,a(s.name),1),e("td",null,[e("a",{href:"https://"+s.domain,target:"_blank"},a(s.domain),9,H)]),e("td",null,a((_=s.customer)==null?void 0:_.name),1),e("td",J,[s.database_created==1?(i(),n(f,{key:0,class:"ma-2",color:"primary"},{default:o(()=>[d(a(t.$t("Created")),1)]),_:1})):c("",!0),l(h,{text:t.$t("Click to refresh")},{activator:o(({props:r})=>[s.database_created==0?(i(),n(u,m({key:0,class:"ma-2",color:"secondary",rounded:"",size:"small"},r,{onClick:p[0]||(p[0]=$=>t.$inertia.reload())}),{default:o(()=>[d(a(t.$t("Creating"))+" ",1),l(z,{class:"ml-3",width:3,size:"x-small",color:"red",indeterminate:""})]),_:2},1040)):c("",!0)]),_:2},1032,["text"]),l(h,{text:t.$t("Click to retry")},{activator:o(({props:r})=>[s.database_created==2?(i(),n(u,m({key:0,class:"ma-2 text-white",color:"error",rounded:"",size:"small"},r,{onClick:$=>S(s.id)}),{default:o(()=>[d(a(t.$t("Failed"))+" ",1),l(A,null,{default:o(()=>[d("mdi-reload")]),_:1})]),_:2},1040,["onClick"])):c("",!0)]),_:2},1032,["text"])]),e("td",K,[s.is_active?(i(),n(f,{key:0,class:"ma-2",color:"primary"},{default:o(()=>[d(a(t.$t("Active")),1)]),_:1})):c("",!0),s.is_active?c("",!0):(i(),n(f,{key:1,class:"ma-2",color:"secondary"},{default:o(()=>[d(a(t.$t("Inactive")),1)]),_:1}))]),e("td",null,a(y(b)(s.created_at)),1),e("td",Q,[l(h,{text:t.$t("View School")},{activator:o(({props:r})=>[l(u,m({variant:"plain",size:"small",icon:"mdi-eye-outline"},r,{onClick:$=>t.$inertia.visit(t.route("admin.schools.show",{school:s.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),l(h,{text:t.$t("Edit School")},{activator:o(({props:r})=>[l(u,m({variant:"plain",size:"small",icon:"mdi-clipboard-edit-outline"},r,{onClick:$=>t.$inertia.visit(t.route("admin.schools.edit",{school:s.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),l(h,{text:t.$t("Delete School")},{activator:o(({props:r})=>[l(u,m({variant:"plain",size:"small",icon:"mdi-delete-outline"},r,{onClick:$=>y(B)().showDialog(t.route("admin.schools.destroy",{school:s.id}))}),null,16,["onClick"])]),_:2},1032,["text"])])])}),128))])]),_:1}),e("div",R,[l(T,{pagination:v.schools},null,8,["pagination"])])]),_:1})]),_:1})]),_:1},8,["title","actions"])}}};export{tt as default};

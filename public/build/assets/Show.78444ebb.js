import{r as C,a as U,aw as O,d as t,w as e,aO as q,H as R,b as X,o as d,V as $,i as V,c as m,aL as z,aP as H,l as c,av as n,g as s,aQ as Q,U as F,W as i,aR as p,f as l,Y as S,m as y,n as L,aS as _,T as Y,aT as A,e as T,j as G,k as v,t as D,aU as J,aV as K,a1 as Z,u as N}from"./app.c74c21f4.js";import{V as ee}from"./VContainer.9871394f.js";import{V as I}from"./VRow.51c37cbe.js";import{V as w}from"./VCol.fb68aa0d.js";import{V as te,a as x,b as ae,c as B}from"./VWindowItem.98b5c47d.js";import{V as se,a as le}from"./VAlert.e9ebd06b.js";import{V as ue}from"./VForm.64f4569b.js";import{V as E}from"./VTextField.2cf6dc35.js";/* empty css              */import"./form.655e4f4e.js";import"./VCounter.bd549793.js";import"./VLabel.2a4a1171.js";const oe={class:"text-h6 mt-4"},ne={class:"text-h6"},re={class:"text-sm"},de={class:"text-body-2"},ie={class:"text-sm"},me={class:"text-body-2"},ce={class:"text-sm"},fe={class:"text-body-2"},ve={class:"text-sm"},pe={class:"text-body-2"},Ve={class:"text-sm"},ye={class:"text-body-2"},we={class:"text-sm"},he={class:"text-body-2"},$e={class:"text-sm"},be={class:"text-body-2"},ge={class:"text-sm"},ke={class:"text-body-2"},xe={__name:"Show",props:{customer:{type:Object,required:!0,default:null},expiration:{type:String,default:null},percent:{type:String,default:null}},setup(u){const P=u;Z("currencyFormat");const b=C("overview"),g=C(!1),k=C(!1),h=C(!1),f=U({_method:"PUT",password:null,password_confirmation:null}),j=()=>{f.post(route("admin.customers.change-password",{customer:P.customer.id}),{preserveState:!0,preserveScroll:!0,onSuccess:a=>{N().showNotification(a),f.reset()}})},W=()=>{U({_method:"PUT"}).post(route("admin.customers.toggle-suspend",{customer:P.customer.id}),{preserveState:!1,onSuccess:a=>N().showNotification(a),onFinish:a=>{h.value=!1}})};return(a,o)=>{const M=X("AppLayout");return d(),O(R,null,[t(M,{title:u.customer.name},{default:e(()=>[t(ee,null,{default:e(()=>[t(I,null,{default:e(()=>[t(w,{cols:"12",lg:"4",md:"5"},{default:e(()=>[t(I,null,{default:e(()=>[t(w,{cols:"12"},{default:e(()=>[t($,null,{default:e(()=>[t(V,{class:"text-center pt-15"},{default:e(()=>[u.customer.avatar?(d(),m(H,{key:0,rounded:"sm",size:"120",variant:"tonal"},{default:e(()=>[t(z,{src:u.customer.avatar},null,8,["src"])]),_:1})):c("",!0),n("h6",oe,s(u.customer.name),1)]),_:1}),t(V,null,{default:e(()=>[n("h6",ne,s(a.$t("Details")),1),t(Q),t(F,null,{default:e(()=>[t(i,null,{default:e(()=>[t(p,null,{default:e(()=>[n("h6",re,[l(s(a.$t("Username:"))+" ",1),n("span",de,s(u.customer.username),1)])]),_:1})]),_:1}),t(i,null,{default:e(()=>[t(p,null,{default:e(()=>[n("h6",ie,[l(s(a.$t("Email:"))+" ",1),n("span",me,s(u.customer.email),1)])]),_:1})]),_:1}),t(i,null,{default:e(()=>[t(p,null,{default:e(()=>[n("h6",ce,[l(s(a.$t("Status:"))+" ",1),n("span",fe,[u.customer.status==1?(d(),m(S,{key:0,color:"primary",variant:"tonal"},{default:e(()=>[l(s(a.$t("Active")),1)]),_:1})):c("",!0),u.customer.status==0?(d(),m(S,{key:1,color:"secondary",variant:"tonal"},{default:e(()=>[l(s(a.$t("Inactive")),1)]),_:1})):c("",!0),u.customer.status==2?(d(),m(S,{key:2,class:"text-white",color:"red",variant:"tonal"},{default:e(()=>[l(s(a.$t("Inactive")),1)]),_:1})):c("",!0)])])]),_:1})]),_:1}),t(i,null,{default:e(()=>[t(p,null,{default:e(()=>[n("h6",ve,[l(s(a.$t("Contact:"))+" ",1),n("span",pe,s(u.customer.phone),1)])]),_:1})]),_:1}),u.customer.currency?(d(),m(i,{key:0},{default:e(()=>[t(p,null,{default:e(()=>[n("h6",Ve,[l(s(a.$t("Currency:"))+" ",1),n("span",ye,s(u.customer.currency.name),1)])]),_:1})]),_:1})):c("",!0),u.customer.language?(d(),m(i,{key:1},{default:e(()=>[t(p,null,{default:e(()=>[n("h6",we,[l(s(a.$t("Language:"))+" ",1),n("span",he,s(u.customer.language.name),1)])]),_:1})]),_:1})):c("",!0),u.customer.country?(d(),m(i,{key:2},{default:e(()=>[t(p,null,{default:e(()=>[n("h6",$e,[l(s(a.$t("Country:"))+" ",1),n("span",be,s(u.customer.country),1)])]),_:1})]),_:1})):c("",!0),u.customer.website?(d(),m(i,{key:3},{default:e(()=>[t(p,null,{default:e(()=>[n("h6",ge,[l(s(a.$t("Website:"))+" ",1),n("span",ke,s(u.customer.website),1)])]),_:1})]),_:1})):c("",!0)]),_:1})]),_:1}),t(V,{class:"d-flex justify-center"},{default:e(()=>[t(y,{class:"me-3",onClick:o[0]||(o[0]=r=>a.$inertia.visit(a.route("admin.customers.edit",{customer:u.customer.id})))},{default:e(()=>[l(s(a.$t("Edit")),1)]),_:1}),t(y,{color:u.customer.status!==2?"error":"success",onClick:o[1]||(o[1]=r=>h.value=!0)},{default:e(()=>[l(s(u.customer.status==2?a.$t("Activate"):a.$t("Suspend")),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(w,{cols:"12",lg:"8",md:"7"},{default:e(()=>[t($,{class:"mb-5"},{default:e(()=>[t(te,{modelValue:b.value,"onUpdate:modelValue":o[2]||(o[2]=r=>b.value=r),"background-color":"deep-purple-darken-4","center-active":""},{default:e(()=>[t(x,{value:"overview"},{default:e(()=>[t(L,{class:"mr-2"},{default:e(()=>[l(" mdi-user ")]),_:1}),l(" "+s(a.$t("Overview")),1)]),_:1}),t(x,{value:"security"},{default:e(()=>[t(L,{class:"mr-2"},{default:e(()=>[l(" mdi-lock ")]),_:1}),l(" "+s(a.$t("Security")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(ae,{modelValue:b.value,"onUpdate:modelValue":o[7]||(o[7]=r=>b.value=r)},{default:e(()=>[t(B,{value:"overview"},{default:e(()=>[t($,null,{default:e(()=>[t(_,null,{append:e(()=>[t(y,{"append-icon":"mdi-arrow-down",color:"primary"},{default:e(()=>[l(s(a.$t("Export"))+" ",1),t(Y,{activator:"parent"},{default:e(()=>[t(F,null,{default:e(()=>[t(i,{key:"pdf",value:"pdf"},{default:e(()=>[t(A,null,{default:e(()=>[l("PDF")]),_:1})]),_:1}),t(i,{key:"xlsx",value:"xlsx"},{default:e(()=>[t(A,null,{default:e(()=>[l("XLSX")]),_:1})]),_:1}),t(i,{key:"csv",value:"csv"},{default:e(()=>[t(A,null,{default:e(()=>[l("CSV")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),default:e(()=>[t(T,null,{default:e(()=>[l(s(a.$t("Schools")),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(B,{value:"security"},{default:e(()=>[t($,null,{default:e(()=>[t(_,null,{default:e(()=>[t(T,null,{default:e(()=>[l(s(a.$t("Change Password")),1)]),_:1})]),_:1}),t(V,null,{default:e(()=>[t(se,{class:"mb-6",color:"warning",icon:"mdi-warning"},{default:e(()=>[t(le,null,{default:e(()=>[l(s(a.$t("Ensure that these requirements are met")),1)]),_:1}),n("span",null,s(a.$t("Minimum 8 characters long, uppercase & symbol")),1)]),_:1}),t(ue,{onSubmit:G(j,["prevent"])},{default:e(()=>[t(I,null,{default:e(()=>[t(w,{cols:"12",md:"6"},{default:e(()=>[t(E,{modelValue:v(f).password,"onUpdate:modelValue":o[3]||(o[3]=r=>v(f).password=r),"append-inner-icon":g.value?"mdi-eye":"mdi-eye-off","error-messages":v(f).errors.password,label:a.$t("Password"),type:g.value?"text":"password",hint:"At least 8 characters","onClick:appendInner":o[4]||(o[4]=r=>g.value=!g.value)},null,8,["modelValue","append-inner-icon","error-messages","label","type"])]),_:1}),t(w,{cols:"12",md:"6"},{default:e(()=>[t(E,{modelValue:v(f).password_confirmation,"onUpdate:modelValue":o[5]||(o[5]=r=>v(f).password_confirmation=r),"append-inner-icon":k.value?"mdi-eye":"mdi-eye-off","error-messages":v(f).errors.password_confirmation,label:a.$t("Confirm Password"),type:k.value?"text":"password","onClick:appendInner":o[6]||(o[6]=r=>k.value=!k.value)},null,8,["modelValue","append-inner-icon","error-messages","label","type"])]),_:1}),t(w,{cols:"12"},{default:e(()=>[t(y,{loading:v(f).processing,type:"submit"},{default:e(()=>[l(s(a.$t("Change Password")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["title"]),t(q,{modelValue:h.value,"onUpdate:modelValue":o[9]||(o[9]=r=>h.value=r),persistent:"","max-width":"30%"},{default:e(()=>[t($,null,{default:e(()=>[t(_,null,{default:e(()=>[t(T,null,{default:e(()=>[l(s(a.$t("Are you sure to :status the customer",{status:u.customer.status==2?v(D)("activate"):v(D)("suspend")})),1)]),_:1})]),_:1}),u.customer.status!==2?(d(),m(V,{key:0},{default:e(()=>[l(s(a.$t("Customer unable to access the account after the suspension")),1)]),_:1})):c("",!0),u.customer.status==2?(d(),m(V,{key:1},{default:e(()=>[l(s(a.$t("After activation user can access the account")),1)]),_:1})):c("",!0),t(J,null,{default:e(()=>[t(K),t(y,{color:"primary",text:"",onClick:o[8]||(o[8]=r=>h.value=!1)},{default:e(()=>[l(s(a.$t("Cancel")),1)]),_:1}),t(y,{color:"error",text:"",onClick:W},{default:e(()=>[l(s(u.customer.status==2?a.$t("Activate"):a.$t("Suspend")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};export{xe as default};

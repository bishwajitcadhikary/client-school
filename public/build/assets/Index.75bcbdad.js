import{_ as j}from"./Pagination.20af90f5.js";import{r as S,aa as $,d as n,w as a,au as N,M as w,b as F,o as r,V as b,e as g,a9 as t,g as e,ab as z,c as o,f as d,S as u,m as h,b5 as D,O as v,n as p,p as R,k as A,az as L,i as E,b6 as G,aB as M,a5 as U}from"./app.34b1b1ca.js";import{V as q}from"./VRow.dd9aedbb.js";import{V as I}from"./VCol.40d1f0dc.js";import{V as O}from"./VTable.477e4e67.js";import{V as k}from"./VTooltip.ce7deb60.js";/* empty css              */const H={class:"mb-0"},J=t("th",null,"#",-1),K={class:"text-center"},Q={class:"text-center"},W={class:"text-center",width:"15%"},X={width:"5%"},Y={class:"text-center"},Z={class:"text-center"},x={class:"text-center"},tt={class:"mb-5 mt-5"},et={class:"text-center"},lt={class:"text-center"},at={class:"text-center"},nt={colspan:"2"},st=["src"],ft={__name:"Index",props:{orders:{type:Object,default:null},schools:{type:Object,default:null}},setup(y){const B=y,V=U("dateFormat"),C=S(!1),i=S(null),P=l=>{C.value=!0,i.value=B.orders.data.find(c=>c.id===l)};return(l,c)=>{const T=F("AppLayout");return r(),$(w,null,[n(T,{title:l.$t("Dashboard")},{default:a(()=>[n(q,{class:"match-height"},{default:a(()=>[n(I,{cols:"12",md:"6"},{default:a(()=>[n(b,null,{default:a(()=>[n(g,null,{default:a(()=>[t("h3",H,e(l.$t("Schools")),1),n(O,null,{default:a(()=>[t("thead",null,[t("tr",null,[J,t("th",null,e(l.$t("School Name")),1),t("th",null,e(l.$t("Domain")),1),t("th",K,e(l.$t("Database")),1),t("th",Q,e(l.$t("Status")),1),t("th",null,e(l.$t("Created At")),1),t("th",W,e(l.$t("Actions")),1)])]),t("tbody",null,[(r(!0),$(w,null,z(y.schools.data,(s,f)=>(r(),$("tr",{key:f},[t("td",X,e(f+1),1),t("td",null,e(s.name),1),t("td",null,e(s.domain),1),t("td",Y,[s.database_created==1?(r(),o(u,{key:0,class:"ma-2",color:"primary"},{default:a(()=>[d(e(l.$t("Created")),1)]),_:1})):h("",!0),n(k,{text:l.$t("Click to refresh")},{activator:a(({props:m})=>[s.database_created==0?(r(),o(p,v({key:0,class:"ma-2",color:"secondary",rounded:"",size:"small"},m,{onClick:c[0]||(c[0]=_=>l.$inertia.reload())}),{default:a(()=>[d(e(l.$t("Creating"))+" ",1),n(D,{class:"ml-3",width:3,size:"x-small",color:"red",indeterminate:""})]),_:2},1040)):h("",!0)]),_:2},1032,["text"]),n(k,{text:l.$t("Click to retry")},{activator:a(({props:m})=>[s.database_created==2?(r(),o(p,v({key:0,class:"ma-2 text-white",color:"error",rounded:"",size:"small"},m,{onClick:_=>l.retryDatabaseCreation(s.id)}),{default:a(()=>[d(e(l.$t("Failed"))+" ",1),n(R,null,{default:a(()=>[d("mdi-reload")]),_:1})]),_:2},1040,["onClick"])):h("",!0)]),_:2},1032,["text"])]),t("td",Z,[s.is_active?(r(),o(u,{key:0,class:"ma-2",color:"primary"},{default:a(()=>[d(e(l.$t("Active")),1)]),_:1})):h("",!0),s.is_active?h("",!0):(r(),o(u,{key:1,class:"ma-2",color:"secondary"},{default:a(()=>[d(e(l.$t("Inactive")),1)]),_:1}))]),t("td",null,e(A(V)(s.created_at)),1),t("td",x,[n(k,{text:l.$t("Edit School")},{activator:a(({props:m})=>[n(p,v({variant:"plain",size:"small",icon:"mdi-clipboard-edit-outline"},m,{onClick:_=>l.$inertia.visit(l.route("customer.schools.edit",{school:s.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),n(k,{text:l.$t("Delete School")},{activator:a(({props:m})=>[n(p,v({variant:"plain",size:"small",icon:"mdi-delete-outline"},m,{onClick:_=>l.useDeleteDialogStore().showDialog(l.route("customer.schools.destroy",{school:s.id}))}),null,16,["onClick"])]),_:2},1032,["text"])])]))),128))])]),_:1}),t("div",tt,[n(j,{pagination:y.schools},null,8,["pagination"])])]),_:1})]),_:1})]),_:1}),n(I,{cols:"12",md:"6"},{default:a(()=>[n(b,null,{default:a(()=>[n(g,null,{default:a(()=>[d(e(l.$t("Orders")),1)]),_:1}),n(O,{class:"table-rounded","hide-default-footer":""},{default:a(()=>[t("thead",null,[t("tr",null,[t("th",null,e(l.$t("Order ID")),1),t("th",null,e(l.$t("Plan")),1),t("th",null,e(l.$t("Interval")),1),t("th",null,e(l.$t("Gateway")),1),t("th",et,e(l.$t("Status")),1),t("th",null,e(l.$t("Order At")),1),t("th",null,e(l.$t("Actions")),1)])]),t("tbody",null,[(r(!0),$(w,null,z(y.orders.data,s=>(r(),$("tr",{key:s.id},[t("td",null,e(s.id),1),t("td",null,e(s.plan.name),1),t("td",null,e(s.interval),1),t("td",null,e(s.gateway.name),1),t("td",lt,[s.status==0?(r(),o(u,{key:0,color:"warning",dark:""},{default:a(()=>[n(D,{width:"3",size:"x-small",class:"me-3",color:"warning",indeterminate:""}),d(" "+e(l.$t("Pending")),1)]),_:1})):s.status==1?(r(),o(u,{key:1,color:"primary",dark:"","prepend-icon":"mdi-check"},{default:a(()=>[d(e(l.$t("Accepted")),1)]),_:1})):(r(),o(u,{key:2,color:"error",dark:"","prepend-icon":"mdi-close"},{default:a(()=>[d(e(l.$t("Rejected")),1)]),_:1}))]),t("td",null,e(A(V)(s.created_at)),1),t("td",at,[n(k,{text:l.$t("View Details")},{activator:a(({props:f})=>[n(p,v({variant:"plain",size:"small",icon:"mdi-eye-outline"},f,{onClick:m=>P(s.id)}),null,16,["onClick"])]),_:2},1032,["text"])])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["title"]),n(N,{modelValue:C.value,"onUpdate:modelValue":c[2]||(c[2]=s=>C.value=s),"max-width":"500",persistent:""},{default:a(()=>[n(b,null,{default:a(()=>[n(L,null,{default:a(()=>[n(g,null,{default:a(()=>[d(e(l.$t("Order Details")),1)]),_:1})]),_:1}),n(E,null,{default:a(()=>[n(O,null,{default:a(()=>{var s,f;return[t("tbody",null,[t("tr",null,[t("td",null,e(l.$t("Order ID")),1),t("td",null,e(i.value.id),1)]),t("tr",null,[t("td",null,e(l.$t("Transaction ID")),1),t("td",null,e(i.value.trx_id),1)]),t("tr",null,[t("td",null,e(l.$t("Plan")),1),t("td",null,e((s=i.value.plan)==null?void 0:s.name),1)]),t("tr",null,[t("td",null,e(l.$t("Gateway")),1),t("td",null,e((f=i.value.gateway)==null?void 0:f.name),1)]),t("tr",null,[t("td",null,e(l.$t("Status")),1),t("td",null,[i.value.status==0?(r(),o(u,{key:0,color:"warning",dark:""},{default:a(()=>[n(D,{width:"3",size:"x-small",class:"me-3",color:"warning",indeterminate:""}),d(" "+e(l.$t("Pending")),1)]),_:1})):i.value.status==1?(r(),o(u,{key:1,color:"primary",dark:"","prepend-icon":"mdi-check"},{default:a(()=>[d(e(l.$t("Accepted")),1)]),_:1})):(r(),o(u,{key:2,color:"error",dark:"","prepend-icon":"mdi-close"},{default:a(()=>[d(e(l.$t("Rejected")),1)]),_:1}))])]),t("tr",null,[t("td",null,e(l.$t("Description")),1),t("td",null,e(i.value.description),1)]),t("tr",null,[t("td",null,e(l.$t("Order At")),1),t("td",null,e(A(V)(i.value.created_at)),1)]),t("tr",null,[t("td",nt,[n(G,{class:"pa-5"},{default:a(()=>[t("img",{src:i.value.screenshot,alt:""},null,8,st)]),_:1})])])])]}),_:1})]),_:1}),n(M,null,{default:a(()=>[n(p,{color:"primary",variant:"text",block:"",onClick:c[1]||(c[1]=s=>C.value=!1)},{default:a(()=>[d(e(l.$t("Close")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};export{ft as default};

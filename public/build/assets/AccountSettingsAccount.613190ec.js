import{a as Y,r as v,c as Z,w as I,o as N,d as E,V as x,i as C,j as P,k as u,aa as q,g as O,m as U,l as V,n as F,f as R,a9 as $,t as ee,u as H,aq as te}from"./app.bbada7ee.js";import{r as p}from"./rules.217e6c0b.js";import{v as ae,p as ie,a as le}from"./filepond-plugin-image-preview.min.6ccf6abb.js";import{V as h}from"./VRow.3d8628ae.js";import{V as oe}from"./VForm.a9a30d19.js";import{V as g}from"./VCol.0ac1e7d0.js";import{V as b}from"./VSelect.d2b0837d.js";import{V as ne,a as se}from"./VAlert.73a15395.js";import{V as re}from"./VCheckbox.fcb3898f.js";/* empty css              */import"./VCheckboxBtn.f552187c.js";import"./VSelectionControl.082103a1.js";/*!
 * FilePondPluginImageCrop 2.0.6
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const W=d=>/^image/.test(d.type),X=({addFilter:d,utils:m})=>{const{Type:i,isFile:e,getNumericAspectRatioFromString:A}=m,n=(l,a)=>!(!W(l.file)||!a("GET_ALLOW_IMAGE_CROP")),s=l=>typeof l=="object",o=l=>typeof l=="number",c=(l,a)=>l.setMetadata("crop",Object.assign({},l.getMetadata("crop"),a));return d("DID_CREATE_ITEM",(l,{query:a})=>{l.extend("setImageCrop",t=>{if(!(!n(l,a)||!s(center)))return l.setMetadata("crop",t),t}),l.extend("setImageCropCenter",t=>{if(!(!n(l,a)||!s(t)))return c(l,{center:t})}),l.extend("setImageCropZoom",t=>{if(!(!n(l,a)||!o(t)))return c(l,{zoom:Math.max(1,t)})}),l.extend("setImageCropRotation",t=>{if(!(!n(l,a)||!o(t)))return c(l,{rotation:t})}),l.extend("setImageCropFlip",t=>{if(!(!n(l,a)||!s(t)))return c(l,{flip:t})}),l.extend("setImageCropAspectRatio",t=>{if(!n(l,a)||typeof t>"u")return;const r=l.getMetadata("crop"),_=A(t),f={center:{x:.5,y:.5},flip:r?Object.assign({},r.flip):{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:_};return l.setMetadata("crop",f),f})}),d("DID_LOAD_ITEM",(l,{query:a})=>new Promise((t,r)=>{const _=l.file;if(!e(_)||!W(_)||!a("GET_ALLOW_IMAGE_CROP")||l.getMetadata("crop"))return t(l);const T=a("GET_IMAGE_CROP_ASPECT_RATIO");l.setMetadata("crop",{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:T?A(T):null}),t(l)})),{options:{allowImageCrop:[!0,i.BOOLEAN],imageCropAspectRatio:[null,i.STRING]}}},ue=typeof window<"u"&&typeof window.document<"u";ue&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:X}));/*!
 * FilePondPluginImageExifOrientation 1.0.11
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const de=d=>/^image\/jpeg/.test(d.type),M={JPEG:65496,APP1:65505,EXIF:1165519206,TIFF:18761,Orientation:274,Unknown:65280},G=(d,m,i=!1)=>d.getUint16(m,i),k=(d,m,i=!1)=>d.getUint32(m,i),Ee=d=>new Promise((m,i)=>{const e=new FileReader;e.onload=function(A){const n=new DataView(A.target.result);if(G(n,0)!==M.JPEG){m(-1);return}const s=n.byteLength;let o=2;for(;o<s;){const c=G(n,o);if(o+=2,c===M.APP1){if(k(n,o+=2)!==M.EXIF)break;const l=G(n,o+=6)===M.TIFF;o+=k(n,o+4,l);const a=G(n,o,l);o+=2;for(let t=0;t<a;t++)if(G(n,o+t*12,l)===M.Orientation){m(G(n,o+t*12+8,l));return}}else{if((c&M.Unknown)!==M.Unknown)break;o+=G(n,o)}}m(-1)},e.readAsArrayBuffer(d.slice(0,64*1024))}),me=(()=>typeof window<"u"&&typeof window.document<"u")(),Ae=()=>me,ce="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=";let y;const z=Ae()?new Image:{};z.onload=()=>y=z.naturalWidth>z.naturalHeight;z.src=ce;const Ie=()=>y,j=({addFilter:d,utils:m})=>{const{Type:i,isFile:e}=m;return d("DID_LOAD_ITEM",(A,{query:n})=>new Promise((s,o)=>{const c=A.file;if(!e(c)||!de(c)||!n("GET_ALLOW_IMAGE_EXIF_ORIENTATION")||!Ie())return s(A);Ee(c).then(l=>{A.setMetadata("exif",{orientation:l}),s(A)})})),{options:{allowImageExifOrientation:[!0,i.BOOLEAN]}}},_e=typeof window<"u"&&typeof window.document<"u";_e&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:j}));/*!
 * FilePondPluginImageValidateSize 1.2.7
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const ge=d=>/^image/.test(d.type),fe=d=>new Promise((m,i)=>{const e=document.createElement("img");e.src=URL.createObjectURL(d),e.onerror=n=>{clearInterval(A),i(n)};const A=setInterval(()=>{e.naturalWidth&&e.naturalHeight&&(clearInterval(A),URL.revokeObjectURL(e.src),m({width:e.naturalWidth,height:e.naturalHeight}))},1)}),J=({addFilter:d,utils:m})=>{const{Type:i,replaceInString:e,isFile:A}=m,n=(s,o,c)=>new Promise((l,a)=>{const t=({width:r,height:_})=>{const{minWidth:f,minHeight:T,maxWidth:S,maxHeight:L,minResolution:w,maxResolution:B}=o,D=r*_;r<f||_<T?a("TOO_SMALL"):r>S||_>L?a("TOO_BIG"):w!==null&&D<w?a("TOO_LOW_RES"):B!==null&&D>B&&a("TOO_HIGH_RES"),l()};fe(s).then(t).catch(()=>{if(!c){a();return}c(s,o).then(t).catch(()=>a())})});return d("LOAD_FILE",(s,{query:o})=>new Promise((c,l)=>{if(!A(s)||!ge(s)||!o("GET_ALLOW_IMAGE_VALIDATE_SIZE")){c(s);return}const a={minWidth:o("GET_IMAGE_VALIDATE_SIZE_MIN_WIDTH"),minHeight:o("GET_IMAGE_VALIDATE_SIZE_MIN_HEIGHT"),maxWidth:o("GET_IMAGE_VALIDATE_SIZE_MAX_WIDTH"),maxHeight:o("GET_IMAGE_VALIDATE_SIZE_MAX_HEIGHT"),minResolution:o("GET_IMAGE_VALIDATE_SIZE_MIN_RESOLUTION"),maxResolution:o("GET_IMAGE_VALIDATE_SIZE_MAX_RESOLUTION")},t=o("GET_IMAGE_VALIDATE_SIZE_MEASURE");n(s,a,t).then(()=>{c(s)}).catch(r=>{const _=r?{TOO_SMALL:{label:o("GET_IMAGE_VALIDATE_SIZE_LABEL_IMAGE_SIZE_TOO_SMALL"),details:o("GET_IMAGE_VALIDATE_SIZE_LABEL_EXPECTED_MIN_SIZE")},TOO_BIG:{label:o("GET_IMAGE_VALIDATE_SIZE_LABEL_IMAGE_SIZE_TOO_BIG"),details:o("GET_IMAGE_VALIDATE_SIZE_LABEL_EXPECTED_MAX_SIZE")},TOO_LOW_RES:{label:o("GET_IMAGE_VALIDATE_SIZE_LABEL_IMAGE_RESOLUTION_TOO_LOW"),details:o("GET_IMAGE_VALIDATE_SIZE_LABEL_EXPECTED_MIN_RESOLUTION")},TOO_HIGH_RES:{label:o("GET_IMAGE_VALIDATE_SIZE_LABEL_IMAGE_RESOLUTION_TOO_HIGH"),details:o("GET_IMAGE_VALIDATE_SIZE_LABEL_EXPECTED_MAX_RESOLUTION")}}[r]:{label:o("GET_IMAGE_VALIDATE_SIZE_LABEL_FORMAT_ERROR"),details:s.type};l({status:{main:_.label,sub:r?e(_.details,a):_.details}})})})),{options:{allowImageValidateSize:[!0,i.BOOLEAN],imageValidateSizeLabelFormatError:["Image type not supported",i.STRING],imageValidateSizeMeasure:[null,i.FUNCTION],imageValidateSizeMinResolution:[null,i.INT],imageValidateSizeMaxResolution:[null,i.INT],imageValidateSizeLabelImageResolutionTooLow:["Resolution is too low",i.STRING],imageValidateSizeLabelImageResolutionTooHigh:["Resolution is too high",i.STRING],imageValidateSizeLabelExpectedMinResolution:["Minimum resolution is {minResolution}",i.STRING],imageValidateSizeLabelExpectedMaxResolution:["Maximum resolution is {maxResolution}",i.STRING],imageValidateSizeMinWidth:[1,i.INT],imageValidateSizeMinHeight:[1,i.INT],imageValidateSizeMaxWidth:[65535,i.INT],imageValidateSizeMaxHeight:[65535,i.INT],imageValidateSizeLabelImageSizeTooSmall:["Image is too small",i.STRING],imageValidateSizeLabelImageSizeTooBig:["Image is too big",i.STRING],imageValidateSizeLabelExpectedMinSize:["Minimum size is {minWidth} \xD7 {minHeight}",i.STRING],imageValidateSizeLabelExpectedMaxSize:["Maximum size is {maxWidth} \xD7 {maxHeight}",i.STRING]}}},Te=typeof window<"u"&&typeof window.document<"u";Te&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:J}));/*!
 * FilePondPluginImageResize 2.0.10
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const pe=d=>/^image/.test(d.type),Se=(d,m)=>{let i=new Image;i.onload=()=>{const e=i.naturalWidth,A=i.naturalHeight;i=null,m({width:e,height:A})},i.onerror=()=>m(null),i.src=d},Q=({addFilter:d,utils:m})=>{const{Type:i}=m;return d("DID_LOAD_ITEM",(e,{query:A})=>new Promise((n,s)=>{const o=e.file;if(!pe(o)||!A("GET_ALLOW_IMAGE_RESIZE"))return n(e);const c=A("GET_IMAGE_RESIZE_MODE"),l=A("GET_IMAGE_RESIZE_TARGET_WIDTH"),a=A("GET_IMAGE_RESIZE_TARGET_HEIGHT"),t=A("GET_IMAGE_RESIZE_UPSCALE");if(l===null&&a===null)return n(e);const r=l===null?a:l,_=a===null?r:a,f=URL.createObjectURL(o);Se(f,T=>{if(URL.revokeObjectURL(f),!T)return n(e);let{width:S,height:L}=T;const w=(e.getMetadata("exif")||{}).orientation||-1;if(w>=5&&w<=8&&([S,L]=[L,S]),S===r&&L===_)return n(e);if(!t){if(c==="cover"){if(S<=r||L<=_)return n(e)}else if(S<=r&&L<=r)return n(e)}e.setMetadata("resize",{mode:c,upscale:t,size:{width:r,height:_}}),n(e)})})),{options:{allowImageResize:[!0,i.BOOLEAN],imageResizeMode:["cover",i.STRING],imageResizeUpscale:[!0,i.BOOLEAN],imageResizeTargetWidth:[null,i.INT],imageResizeTargetHeight:[null,i.INT]}}},Le=typeof window<"u"&&typeof window.document<"u";Le&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Q}));/*!
 * FilePondPluginFileValidateSize 2.2.7
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const K=({addFilter:d,utils:m})=>{const{Type:i,replaceInString:e,toNaturalFileSize:A}=m;return d("ALLOW_HOPPER_ITEM",(n,{query:s})=>{if(!s("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;const o=s("GET_MAX_FILE_SIZE");if(o!==null&&n.size>o)return!1;const c=s("GET_MIN_FILE_SIZE");return!(c!==null&&n.size<c)}),d("LOAD_FILE",(n,{query:s})=>new Promise((o,c)=>{if(!s("GET_ALLOW_FILE_SIZE_VALIDATION"))return o(n);const l=s("GET_FILE_VALIDATE_SIZE_FILTER");if(l&&!l(n))return o(n);const a=s("GET_MAX_FILE_SIZE");if(a!==null&&n.size>a){c({status:{main:s("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:e(s("GET_LABEL_MAX_FILE_SIZE"),{filesize:A(a,".",s("GET_FILE_SIZE_BASE"),s("GET_FILE_SIZE_LABELS",s))})}});return}const t=s("GET_MIN_FILE_SIZE");if(t!==null&&n.size<t){c({status:{main:s("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:e(s("GET_LABEL_MIN_FILE_SIZE"),{filesize:A(t,".",s("GET_FILE_SIZE_BASE"),s("GET_FILE_SIZE_LABELS",s))})}});return}const r=s("GET_MAX_TOTAL_FILE_SIZE");if(r!==null&&s("GET_ACTIVE_ITEMS").reduce((f,T)=>f+T.fileSize,0)>r){c({status:{main:s("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:e(s("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:A(r,".",s("GET_FILE_SIZE_BASE"),s("GET_FILE_SIZE_LABELS",s))})}});return}o(n)})),{options:{allowFileSizeValidation:[!0,i.BOOLEAN],maxFileSize:[null,i.INT],minFileSize:[null,i.INT],maxTotalFileSize:[null,i.INT],fileValidateSizeFilter:[null,i.FUNCTION],labelMinFileSizeExceeded:["File is too small",i.STRING],labelMinFileSize:["Minimum file size is {filesize}",i.STRING],labelMaxFileSizeExceeded:["File is too large",i.STRING],labelMaxFileSize:["Maximum file size is {filesize}",i.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",i.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",i.STRING]}}},Me=typeof window<"u"&&typeof window.document<"u";Me&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:K}));const Ge={key:0,class:"text-error"},Oe={class:"mb-0"},xe={__name:"AccountSettingsAccount",props:{customer:{type:Object,required:!0},languages:{type:[Array,Object],required:!0},countries:{type:[Array,Object],required:!0},currencies:{type:[Array,Object],required:!0},timeZones:{type:[Array,Object],required:!0}},setup(d){const m=d,i=ae(le,ie,X,j,J,Q,K),e=Y({_method:"PUT",avatar:null,name:m.customer.name,email:m.customer.email,username:m.customer.username,phone:m.customer.phone,website:m.customer.website,language:m.customer.language_id,country:m.customer.country,currency:m.customer.currency_id,timezone:m.customer.timezone}),A=v(!1),n=v(null),s=[a=>!!a||"Please confirm account deactivation"];function o(a,t){a?snackbarStore.showSnackbar(ee("Something went wrong")):e.avatar=t.file}function c(){e.post(route("customer.profile.update-profile-information"),{preserveScroll:!0,preserveState:!0,onSuccess:a=>{H().showNotification(a)}})}function l(){te.Inertia.post(route("customer.profile.deactivate-account"),{_method:"PUT",deactivation_confirmation:A.value,confirm_password:n.value},{preserveScroll:!0,preserveState:!0,onSuccess:a=>{H().showNotification(a)}})}return(a,t)=>(N(),Z(h,null,{default:I(()=>[E(g,{cols:"12"},{default:I(()=>[E(x,{title:a.$t("Account Details")},{default:I(()=>[E(C,null,{default:I(()=>[E(oe,{class:"mt-6",onSubmit:P(c,["prevent"])},{default:I(()=>[E(h,null,{default:I(()=>[E(g,{cols:"12",lg:"4",md:"4"},{default:I(()=>[E(u(i),{credits:!1,"label-idle":a.$t("Browse"),"image-crop-aspect-ratio":"1:1","image-validate-size-min-width":"50","image-validate-size-min-height":"50","max-file-size":"1MB","min-file-size":"10KB","accepted-file-types":"image/jpeg, image/png, image/jpg",files:d.customer.avatar,onAddfile:o,onRemovefile:t[0]||(t[0]=r=>u(e).avatar=null)},null,8,["label-idle","files"]),u(e).errors.avatar?(N(),q("p",Ge,O(u(e).errors.avatar),1)):U("",!0)]),_:1})]),_:1}),E(h,null,{default:I(()=>[E(g,{md:"6",cols:"12"},{default:I(()=>[E(V,{modelValue:u(e).name,"onUpdate:modelValue":t[1]||(t[1]=r=>u(e).name=r),label:a.$t("Name"),rules:[u(p).required],"error-messages":u(e).errors.name},null,8,["modelValue","label","rules","error-messages"])]),_:1}),E(g,{cols:"12",md:"6"},{default:I(()=>[E(V,{modelValue:u(e).email,"onUpdate:modelValue":t[2]||(t[2]=r=>u(e).email=r),type:"email",label:a.$t("Email"),rules:[u(p).required,u(p).email],"error-messages":u(e).errors.email},null,8,["modelValue","label","rules","error-messages"])]),_:1}),E(g,{cols:"12",md:"6"},{default:I(()=>[E(V,{modelValue:u(e).username,"onUpdate:modelValue":t[3]||(t[3]=r=>u(e).username=r),label:a.$t("Username"),rules:[u(p).required],"error-messages":u(e).errors.username},null,8,["modelValue","label","rules","error-messages"])]),_:1}),E(g,{cols:"12",md:"6"},{default:I(()=>[E(V,{modelValue:u(e).phone,"onUpdate:modelValue":t[4]||(t[4]=r=>u(e).phone=r),type:"tel",label:a.$t("Phone Number"),rules:[u(p).required],"error-messages":u(e).errors.phone},null,8,["modelValue","label","rules","error-messages"])]),_:1}),E(g,{cols:"12",md:"6"},{default:I(()=>[E(V,{modelValue:u(e).website,"onUpdate:modelValue":t[5]||(t[5]=r=>u(e).website=r),type:"url",label:a.$t("Website"),"error-messages":u(e).errors.website},null,8,["modelValue","label","error-messages"])]),_:1}),E(g,{cols:"12",md:"6"},{default:I(()=>[E(b,{modelValue:u(e).language,"onUpdate:modelValue":t[6]||(t[6]=r=>u(e).language=r),label:a.$t("Language"),items:d.languages,rules:[u(p).required],"error-messages":u(e).errors.language},null,8,["modelValue","label","items","rules","error-messages"])]),_:1}),E(g,{cols:"12",md:"6"},{default:I(()=>[E(b,{modelValue:u(e).country,"onUpdate:modelValue":t[7]||(t[7]=r=>u(e).country=r),label:a.$t("Country"),items:d.countries,rules:[u(p).required],"error-messages":u(e).errors.country},null,8,["modelValue","label","items","rules","error-messages"])]),_:1}),E(g,{cols:"12",md:"6"},{default:I(()=>[E(b,{modelValue:u(e).currency,"onUpdate:modelValue":t[8]||(t[8]=r=>u(e).currency=r),label:a.$t("Currency"),items:d.currencies,rules:[u(p).required],"error-messages":u(e).errors.currency},null,8,["modelValue","label","items","rules","error-messages"])]),_:1}),E(g,{cols:"12",md:"6"},{default:I(()=>[E(b,{modelValue:u(e).timezone,"onUpdate:modelValue":t[9]||(t[9]=r=>u(e).timezone=r),label:a.$t("Timezone"),items:d.timeZones,"menu-props":{maxHeight:200}},null,8,["modelValue","label","items"])]),_:1}),E(g,{cols:"12",class:"d-flex flex-wrap gap-4"},{default:I(()=>[E(F,{type:"submit",loading:u(e).processing},{default:I(()=>[R(O(a.$t("Save changes")),1)]),_:1},8,["loading"]),E(F,{color:"secondary",variant:"tonal",type:"reset",onClick:t[10]||(t[10]=P(r=>u(e).reset(),["prevent"]))},{default:I(()=>[R(O(a.$t("Reset")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1},8,["title"])]),_:1}),E(g,{cols:"12"},{default:I(()=>[E(x,{title:a.$t("Deactivate Account")},{default:I(()=>[E(C,null,{default:I(()=>[E(ne,{color:"warning",variant:"tonal",class:"mb-4"},{default:I(()=>[E(se,{class:"mb-1"},{default:I(()=>[R(O(a.$t("Are you sure you want to deactivate your account?")),1)]),_:1}),$("p",Oe,O(a.$t("Once you deactivate your account, there is no going back. Please be certain.")),1)]),_:1}),$("div",null,[E(re,{modelValue:A.value,"onUpdate:modelValue":t[11]||(t[11]=r=>A.value=r),rules:s,label:a.$t("I confirm my account deactivation")},null,8,["modelValue","label"]),A.value?(N(),Z(V,{key:0,modelValue:n.value,"onUpdate:modelValue":t[12]||(t[12]=r=>n.value=r),label:a.$t("Confirm Password"),type:"password",class:"mt-3"},null,8,["modelValue","label"])):U("",!0)]),E(F,{disabled:!A.value||!n.value||n.value.length<8,color:"error",class:"mt-3",onClick:l},{default:I(()=>[R(O(a.$t("Deactivate Account2")),1)]),_:1},8,["disabled"])]),_:1})]),_:1},8,["title"])]),_:1})]),_:1}))}};export{xe as default};

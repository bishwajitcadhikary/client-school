import{c as n,w as a,b as g,o as l,d as r,V as w,a9 as e,g as o,aa as y,ab as D,S as _,f as c,m as d,n as h,O as p,bh as N,p as z,k as C,ac as A,M as B,i as F,a5 as v,aq as I,u as T}from"./app.4e419244.js";import{_ as L}from"./Pagination.dedb92ff.js";import{_ as j}from"./DataNotFound.eb5df1c3.js";import{V as E}from"./VTable.03c16a94.js";import{V as f}from"./VTooltip.ef233a6c.js";import{V as O}from"./VContainer.30e67b57.js";import"./VCol.a910cf49.js";/* empty css              */import"./VRow.54e80b11.js";const P=e("th",null,"#",-1),q={class:"text-center"},M={class:"text-center"},x={class:"text-center",width:"15%"},G={width:"5%"},H=["href"],J={class:"text-center"},K={class:"text-center"},Q={class:"text-center"},ot={__name:"Index",props:{schools:{type:Object,default:null}},setup(u){v("currencyFormat");const V=v("dateFormat"),b=t=>{I.Inertia.post(route("customer.schools.database-creation-retry",{school:t}),{},{preserveState:!0,preserveScroll:!0,onSuccess:m=>{T().showNotification(m)}})};return(t,m)=>{const S=g("AppLayout");return l(),n(S,{title:t.$t("Schools"),actions:[{title:t.$t("New School"),href:t.route("customer.schools.create"),icon:"mdi-plus"}]},{default:a(()=>[r(O,null,{default:a(()=>[r(w,null,{default:a(()=>[u.schools.data.length?(l(),n(E,{key:0},{default:a(()=>[e("thead",null,[e("tr",null,[P,e("th",null,o(t.$t("School Name")),1),e("th",null,o(t.$t("Domain")),1),e("th",q,o(t.$t("Database")),1),e("th",M,o(t.$t("Status")),1),e("th",null,o(t.$t("Created At")),1),e("th",x,o(t.$t("Actions")),1)])]),e("tbody",null,[(l(!0),y(B,null,D(u.schools.data,(s,k)=>(l(),y("tr",{key:k},[e("td",G,o(k+1),1),e("td",null,o(s.name),1),e("td",null,[e("a",{href:"https://"+s.domain,target:"_blank"},o(s.domain),9,H)]),e("td",J,[s.database_created==1?(l(),n(_,{key:0,class:"ma-2",color:"primary"},{default:a(()=>[c(o(t.$t("Created")),1)]),_:1})):d("",!0),r(f,{text:t.$t("Click to refresh")},{activator:a(({props:i})=>[s.database_created==0?(l(),n(h,p({key:0,class:"ma-2",color:"secondary",rounded:"",size:"small"},i,{onClick:m[0]||(m[0]=$=>t.$inertia.reload())}),{default:a(()=>[c(o(t.$t("Creating"))+" ",1),r(N,{class:"ml-3",width:3,size:"x-small",color:"red",indeterminate:""})]),_:2},1040)):d("",!0)]),_:2},1032,["text"]),r(f,{text:t.$t("Click to retry")},{activator:a(({props:i})=>[s.database_created==2?(l(),n(h,p({key:0,class:"ma-2 text-white",color:"error",rounded:"",size:"small"},i,{onClick:$=>b(s.id)}),{default:a(()=>[c(o(t.$t("Failed"))+" ",1),r(z,null,{default:a(()=>[c("mdi-reload")]),_:1})]),_:2},1040,["onClick"])):d("",!0)]),_:2},1032,["text"])]),e("td",K,[s.is_active?(l(),n(_,{key:0,class:"ma-2",color:"primary"},{default:a(()=>[c(o(t.$t("Active")),1)]),_:1})):d("",!0),s.is_active?d("",!0):(l(),n(_,{key:1,class:"ma-2",color:"secondary"},{default:a(()=>[c(o(t.$t("Inactive")),1)]),_:1}))]),e("td",null,o(C(V)(s.created_at)),1),e("td",Q,[r(f,{text:t.$t("Edit School")},{activator:a(({props:i})=>[r(h,p({variant:"plain",size:"small",icon:"mdi-clipboard-edit-outline"},i,{onClick:$=>t.$inertia.visit(t.route("customer.schools.edit",{school:s.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),r(f,{text:t.$t("Delete School")},{activator:a(({props:i})=>[r(h,p({variant:"plain",size:"small",icon:"mdi-delete-outline"},i,{onClick:$=>C(A)().showDialog(t.route("customer.schools.destroy",{school:s.id}))}),null,16,["onClick"])]),_:2},1032,["text"])])]))),128))])]),_:1})):d("",!0),r(F,null,{default:a(()=>[u.schools.data.length?d("",!0):(l(),n(j,{key:0})),r(L,{pagination:u.schools},null,8,["pagination"])]),_:1})]),_:1})]),_:1})]),_:1},8,["title","actions"])}}};export{ot as default};

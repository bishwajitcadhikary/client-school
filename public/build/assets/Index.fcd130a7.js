import{c as i,w as o,b as g,o as l,d as r,V as w,a9 as e,g as a,aa as C,ab as D,S as _,f as d,m as c,n as m,O as h,bh as N,p as z,k as v,ac as A,M as B,a5 as y,aq as F,u as I}from"./app.b98c1ad5.js";import{_ as L}from"./Pagination.f49373e6.js";import{V as T}from"./VTable.4e25dc70.js";import{V as p}from"./VTooltip.2e853496.js";import{V as j}from"./VContainer.363c1c72.js";/* empty css              */const E=e("th",null,"#",-1),O={class:"text-center"},P={class:"text-center"},q={class:"text-center",width:"15%"},M={width:"5%"},G=["href"],H={class:"text-center"},J={class:"text-center"},K={class:"text-center"},Q={class:"mb-5 mt-5"},x={__name:"Index",props:{schools:{type:Object,default:null}},setup($){y("currencyFormat");const b=y("dateFormat"),V=t=>{F.Inertia.post(route("customer.schools.database-creation-retry",{school:t}),{},{preserveState:!0,preserveScroll:!0,onSuccess:u=>{I().showNotification(u)}})};return(t,u)=>{const S=g("AppLayout");return l(),i(S,{title:t.$t("Schools"),actions:[{title:t.$t("New School"),href:t.route("customer.schools.create"),icon:"mdi-plus"}]},{default:o(()=>[r(j,null,{default:o(()=>[r(w,null,{default:o(()=>[r(T,null,{default:o(()=>[e("thead",null,[e("tr",null,[E,e("th",null,a(t.$t("School Name")),1),e("th",null,a(t.$t("Domain")),1),e("th",O,a(t.$t("Database")),1),e("th",P,a(t.$t("Status")),1),e("th",null,a(t.$t("Created At")),1),e("th",q,a(t.$t("Actions")),1)])]),e("tbody",null,[(l(!0),C(B,null,D($.schools.data,(s,k)=>(l(),C("tr",{key:k},[e("td",M,a(k+1),1),e("td",null,a(s.name),1),e("td",null,[e("a",{href:"https://"+s.domain,target:"_blank"},a(s.domain),9,G)]),e("td",H,[s.database_created==1?(l(),i(_,{key:0,class:"ma-2",color:"primary"},{default:o(()=>[d(a(t.$t("Created")),1)]),_:1})):c("",!0),r(p,{text:t.$t("Click to refresh")},{activator:o(({props:n})=>[s.database_created==0?(l(),i(m,h({key:0,class:"ma-2",color:"secondary",rounded:"",size:"small"},n,{onClick:u[0]||(u[0]=f=>t.$inertia.reload())}),{default:o(()=>[d(a(t.$t("Creating"))+" ",1),r(N,{class:"ml-3",width:3,size:"x-small",color:"red",indeterminate:""})]),_:2},1040)):c("",!0)]),_:2},1032,["text"]),r(p,{text:t.$t("Click to retry")},{activator:o(({props:n})=>[s.database_created==2?(l(),i(m,h({key:0,class:"ma-2 text-white",color:"error",rounded:"",size:"small"},n,{onClick:f=>V(s.id)}),{default:o(()=>[d(a(t.$t("Failed"))+" ",1),r(z,null,{default:o(()=>[d("mdi-reload")]),_:1})]),_:2},1040,["onClick"])):c("",!0)]),_:2},1032,["text"])]),e("td",J,[s.is_active?(l(),i(_,{key:0,class:"ma-2",color:"primary"},{default:o(()=>[d(a(t.$t("Active")),1)]),_:1})):c("",!0),s.is_active?c("",!0):(l(),i(_,{key:1,class:"ma-2",color:"secondary"},{default:o(()=>[d(a(t.$t("Inactive")),1)]),_:1}))]),e("td",null,a(v(b)(s.created_at)),1),e("td",K,[r(p,{text:t.$t("Edit School")},{activator:o(({props:n})=>[r(m,h({variant:"plain",size:"small",icon:"mdi-clipboard-edit-outline"},n,{onClick:f=>t.$inertia.visit(t.route("customer.schools.edit",{school:s.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),r(p,{text:t.$t("Delete School")},{activator:o(({props:n})=>[r(m,h({variant:"plain",size:"small",icon:"mdi-delete-outline"},n,{onClick:f=>v(A)().showDialog(t.route("customer.schools.destroy",{school:s.id}))}),null,16,["onClick"])]),_:2},1032,["text"])])]))),128))])]),_:1}),e("div",Q,[r(L,{pagination:$.schools},null,8,["pagination"])])]),_:1})]),_:1})]),_:1},8,["title","actions"])}}};export{x as default};

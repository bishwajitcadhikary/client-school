import{H as N,ba as ne,J as ie,Q as R,W as se,R as re,Y as ue,a1 as oe,aq as de,K as ve,U as ce,a3 as fe,as as ge,aM as me,bb as be,a4 as pe,M as E,bc as ye,m as P,bd as w,ao as I,N as Ve,b as a,g as V,aP as C,be as j,b1 as O,o as S,i as M,w as l,aA as z,e as _e,a as U,r as ke,s as W,aO as Le,d as $e,v as he,x as F,z as D,p as k,t as b,ay as K,h as B,f as Pe,F as q,V as Ce,ax as xe}from"./app.113290fe.js";import{V as Q}from"./VRow.d798bad4.js";import{V as X}from"./VCol.b4604b4b.js";import Ae from"./SettingsDrawerContent.7732970c.js";import{a as G,b as Ie,c as H,V as J,e as Se}from"./VCard.966d3ba3.js";import{V as Re}from"./VDialog.e45af3f9.js";const we="/build/assets/avatar-1.aac046b6.png",Be="/build/assets/avatar-2.0ae005f8.png",Ne="/build/assets/avatar-3.3ef9169b.png",Fe="/build/assets/avatar-4.406ee6ab.png";function De(){const e=N([]);ne(()=>e.value=[]);function _(s,v){e.value[v]=s}return{refs:e,updateRef:_}}const Me=ie({name:"VPagination",props:{activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:R,default:"$first"},prevIcon:{type:R,default:"$prev"},nextIcon:{type:R,default:"$next"},lastIcon:{type:R,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...se(),...re(),...ue(),...oe(),...de(),...ve({tag:"nav"}),...ce(),...fe({variant:"text"})},emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,_){let{slots:s,emit:v}=_;const n=ge(e,"modelValue"),{t:i,n:m}=me(),{isRtl:L}=be(),{themeClasses:$}=pe(e),x=N(-1);E(void 0,{scoped:!0});const{resizeRef:o}=ye(t=>{if(!t.length)return;const{target:r,contentRect:u}=t[0],f=r.querySelector(".v-pagination__list > *");if(!f)return;const g=u.width,h=f.offsetWidth+parseFloat(getComputedStyle(f).marginRight)*2,le=e.showFirstLastPage?5:3;x.value=Math.max(0,Math.floor(+((g-h*le)/h).toFixed(2)))}),d=P(()=>parseInt(e.length,10)),c=P(()=>parseInt(e.start,10)),p=P(()=>e.totalVisible?parseInt(e.totalVisible,10):x.value>=0?x.value:d.value),Y=P(()=>{if(d.value<=0||isNaN(d.value)||d.value>Number.MAX_SAFE_INTEGER)return[];if(p.value<=1)return[n.value];if(d.value<=p.value)return w(d.value,c.value);const t=p.value%2===0,r=t?p.value/2:Math.floor(p.value/2),u=t?r:r+1,f=d.value-r;if(u-n.value>=0)return[...w(Math.max(1,p.value-1),c.value),e.ellipsis,d.value];if(n.value-f>=(t?1:0)){const g=p.value-1,h=d.value-g+c.value;return[c.value,e.ellipsis,...w(g,h)]}else{const g=Math.max(1,p.value-3),h=g===1?n.value:n.value-Math.ceil(g/2)+c.value;return[c.value,e.ellipsis,...w(g,h),e.ellipsis,d.value]}});function A(t,r,u){t.preventDefault(),n.value=r,u&&v(u,r)}const{refs:Z,updateRef:ee}=De();E({VPaginationBtn:{color:I(e,"color"),border:I(e,"border"),density:I(e,"density"),size:I(e,"size"),variant:I(e,"variant")}});const ae=P(()=>Y.value.map((t,r)=>{const u=f=>ee(f,r);if(typeof t=="string")return{isActive:!1,key:`ellipsis-${r}`,page:t,props:{ref:u,ellipsis:!0,icon:!0,disabled:!0}};{const f=t===n.value;return{isActive:f,key:t,page:m(t),props:{ref:u,ellipsis:!1,icon:!0,disabled:!!e.disabled||e.length<2,elevation:e.elevation,rounded:e.rounded,color:f?e.activeColor:e.color,ariaCurrent:f,ariaLabel:i(f?e.currentPageAriaLabel:e.pageAriaLabel,r+1),onClick:g=>A(g,t)}}}})),y=P(()=>{const t=!!e.disabled||n.value<=c.value,r=!!e.disabled||n.value>=c.value+d.value-1;return{first:e.showFirstLastPage?{icon:L.value?e.lastIcon:e.firstIcon,onClick:u=>A(u,c.value,"first"),disabled:t,ariaLabel:i(e.firstAriaLabel),ariaDisabled:t}:void 0,prev:{icon:L.value?e.nextIcon:e.prevIcon,onClick:u=>A(u,n.value-1,"prev"),disabled:t,ariaLabel:i(e.previousAriaLabel),ariaDisabled:t},next:{icon:L.value?e.prevIcon:e.nextIcon,onClick:u=>A(u,n.value+1,"next"),disabled:r,ariaLabel:i(e.nextAriaLabel),ariaDisabled:r},last:e.showFirstLastPage?{icon:L.value?e.firstIcon:e.lastIcon,onClick:u=>A(u,c.value+d.value-1,"last"),disabled:r,ariaLabel:i(e.lastAriaLabel),ariaDisabled:r}:void 0}});function T(){var t;const r=n.value-c.value;(t=Z.value[r])==null||t.$el.focus()}function te(t){t.key===j.left&&!e.disabled&&n.value>e.start?(n.value=n.value-1,O(T)):t.key===j.right&&!e.disabled&&n.value<c.value+d.value-1&&(n.value=n.value+1,O(T))}return Ve(()=>a(e.tag,{ref:o,class:["v-pagination",$.value],role:"navigation","aria-label":i(e.ariaLabel),onKeydown:te,"data-test":"v-pagination-root"},{default:()=>[a("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&a("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[s.first?s.first(y.value.first):a(V,C({_as:"VPaginationBtn"},y.value.first),null)]),a("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[s.prev?s.prev(y.value.prev):a(V,C({_as:"VPaginationBtn"},y.value.prev),null)]),ae.value.map((t,r)=>a("li",{key:t.key,class:["v-pagination__item",{"v-pagination__item--is-active":t.isActive}],"data-test":"v-pagination-item"},[s.item?s.item(t):a(V,C({_as:"VPaginationBtn"},t.props),{default:()=>[t.page]})])),a("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[s.next?s.next(y.value.next):a(V,C({_as:"VPaginationBtn"},y.value.next),null)]),e.showFirstLastPage&&a("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[s.last?s.last(y.value.last):a(V,C({_as:"VPaginationBtn"},y.value.last),null)])])]})),{}}}),ze={key:0,class:"text-center"},Te={__name:"Pagination",props:{pagination:{type:Object,default:null}},setup(e){function _(){alert("asdf")}return(s,v)=>e.pagination.last_page>1?(S(),M("div",ze,[a(z,null,{default:l(()=>[a(Q,{justify:"center"},{default:l(()=>[a(X,{cols:"8"},{default:l(()=>[a(z,{class:"max-width"},{default:l(()=>[a(Me,{modelValue:e.pagination.current_page,"onUpdate:modelValue":v[0]||(v[0]=n=>e.pagination.current_page=n),class:"my-4",length:e.pagination.last_page,onPrevious:v[1]||(v[1]=n=>s.$inertia.visit(e.pagination.prev_page_url)),onNext:v[2]||(v[2]=n=>s.$inertia.visit(e.pagination.next_page_url)),onInput:_},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1})]),_:1})])):_e("",!0)}},Ee={class:"d-flex justify-space-between align-center"},je={class:"font-weight-medium"},Oe={class:"v-avatar-group"},Je={__name:"Index",props:{roles:{type:Object,default:null}},setup(e){const _=[we,Be,Ne,Fe],s=N(!1),v=N();function n(i){s.value=!1,xe({}).delete(route("admin.settings.roles.destroy",{role:i}),{onFinish:m=>{}})}return(i,m)=>{const L=ke("AdminLayout");return S(),U(L,{title:i.$t("Roles"),actions:[{title:i.$t("Add New"),href:i.route("admin.settings.roles.create"),icon:"mdi-plus"}]},{"sub-navbar":l(()=>[a(Ae)]),default:l(()=>[a(z,{class:"grey lighten-5"},{default:l(()=>[a(Q,null,{default:l(()=>[(S(!0),M(q,null,W(e.roles.data,($,x)=>(S(),U(X,{key:x,cols:"12",sm:"4"},{default:l(()=>[a(G,{class:"pa-3"},{default:l(()=>[a(Ie,null,{append:l(()=>[a(Le,{ref_for:!0,ref_key:"menuRef",ref:v,activator:"parent",location:"start","close-on-click":""},{activator:l(({props:o})=>[a(V,C({icon:"",color:"default",size:"x-small",variant:"text"},o),{default:l(()=>[a($e,{size:"24",icon:"mdi-dots-vertical"})]),_:2},1040)]),default:l(()=>[a(he,null,{default:l(()=>[a(F,{value:"1"},{default:l(()=>[a(D,{onClick:o=>i.$inertia.visit(i.route("admin.settings.roles.edit",{role:$.id}))},{default:l(()=>[k(b(i.$t("Edit")),1)]),_:2},1032,["onClick"])]),_:2},1024),a(F,{value:"2"},{default:l(()=>[a(D,{onClick:o=>i.$inertia.visit(i.route("admin.settings.roles.assign-permission",{role:$.id}))},{default:l(()=>[k(b(i.$t("Assign Permission")),1)]),_:2},1032,["onClick"])]),_:2},1024),a(F,{value:"3"},{default:l(()=>[a(D,{onClick:m[0]||(m[0]=K(o=>s.value=!0,["stop"]))},{default:l(()=>[k(b(i.$t("Delete")),1)]),_:1}),a(Re,{modelValue:s.value,"onUpdate:modelValue":m[2]||(m[2]=o=>s.value=o),"max-width":"290"},{default:l(()=>[a(G,{class:"pa-3"},{default:l(()=>[a(H,{class:"text-h5 text-center"},{default:l(()=>[k(b(i.$t("Are your sure?")),1)]),_:1}),a(J,{class:"text-center"},{default:l(()=>[B("p",null,b(i.$t("Action cannot be undone")),1)]),_:1}),a(Se,null,{default:l(()=>[a(Pe),a(V,{onClick:m[1]||(m[1]=o=>s.value=!1)},{default:l(()=>[k(b(i.$t("Cancel")),1)]),_:1}),a(V,{color:"error",onClick:K(o=>n($.id),["stop"])},{default:l(()=>[k(b(i.$t("Delete")),1)]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024)]),_:2},1032,["modelValue"])]),_:2},1024)]),_:2},1024)]),_:2},1536)]),default:l(()=>[a(H,null,{default:l(()=>[k(b($.name),1)]),_:2},1024)]),_:2},1024),a(J,{class:"position-relative"},{default:l(()=>[B("div",Ee,[B("span",je,b(i.$t(":count users",{count:10})),1),B("div",Oe,[(S(),M(q,null,W(_,o=>a(Ce,{key:o,image:o,size:"45"},null,8,["image"])),64))])])]),_:1})]),_:2},1024)]),_:2},1024))),128))]),_:1}),a(Te,{pagination:e.roles},null,8,["pagination"])]),_:1})]),_:1},8,["title","actions"])}}};export{Je as default};

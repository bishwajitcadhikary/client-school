import{h as V,aL as v,aH as p,c as w,w as s,r as E,o as f,a as t,b as u,d as _,e as U,t as i,F as A,u as C,b4 as I,J as g,K as $,g as j,V as K,f as b,ap as H,aI as J,aK as M}from"./app.dfca5287.js";import O from"./SettingsDrawerContent.c7703bac.js";import{V as B,c as q,a as z,e as G}from"./VCard.1aef212d.js";import{V as Q}from"./VTable.715b15dd.js";import{V as D}from"./VSwitch.e0b4e87c.js";import{V as L}from"./VTooltip.04591468.js";import{V as R}from"./VDialog.34f2b42e.js";import"./VSelect.7afc3e43.js";import"./VCheckboxBtn.134247d4.js";import"./VChip.7123b1f9.js";const W=u("th",null,null,-1),X={class:"pa-1",width:"10%"},re={__name:"Index",props:{languages:{type:Object,default:null}},setup(k){const N=k,d=M("Notification");V([]),V([]);const m=V(!1),S=V(null),y=[v("Name"),v("Code"),v("Status"),v("Default")],c=p({statuses:[...N.languages.data.map(e=>!!e.is_active)]});function F(e,o){p({_method:"PUT",is_active:c.statuses[e]}).post(route("admin.settings.languages.change-status",{language:o}),{onSuccess:l=>{l.props.flash.success&&d.success(l.props.flash.success),l.props.flash.error&&d.error(l.props.flash.error),c.statuses=l.props.languages.data.map(a=>!!a.is_active)}})}const h=p({statuses:[...N.languages.data.map(e=>!!e.is_default)]});function P(e,o){p({_method:"PUT",is_default:c.statuses[e]}).post(route("admin.settings.languages.change-default",{language:o}),{onSuccess:l=>{l.props.flash.success&&d.success(l.props.flash.success),l.props.flash.error&&d.error(l.props.flash.error),h.statuses=l.props.languages.data.map(a=>!!a.is_default)}})}function x(){m.value=!1,p({}).delete(route("admin.settings.languages.destroy",{language:S.value}),{onSuccess:e=>{e.props.flash.success&&d.success(e.props.flash.success),e.props.flash.error&&d.error(e.props.flash.error),c.statuses=e.props.languages.data.map(o=>!!o.is_active),h.statuses=e.props.languages.data.map(o=>!!o.is_default)}})}return(e,o)=>{const l=E("AdminLayout");return f(),w(l,{title:e.$t("Languages"),action:{href:e.route("admin.settings.languages.create"),icon:"mdi-plus",title:e.$t("Add New")}},{"sub-navbar":s(()=>[t(O)]),default:s(()=>[t(K,null,{default:s(()=>[t(B,null,{default:s(()=>[t(Q,{class:"table-rounded"},{default:s(()=>[u("thead",null,[u("tr",null,[(f(),_(A,null,U(y,a=>u("th",null,i(a),1)),64)),W])]),u("tbody",null,[(f(!0),_(A,null,U(k.languages.data,(a,r)=>(f(),_("tr",{key:r},[u("td",null,i(a.name),1),u("td",null,i(a.code),1),u("td",null,[t(D,{modelValue:C(c).statuses[r],"onUpdate:modelValue":n=>C(c).statuses[r]=n,color:"primary","hide-detail":"",onChange:n=>F(r,a.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),u("td",null,[t(D,{modelValue:C(h).statuses[r],"onUpdate:modelValue":n=>C(h).statuses[r]=n,color:"primary","hide-details":"",onChange:n=>P(r,a.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),u("td",X,[t(I,{rounded:"xl"},{default:s(()=>[t(L,{text:e.$t("Edit Phrases")},{activator:s(({props:n})=>[t(g,$({icon:"mdi-translate"},n,{onClick:T=>e.$inertia.visit(e.route("admin.settings.languages.edit-phrases",{language:a.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),t(L,{text:e.$t("Edit Language")},{activator:s(({props:n})=>[t(g,$({icon:"mdi-clipboard-edit-outline"},n,{onClick:T=>e.$inertia.visit(e.route("admin.settings.languages.edit",{language:a.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),t(L,{text:e.$t("Delete Language")},{activator:s(({props:n})=>[a.is_default?j("",!0):(f(),w(g,$({key:0,icon:"mdi-delete-outline"},n,{onClick:T=>{m.value=!0,S.value=a.id}}),null,16,["onClick"]))]),_:2},1032,["text"])]),_:2},1024)])]))),128))])]),_:1})]),_:1})]),_:1}),t(R,{modelValue:m.value,"onUpdate:modelValue":o[1]||(o[1]=a=>m.value=a),"max-width":"290"},{default:s(()=>[t(B,{class:"pa-3"},{default:s(()=>[t(q,{class:"text-h5 text-center"},{default:s(()=>[b(i(e.$t("Are your sure to delete?")),1)]),_:1}),t(z,{class:"text-center"},{default:s(()=>[u("p",null,i(e.$t("Action cannot be undone")),1)]),_:1}),t(G,null,{default:s(()=>[t(H),t(g,{onClick:o[0]||(o[0]=a=>m.value=!1)},{default:s(()=>[b(i(e.$t("Cancel")),1)]),_:1}),t(g,{color:"error",onClick:J(x,["stop"])},{default:s(()=>[b(i(e.$t("Delete")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title","action"])}}};export{re as default};

import{c as n,w as o,b as g,o as l,d as s,V as w,au as e,g as a,av as C,aw as D,f as d,m as c,n as m,O as p,bz as N,p as z,k,ax as A,M as B,ar as y,aE as F,u as I}from"./app.75fe97d5.js";import{_ as E}from"./Pagination.87419050.js";import{V as L}from"./VTable.8bb216d8.js";import{V as $}from"./VChip.d1149a3f.js";import{V as h}from"./VTooltip.edd21295.js";import{V as T}from"./VContainer.5696422c.js";/* empty css              */const j=e("th",null,"#",-1),O={class:"text-center"},P={class:"text-center"},M={class:"text-center",width:"15%"},q={width:"5%"},x={class:"text-center"},G={class:"text-center"},H={class:"text-center"},J={class:"mb-5 mt-5"},Z={__name:"Index",props:{schools:{type:Object,default:null}},setup(_){y("currencyFormat");const V=y("dateFormat"),b=t=>{F.Inertia.post(route("customer.schools.database-creation-retry",{school:t}),{},{preserveState:!0,preserveScroll:!0,onSuccess:u=>{I().showNotification(u)}})};return(t,u)=>{const S=g("AppLayout");return l(),n(S,{title:t.$t("Schools"),actions:[{title:t.$t("New School"),href:t.route("customer.schools.create"),icon:"mdi-plus"}]},{default:o(()=>[s(T,null,{default:o(()=>[s(w,null,{default:o(()=>[s(L,null,{default:o(()=>[e("thead",null,[e("tr",null,[j,e("th",null,a(t.$t("School Name")),1),e("th",null,a(t.$t("Domain")),1),e("th",O,a(t.$t("Database")),1),e("th",P,a(t.$t("Status")),1),e("th",null,a(t.$t("Created At")),1),e("th",M,a(t.$t("Actions")),1)])]),e("tbody",null,[(l(!0),C(B,null,D(_.schools.data,(r,v)=>(l(),C("tr",{key:v},[e("td",q,a(v+1),1),e("td",null,a(r.name),1),e("td",null,a(r.domain),1),e("td",x,[r.database_created===1?(l(),n($,{key:0,class:"ma-2",color:"primary"},{default:o(()=>[d(a(t.$t("Created")),1)]),_:1})):c("",!0),s(h,{text:t.$t("Click to refresh")},{activator:o(({props:i})=>[r.database_created===0?(l(),n(m,p({key:0,class:"ma-2",color:"secondary",rounded:"",size:"small"},i,{onClick:u[0]||(u[0]=f=>t.$inertia.reload())}),{default:o(()=>[d(a(t.$t("Creating"))+" ",1),s(N,{class:"ml-3",width:3,size:"x-small",color:"red",indeterminate:""})]),_:2},1040)):c("",!0)]),_:2},1032,["text"]),s(h,{text:t.$t("Click to retry")},{activator:o(({props:i})=>[r.database_created===2?(l(),n(m,p({key:0,class:"ma-2 text-white",color:"error",rounded:"",size:"small"},i,{onClick:f=>b(r.id)}),{default:o(()=>[d(a(t.$t("Failed"))+" ",1),s(z,null,{default:o(()=>[d("mdi-reload")]),_:1})]),_:2},1040,["onClick"])):c("",!0)]),_:2},1032,["text"])]),e("td",G,[r.is_active?(l(),n($,{key:0,class:"ma-2",color:"primary"},{default:o(()=>[d(a(t.$t("Active")),1)]),_:1})):c("",!0),r.is_active?c("",!0):(l(),n($,{key:1,class:"ma-2",color:"secondary"},{default:o(()=>[d(a(t.$t("Inactive")),1)]),_:1}))]),e("td",null,a(k(V)(r.created_at)),1),e("td",H,[s(h,{text:t.$t("Edit School")},{activator:o(({props:i})=>[s(m,p({variant:"plain",size:"small",icon:"mdi-clipboard-edit-outline"},i,{onClick:f=>t.$inertia.visit(t.route("customer.schools.edit",{school:r.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),s(h,{text:t.$t("Delete School")},{activator:o(({props:i})=>[s(m,p({variant:"plain",size:"small",icon:"mdi-delete-outline"},i,{onClick:f=>k(A)().showDialog(t.route("customer.schools.destroy",{school:r.id}))}),null,16,["onClick"])]),_:2},1032,["text"])])]))),128))])]),_:1}),e("div",J,[s(E,{pagination:_.schools},null,8,["pagination"])])]),_:1})]),_:1})]),_:1},8,["title","actions"])}}};export{Z as default};

import{bz as M,r as v,bb as D,o as x,aa as $,a as j,by as B,B as F,d as e,w as s,V as I,k as t,av as b,aA as L,a9 as c,bx as U,e as z,f as k,g as i,i as R,j as E,l as w,a2 as N,aV as A,m as P,a4 as H,n as K,ax as S,b as C}from"./app.e3237c79.js";import O from"./AuthProvider.5842de25.js";import{a as G,b as J,c as Q,d as W}from"./auth-v1-tree.87718d64.js";import{V as X}from"./VForm.a297b50e.js";import{V as Y}from"./VRow.35345fce.js";import{V as d}from"./VCol.0b3da7dc.js";import{V as Z}from"./VCheckbox.c8ed9fdc.js";/* empty css              */import"./VCheckboxBtn.5111cc6c.js";import"./VSelectionControl.70084d8a.js";const ee=M({props:{sitekey:{type:String,required:!0},size:{type:String,required:!1,default:"normal"},theme:{type:String,required:!1,default:"light"},hl:{type:String,required:!1}},emits:{verify:u=>u!=null&&u!="",expire:null,fail:null},setup(u,{expose:h,emit:a}){const p=u,y=v(null);let n=null;h({execute:function(){window.grecaptcha.execute(n)},reset:function(){window.grecaptcha.reset(n)}});function m(){n=window.grecaptcha.render(y.value,{sitekey:p.sitekey,theme:p.theme,size:p.size,callback:f=>a("verify",f),"expired-callback":()=>a("expire"),"error-callback":()=>a("fail")})}return D(()=>{window.grecaptcha==null?new Promise(f=>{window.recaptchaReady=function(){f()};const V=window.document,_="recaptcha-script",g=V.createElement("script");g.id=_,g.setAttribute("src",`https://www.google.com/recaptcha/api.js?onload=recaptchaReady&render=explicit&hl=${p.hl}`),V.head.appendChild(g)}).then(()=>{m()}):m()}),(f,V)=>(x(),$("div",{ref_key:"recaptchaDiv",ref:y},null,512))}});const ae={class:"auth-wrapper d-flex align-center justify-center pa-4"},te={class:"d-flex"},se=["innerHTML"],re={class:"text-h5 font-weight-semibold mb-1"},le={class:"mb-0"},oe={key:0,class:"text-error"},ne={class:"d-flex align-center"},ie={class:"me-1"},de={href:"javascript:void(0)",class:"text-primary"},ce={class:"mx-4"},ue={components:{VueRecaptcha:ee}},be=Object.assign(ue,{__name:"Register",props:{showRecaptcha:{type:Boolean,default:!1},recaptchaSiteKey:{type:String,default:""}},setup(u){const h=v(!1),a=j({name:"",email:"",password:"",password_confirmation:"",terms:!1,recaptcha:""}),p=B(),y=F(()=>p.global.name.value==="light"?G:J),n=v(!1),m=v(),f=()=>{a.post(route("register"),{preserveScroll:!0,preserveState:!0,onFinish:()=>a.reset("password","password_confirmation")})},V=function(r){a.recaptcha=r,a.errors.recaptcha=null},_=function(){a.recaptcha=null,m.value.reset()},g=function(){a.recaptcha=null,m.value.reset()};return(r,l)=>{const T=C("VueRecaptcha"),q=C("Link");return x(),$("div",ae,[e(I,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:s(()=>[e(L,{class:"justify-center"},{prepend:s(()=>[c("div",te,[c("div",{innerHTML:t(U)},null,8,se)])]),default:s(()=>[e(z,{class:"font-weight-semibold text-2xl text-uppercase"},{default:s(()=>[k(i(r.$page.props.app.name),1)]),_:1})]),_:1}),e(R,{class:"pt-2"},{default:s(()=>[c("h5",re,i(r.$t("Adventure starts here")),1),c("p",le,i(r.$t("Make your school management easy and fun!")),1)]),_:1}),e(R,null,{default:s(()=>[e(X,{modelValue:h.value,"onUpdate:modelValue":l[7]||(l[7]=o=>h.value=o),onSubmit:E(f,["prevent"])},{default:s(()=>[e(Y,null,{default:s(()=>[e(d,{cols:"12"},{default:s(()=>[e(w,{modelValue:t(a).name,"onUpdate:modelValue":l[0]||(l[0]=o=>t(a).name=o),label:r.$t("Name"),"error-message":t(a).errors.name,required:""},null,8,["modelValue","label","error-message"])]),_:1}),e(d,{cols:"12"},{default:s(()=>[e(w,{modelValue:t(a).email,"onUpdate:modelValue":l[1]||(l[1]=o=>t(a).email=o),label:r.$t("Email"),type:"email","error-messages":t(a).errors.email,required:""},null,8,["modelValue","label","error-messages"])]),_:1}),e(d,{cols:"12"},{default:s(()=>[e(w,{modelValue:t(a).password,"onUpdate:modelValue":l[2]||(l[2]=o=>t(a).password=o),label:r.$t("Password"),type:n.value?"text":"password","append-inner-icon":n.value?"mdi-eye-off-outline":"mdi-eye-outline","error-messages":t(a).errors.password,min:"8",required:"","onClick:appendInner":l[3]||(l[3]=o=>n.value=!n.value)},null,8,["modelValue","label","type","append-inner-icon","error-messages"])]),_:1}),e(d,{cols:"12"},{default:s(()=>[e(w,{modelValue:t(a).password_confirmation,"onUpdate:modelValue":l[4]||(l[4]=o=>t(a).password_confirmation=o),label:r.$t("Confirm Password"),type:n.value?"text":"password","append-inner-icon":n.value?"mdi-eye-off-outline":"mdi-eye-outline","error-messages":t(a).errors.password_confirmation,min:"8",required:"","onClick:appendInner":l[5]||(l[5]=o=>n.value=!n.value)},null,8,["modelValue","label","type","append-inner-icon","error-messages"])]),_:1}),e(d,{cols:"12"},{default:s(()=>[N(e(T,{ref_key:"vueRecaptchaRef",ref:m,sitekey:u.recaptchaSiteKey,size:"normal",theme:"light",class:"g-recaptcha",onVerify:V,onExpire:_,onFail:g},null,8,["sitekey"]),[[A,u.showRecaptcha]]),t(a).errors.recaptcha?(x(),$("p",oe,i(t(a).errors.recaptcha),1)):P("",!0)]),_:1}),e(d,{cols:"12"},{default:s(()=>[c("div",ne,[e(Z,{id:"terms",modelValue:t(a).terms,"onUpdate:modelValue":l[6]||(l[6]=o=>t(a).terms=o),inline:"","error-messages":t(a).errors.terms},null,8,["modelValue","error-messages"]),e(H,{for:"terms",style:{opacity:"1"}},{default:s(()=>[c("span",ie,i(r.$t("I agree to")),1),c("a",de,i(r.$t("privacy policy & terms")),1)]),_:1})])]),_:1}),e(d,{cols:"12"},{default:s(()=>[e(K,{loading:t(a).processing,disabled:!t(a).isDirty&&h.value,type:"submit",block:""},{default:s(()=>[k(i(r.$t("Sign up")),1)]),_:1},8,["loading","disabled"])]),_:1}),e(d,{cols:"12",class:"text-center text-base"},{default:s(()=>[c("span",null,i(r.$t("Already have an account?")),1),e(q,{class:"text-primary ms-2",href:r.route("login")},{default:s(()=>[k(i(r.$t("Sign in instead")),1)]),_:1},8,["href"])]),_:1}),e(d,{cols:"12",class:"d-flex align-center"},{default:s(()=>[e(S),c("span",ce,i(r.$t("or")),1),e(S)]),_:1}),e(d,{cols:"12",class:"text-center"},{default:s(()=>[e(O)]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1}),e(b,{class:"auth-footer-start-tree d-none d-md-block",src:t(Q),width:250},null,8,["src"]),e(b,{src:t(W),class:"auth-footer-end-tree d-none d-md-block",width:350},null,8,["src"]),e(b,{class:"auth-footer-mask d-none d-md-block",src:t(y)},null,8,["src"])])}}});export{be as default};

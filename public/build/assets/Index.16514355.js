import{aA as L,b7 as A,aB as f,c as v,w as n,r as S,o as h,a as t,b as a,t as s,a8 as b,f as g,u,K as V,V as F,d as y,e as I,a$ as P,L as w,g as E,F as j}from"./app.769d2bc8.js";import K from"./SettingsDrawerContent.71129501.js";import{_ as O}from"./Pagination.8012d268.js";import{V as R}from"./VTable.cecf783c.js";import{V as N}from"./VSwitch.96e3a9f3.js";import{V as k}from"./VTooltip.3df24ef8.js";import{V as q}from"./VContainer.e19bcb16.js";import"./VSelect.20e484dd.js";import"./VCheckboxBtn.416dd0ae.js";import"./VChip.9639af3b.js";/* empty css              */const z={class:"mt-4 mr-2"},G=a("th",null,null,-1),H={class:"pa-1",width:"10%"},ne={__name:"Index",props:{currencies:{type:Object,default:null},last_sync_at:{type:String,default:null}},setup(p){const C=p,_=L(),B=A(),i=f({statuses:[...C.currencies.data.map(e=>!!e.is_active)],default:[...C.currencies.data.map(e=>!!e.is_default)]});function D(e,c){f({_method:"PUT",is_active:i.statuses[e]}).post(route("admin.settings.currencies.change-status",{currency:c}),{preserveScroll:!0,preserveState:!0,onSuccess:d=>{_.showNotification(d),i.statuses=d.props.currencies.data.map(m=>!!m.is_active)}})}function T(e,c){f({_method:"PUT",is_default:i.default[e]}).post(route("admin.settings.currencies.change-default",{currency:c}),{preserveScroll:!0,preserveState:!0,onSuccess:d=>{_.showNotification(d),i.default=d.props.currencies.data.map(m=>!!m.is_default)}})}const $=f({_method:"PUT"});return(e,c)=>{const d=S("Link"),m=S("AdminLayout");return h(),v(m,{title:e.$t("Currencies")},{"sub-navbar":n(()=>[t(K)]),actions:n(()=>[a("p",z,s(p.last_sync_at),1),t(V,{loading:u($).processing,onClick:c[0]||(c[0]=o=>u($).post(e.route("admin.settings.currencies.sync"),{onSuccess:l=>u(_).showNotification(l)}))},{default:n(()=>[t(b,null,{default:n(()=>[g("mdi-plus")]),_:1}),g(" "+s(e.$t("Sync")),1)]),_:1},8,["loading"]),t(d,{href:e.route("admin.settings.currencies.create")},{default:n(()=>[t(V,null,{default:n(()=>[t(b,null,{default:n(()=>[g("mdi-plus")]),_:1}),g(" "+s(e.$t("Add New")),1)]),_:1})]),_:1},8,["href"])]),default:n(()=>[t(q,null,{default:n(()=>[t(F,null,{default:n(()=>[t(R,{class:"table-rounded"},{default:n(()=>[a("thead",null,[a("tr",null,[a("th",null,s(e.$t("Name")),1),a("th",null,s(e.$t("Code")),1),a("th",null,s(e.$t("Rate")),1),a("th",null,s(e.$t("Is Active")),1),a("th",null,s(e.$t("Is Default")),1),G])]),a("tbody",null,[(h(!0),y(j,null,I(p.currencies.data,(o,l)=>(h(),y("tr",{key:l},[a("td",null,s(o.name),1),a("td",null,s(o.code),1),a("td",null,s(o.rate),1),a("td",null,[t(N,{modelValue:u(i).statuses[l],"onUpdate:modelValue":r=>u(i).statuses[l]=r,color:"primary","hide-detail":"",onChange:r=>D(l,o.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),a("td",null,[t(N,{modelValue:u(i).default[l],"onUpdate:modelValue":r=>u(i).default[l]=r,color:"primary","hide-detail":"",onChange:r=>T(l,o.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),a("td",H,[t(P,{rounded:"xl"},{default:n(()=>[t(k,{text:e.$t("Edit Currency")},{activator:n(({props:r})=>[t(V,w({icon:"mdi-clipboard-edit-outline"},r,{onClick:U=>e.$inertia.visit(e.route("admin.settings.currencies.edit",{currency:o.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),o.is_default?E("",!0):(h(),v(k,{key:0,text:e.$t("Delete Currency")},{activator:n(({props:r})=>[t(V,w({icon:"mdi-delete-outline"},r,{onClick:U=>u(B).showDialog(e.route("admin.settings.currencies.destroy",{currency:o.id}))}),null,16,["onClick"])]),_:2},1032,["text"]))]),_:2},1024)])]))),128))])]),_:1}),t(O,{pagination:p.currencies},null,8,["pagination"])]),_:1})]),_:1})]),_:1},8,["title"])}}};export{ne as default};

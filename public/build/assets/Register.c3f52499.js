import{bz as D,r as v,b8 as U,o as k,aa as x,a as j,by as z,B,d as e,w as s,V as F,k as t,av as b,az as I,a9 as c,bx as M,i as $,g as d,j as E,l as w,a2 as N,aU as L,m as P,a4 as A,n as K,f as R,ax as S,b as C}from"./app.8dfb89f9.js";import O from"./AuthProvider.ba6faf8c.js";import{a as G,b as H,c as J,d as Q}from"./auth-v1-tree.87718d64.js";import{V as W}from"./VForm.fbff8dd5.js";import{V as X}from"./VRow.f3e7ba42.js";import{V as i}from"./VCol.4f44dc97.js";import{V as Y}from"./VCheckbox.db03adf1.js";/* empty css              */import"./VCheckboxBtn.19eb3d38.js";import"./VSelectionControl.ba6d3025.js";const Z=D({props:{sitekey:{type:String,required:!0},size:{type:String,required:!1,default:"normal"},theme:{type:String,required:!1,default:"light"},hl:{type:String,required:!1}},emits:{verify:u=>u!=null&&u!="",expire:null,fail:null},setup(u,{expose:h,emit:a}){const p=u,y=v(null);let n=null;h({execute:function(){window.grecaptcha.execute(n)},reset:function(){window.grecaptcha.reset(n)}});function m(){n=window.grecaptcha.render(y.value,{sitekey:p.sitekey,theme:p.theme,size:p.size,callback:f=>a("verify",f),"expired-callback":()=>a("expire"),"error-callback":()=>a("fail")})}return U(()=>{window.grecaptcha==null?new Promise(f=>{window.recaptchaReady=function(){f()};const g=window.document,_="recaptcha-script",V=g.createElement("script");V.id=_,V.setAttribute("src",`https://www.google.com/recaptcha/api.js?onload=recaptchaReady&render=explicit&hl=${p.hl}`),g.head.appendChild(V)}).then(()=>{m()}):m()}),(f,g)=>(k(),x("div",{ref_key:"recaptchaDiv",ref:y},null,512))}});const ee={class:"auth-wrapper d-flex align-center justify-center pa-4"},ae={class:"d-flex"},te=["src"],se={class:"text-h5 font-weight-semibold mb-1"},re={class:"mb-0"},le={key:0,class:"text-error"},oe={class:"d-flex align-center"},ne={class:"me-1"},ie={href:"javascript:void(0)",class:"text-primary"},ce={class:"mx-4"},de={components:{VueRecaptcha:Z}},_e=Object.assign(de,{__name:"Register",props:{showRecaptcha:{type:Boolean,default:!1},recaptchaSiteKey:{type:String,default:""}},setup(u){const h=v(!1),a=j({name:"",email:"",password:"",password_confirmation:"",terms:!1,recaptcha:""}),p=z(),y=B(()=>p.global.name.value==="light"?G:H),n=v(!1),m=v(),f=()=>{a.post(route("register"),{preserveScroll:!0,preserveState:!0,onFinish:()=>a.reset("password","password_confirmation")})},g=function(l){a.recaptcha=l,a.errors.recaptcha=null},_=function(){a.recaptcha=null,m.value.reset()},V=function(){a.recaptcha=null,m.value.reset()};return(l,r)=>{const T=C("VueRecaptcha"),q=C("Link");return k(),x("div",ee,[e(F,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:s(()=>[e(I,{class:"justify-center"},{prepend:s(()=>[c("div",ae,[c("img",{src:t(M),class:"w-100"},null,8,te)])]),_:1}),e($,{class:"pt-2"},{default:s(()=>[c("h5",se,d(l.$t("Adventure starts here")),1),c("p",re,d(l.$t("Make your school management easy and fun!")),1)]),_:1}),e($,null,{default:s(()=>[e(W,{modelValue:h.value,"onUpdate:modelValue":r[7]||(r[7]=o=>h.value=o),onSubmit:E(f,["prevent"])},{default:s(()=>[e(X,null,{default:s(()=>[e(i,{cols:"12"},{default:s(()=>[e(w,{modelValue:t(a).name,"onUpdate:modelValue":r[0]||(r[0]=o=>t(a).name=o),label:l.$t("Name"),"error-message":t(a).errors.name,required:""},null,8,["modelValue","label","error-message"])]),_:1}),e(i,{cols:"12"},{default:s(()=>[e(w,{modelValue:t(a).email,"onUpdate:modelValue":r[1]||(r[1]=o=>t(a).email=o),label:l.$t("Email"),type:"email","error-messages":t(a).errors.email,required:""},null,8,["modelValue","label","error-messages"])]),_:1}),e(i,{cols:"12"},{default:s(()=>[e(w,{modelValue:t(a).password,"onUpdate:modelValue":r[2]||(r[2]=o=>t(a).password=o),label:l.$t("Password"),type:n.value?"text":"password","append-inner-icon":n.value?"mdi-eye-off-outline":"mdi-eye-outline","error-messages":t(a).errors.password,min:"8",required:"","onClick:appendInner":r[3]||(r[3]=o=>n.value=!n.value)},null,8,["modelValue","label","type","append-inner-icon","error-messages"])]),_:1}),e(i,{cols:"12"},{default:s(()=>[e(w,{modelValue:t(a).password_confirmation,"onUpdate:modelValue":r[4]||(r[4]=o=>t(a).password_confirmation=o),label:l.$t("Confirm Password"),type:n.value?"text":"password","append-inner-icon":n.value?"mdi-eye-off-outline":"mdi-eye-outline","error-messages":t(a).errors.password_confirmation,min:"8",required:"","onClick:appendInner":r[5]||(r[5]=o=>n.value=!n.value)},null,8,["modelValue","label","type","append-inner-icon","error-messages"])]),_:1}),e(i,{cols:"12"},{default:s(()=>[N(e(T,{ref_key:"vueRecaptchaRef",ref:m,sitekey:u.recaptchaSiteKey,size:"normal",theme:"light",class:"g-recaptcha",onVerify:g,onExpire:_,onFail:V},null,8,["sitekey"]),[[L,u.showRecaptcha]]),t(a).errors.recaptcha?(k(),x("p",le,d(t(a).errors.recaptcha),1)):P("",!0)]),_:1}),e(i,{cols:"12"},{default:s(()=>[c("div",oe,[e(Y,{id:"terms",modelValue:t(a).terms,"onUpdate:modelValue":r[6]||(r[6]=o=>t(a).terms=o),inline:"","error-messages":t(a).errors.terms},null,8,["modelValue","error-messages"]),e(A,{for:"terms",style:{opacity:"1"}},{default:s(()=>[c("span",ne,d(l.$t("I agree to")),1),c("a",ie,d(l.$t("privacy policy & terms")),1)]),_:1})])]),_:1}),e(i,{cols:"12"},{default:s(()=>[e(K,{loading:t(a).processing,disabled:!t(a).isDirty&&h.value,type:"submit",block:""},{default:s(()=>[R(d(l.$t("Sign up")),1)]),_:1},8,["loading","disabled"])]),_:1}),e(i,{cols:"12",class:"text-center text-base"},{default:s(()=>[c("span",null,d(l.$t("Already have an account?")),1),e(q,{class:"text-primary ms-2",href:l.route("login")},{default:s(()=>[R(d(l.$t("Sign in instead")),1)]),_:1},8,["href"])]),_:1}),e(i,{cols:"12",class:"d-flex align-center"},{default:s(()=>[e(S),c("span",ce,d(l.$t("or")),1),e(S)]),_:1}),e(i,{cols:"12",class:"text-center"},{default:s(()=>[e(O)]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1}),e(b,{class:"auth-footer-start-tree d-none d-md-block",src:t(J),width:250},null,8,["src"]),e(b,{src:t(Q),class:"auth-footer-end-tree d-none d-md-block",width:350},null,8,["src"]),e(b,{class:"auth-footer-mask d-none d-md-block",src:t(y)},null,8,["src"])])}}});export{_e as default};

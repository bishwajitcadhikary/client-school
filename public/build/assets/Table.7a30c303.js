import{r as _,aw as h,d as n,w as a,V as S,aO as z,H as D,o as u,c as d,av as e,g as t,ax as B,Y as p,bi as j,f as i,k as O,m as f,D as y,l as $,i as T,aS as F,e as R,bj as U,aT as G,n as E,a1 as H,aK as b,u as A}from"./app.024f86d4.js";import{_ as K}from"./Pagination.f66c5c8b.js";import{_ as L}from"./DataNotFound.0f4dca2f.js";import{V}from"./VTooltip.2a21bcfe.js";import{V as I}from"./VTable.ccb6ff10.js";import"./VCol.19781618.js";/* empty css              */import"./VRow.a17a7fb6.js";const Y=e("th",null,"Order ID",-1),q={class:"text-center"},J={class:"text-center",width:"15%"},M={class:"text-center"},Q={class:"text-center"},W={colspan:"2"},X=["src"],se={__name:"Table",props:{orders:{type:Object,default:null}},setup(v){const P=v,w=H("dateFormat"),m=_(!1),s=_(null),N=l=>{m.value=!0,s.value=P.orders.data.find(o=>o.id===l)},g=l=>{b.Inertia.post(route("admin.orders.accept",l),{_method:"PUT"},{preserveState:!0,preserveScroll:!0,only:["orders","flash"],onSuccess:o=>{A().showNotification(o)},onFinish:()=>{m.value=!1}})},C=l=>{b.Inertia.post(route("admin.orders.reject",l),{_method:"PUT"},{preserveState:!0,preserveScroll:!0,only:["orders","flash"],onSuccess:o=>{A().showNotification(o)},onFinish:()=>{m.value=!1}})};return(l,o)=>(u(),h(D,null,[n(S,null,{default:a(()=>[v.orders.data.length?(u(),d(I,{key:0},{default:a(()=>[e("thead",null,[e("tr",null,[Y,e("th",null,t(l.$t("Customer")),1),e("th",null,t(l.$t("Plan")),1),e("th",null,t(l.$t("Gateway")),1),e("th",q,t(l.$t("Status")),1),e("th",null,t(l.$t("Order At")),1),e("th",J,t(l.$t("Actions")),1)])]),e("tbody",null,[(u(!0),h(D,null,B(v.orders.data,r=>(u(),h("tr",{key:r.id},[e("td",null,t(r.id),1),e("td",null,t(r.customer.name),1),e("td",null,t(r.plan.name),1),e("td",null,t(r.gateway.name),1),e("td",M,[r.status==0?(u(),d(p,{key:0,color:"warning",dark:""},{default:a(()=>[n(j,{width:"3",size:"x-small",class:"me-3",color:"warning",indeterminate:""}),i(" "+t(l.$t("Pending")),1)]),_:1})):r.status==1?(u(),d(p,{key:1,color:"primary",dark:"","prepend-icon":"mdi-check"},{default:a(()=>[i(t(l.$t("Accepted")),1)]),_:1})):(u(),d(p,{key:2,color:"error",dark:"","prepend-icon":"mdi-close"},{default:a(()=>[i(t(l.$t("Rejected")),1)]),_:1}))]),e("td",null,t(O(w)(r.created_at)),1),e("td",Q,[n(V,{text:l.$t("Accept")},{activator:a(({props:c})=>[n(f,y({variant:"plain",size:"small",icon:"mdi-check"},c,{onClick:k=>g(r.id)}),null,16,["onClick"])]),_:2},1032,["text"]),n(V,{text:l.$t("Reject")},{activator:a(({props:c})=>[n(f,y({variant:"plain",size:"small",icon:"mdi-close"},c,{onClick:k=>C(r.id)}),null,16,["onClick"])]),_:2},1032,["text"]),n(V,{text:l.$t("View Details")},{activator:a(({props:c})=>[n(f,y({variant:"plain",size:"small",icon:"mdi-eye-outline"},c,{onClick:k=>N(r.id)}),null,16,["onClick"])]),_:2},1032,["text"])])]))),128))])]),_:1})):$("",!0),n(T,null,{default:a(()=>[v.orders.data.length?$("",!0):(u(),d(L,{key:0})),n(K,{pagination:v.orders},null,8,["pagination"])]),_:1})]),_:1}),n(z,{modelValue:m.value,"onUpdate:modelValue":o[3]||(o[3]=r=>m.value=r),"max-width":"500",persistent:""},{default:a(()=>[n(S,null,{default:a(()=>[n(F,null,{default:a(()=>[n(R,null,{default:a(()=>[i(t(l.$t("Order Details")),1)]),_:1})]),_:1}),n(T,null,{default:a(()=>[n(I,null,{default:a(()=>{var r,c,k;return[e("tbody",null,[e("tr",null,[e("td",null,t(l.$t("Order ID")),1),e("td",null,t(s.value.id),1)]),e("tr",null,[e("td",null,t(l.$t("Transaction ID")),1),e("td",null,t(s.value.trx_id),1)]),e("tr",null,[e("td",null,t(l.$t("Customer")),1),e("td",null,t((r=s.value.customer)==null?void 0:r.name),1)]),e("tr",null,[e("td",null,t(l.$t("Plan")),1),e("td",null,t((c=s.value.plan)==null?void 0:c.name),1)]),e("tr",null,[e("td",null,t(l.$t("Gateway")),1),e("td",null,t((k=s.value.gateway)==null?void 0:k.name),1)]),e("tr",null,[e("td",null,t(l.$t("Status")),1),e("td",null,[s.value.status==0?(u(),d(p,{key:0,color:"warning",dark:""},{default:a(()=>[n(j,{width:"3",size:"x-small",class:"me-3",color:"warning",indeterminate:""}),i(" "+t(l.$t("Pending")),1)]),_:1})):s.value.status==1?(u(),d(p,{key:1,color:"primary",dark:"","prepend-icon":"mdi-check"},{default:a(()=>[i(t(l.$t("Accepted")),1)]),_:1})):(u(),d(p,{key:2,color:"error",dark:"","prepend-icon":"mdi-close"},{default:a(()=>[i(t(l.$t("Rejected")),1)]),_:1}))])]),e("tr",null,[e("td",null,t(l.$t("Description")),1),e("td",null,t(s.value.description),1)]),e("tr",null,[e("td",null,t(l.$t("Order At")),1),e("td",null,t(O(w)(s.value.created_at)),1)]),e("tr",null,[e("td",W,[n(U,{class:"pa-5"},{default:a(()=>[e("img",{src:s.value.screenshot,alt:""},null,8,X)]),_:1})])])])]}),_:1})]),_:1}),n(G,{class:"justify-space-between"},{default:a(()=>[s.value.status==0?(u(),d(f,{key:0,color:"primary",variant:"text",onClick:o[0]||(o[0]=r=>g(s.value.id))},{default:a(()=>[i(t(l.$t("Accept")),1)]),_:1})):$("",!0),s.value.status==0?(u(),d(f,{key:1,color:"error",variant:"text",onClick:o[1]||(o[1]=r=>C(s.value.id))},{default:a(()=>[i(t(l.$t("Reject")),1)]),_:1})):$("",!0),n(f,{color:"green-darken-1",variant:"text",onClick:o[2]||(o[2]=r=>m.value=!1)},{default:a(()=>[n(E,null,{default:a(()=>[i("mdi-close")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}};export{se as default};

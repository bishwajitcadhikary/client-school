import{u as L,ay as A,a as f,c as $,w as n,b as S,o as h,d as t,av as a,g as o,n as y,f as g,k as u,m as V,V as F,aw as b,ax as I,bH as P,D as w,l as E,H}from"./app.c74c21f4.js";import j from"./SettingsDrawerContent.4e2e494c.js";import{_ as O}from"./Pagination.ddb96f02.js";import{V as R}from"./VTable.bbaee15f.js";import{V as k}from"./VSwitch.c46a2151.js";import{V as N}from"./VTooltip.6345da64.js";import{V as q}from"./VContainer.9871394f.js";import"./VSelect.5810ae9c.js";import"./VCheckboxBtn.85849725.js";import"./VSelectionControl.e7494f68.js";import"./VLabel.2a4a1171.js";import"./form.655e4f4e.js";import"./VTextField.2cf6dc35.js";import"./VCounter.bd549793.js";/* empty css              */const z={class:"mt-4 mr-2"},G=a("th",null,null,-1),J={class:"pa-1",width:"10%"},re={__name:"Index",props:{currencies:{type:Object,default:null},last_sync_at:{type:String,default:null}},setup(p){const C=p,_=L(),D=A(),i=f({statuses:[...C.currencies.data.map(e=>!!e.is_active)],default:[...C.currencies.data.map(e=>!!e.is_default)]});function T(e,c){f({_method:"PUT",is_active:i.statuses[e]}).post(route("admin.settings.currencies.change-status",{currency:c}),{preserveScroll:!0,preserveState:!0,onSuccess:d=>{_.showNotification(d),i.statuses=d.props.currencies.data.map(m=>!!m.is_active)}})}function U(e,c){f({_method:"PUT",is_default:i.default[e]}).post(route("admin.settings.currencies.change-default",{currency:c}),{preserveScroll:!0,preserveState:!0,onSuccess:d=>{_.showNotification(d),i.default=d.props.currencies.data.map(m=>!!m.is_default)}})}const v=f({_method:"PUT"});return(e,c)=>{const d=S("Link"),m=S("AppLayout");return h(),$(m,{title:e.$t("Currencies")},{"sub-navbar":n(()=>[t(j)]),actions:n(()=>[a("p",z,o(p.last_sync_at),1),t(V,{loading:u(v).processing,onClick:c[0]||(c[0]=s=>u(v).post(e.route("admin.settings.currencies.sync"),{onSuccess:l=>u(_).showNotification(l)}))},{default:n(()=>[t(y,null,{default:n(()=>[g("mdi-plus")]),_:1}),g(" "+o(e.$t("Sync")),1)]),_:1},8,["loading"]),t(d,{href:e.route("admin.settings.currencies.create")},{default:n(()=>[t(V,null,{default:n(()=>[t(y,null,{default:n(()=>[g("mdi-plus")]),_:1}),g(" "+o(e.$t("Add New")),1)]),_:1})]),_:1},8,["href"])]),default:n(()=>[t(q,null,{default:n(()=>[t(F,null,{default:n(()=>[t(R,{class:"table-rounded"},{default:n(()=>[a("thead",null,[a("tr",null,[a("th",null,o(e.$t("Name")),1),a("th",null,o(e.$t("Code")),1),a("th",null,o(e.$t("Rate")),1),a("th",null,o(e.$t("Is Active")),1),a("th",null,o(e.$t("Is Default")),1),G])]),a("tbody",null,[(h(!0),b(H,null,I(p.currencies.data,(s,l)=>(h(),b("tr",{key:l},[a("td",null,o(s.name),1),a("td",null,o(s.code),1),a("td",null,o(s.rate),1),a("td",null,[t(k,{modelValue:u(i).statuses[l],"onUpdate:modelValue":r=>u(i).statuses[l]=r,color:"primary","hide-detail":"",onChange:r=>T(l,s.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),a("td",null,[t(k,{modelValue:u(i).default[l],"onUpdate:modelValue":r=>u(i).default[l]=r,color:"primary","hide-detail":"",onChange:r=>U(l,s.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),a("td",J,[t(P,{rounded:"xl"},{default:n(()=>[t(N,{text:e.$t("Edit Currency")},{activator:n(({props:r})=>[t(V,w({icon:"mdi-clipboard-edit-outline"},r,{onClick:B=>e.$inertia.visit(e.route("admin.settings.currencies.edit",{currency:s.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),s.is_default?E("",!0):(h(),$(N,{key:0,text:e.$t("Delete Currency")},{activator:n(({props:r})=>[t(V,w({icon:"mdi-delete-outline"},r,{onClick:B=>u(D).showDialog(e.route("admin.settings.currencies.destroy",{currency:s.id}))}),null,16,["onClick"])]),_:2},1032,["text"]))]),_:2},1024)])]))),128))])]),_:1}),t(O,{pagination:p.currencies},null,8,["pagination"])]),_:1})]),_:1})]),_:1},8,["title"])}}};export{re as default};

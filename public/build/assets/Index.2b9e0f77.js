import{c as r,w as a,b as w,o as n,d as i,V as D,a9 as e,g as o,aa as y,ab as z,S as k,f as c,m as d,n as u,O as m,bh as N,p as F,k as _,ac as A,M as B,i as I,a5 as V,aq as T,u as L}from"./app.4e419244.js";import{_ as P}from"./Pagination.dedb92ff.js";import{_ as j}from"./DataNotFound.eb5df1c3.js";import{V as E}from"./VTable.03c16a94.js";import{V as h}from"./VTooltip.ef233a6c.js";import{V as O}from"./VContainer.30e67b57.js";import"./VCol.a910cf49.js";/* empty css              */import"./VRow.54e80b11.js";const q=e("th",null,"#",-1),M={class:"text-center"},G={class:"text-center"},H={class:"text-center"},J={width:"5%"},K=["href"],Q={class:"text-center"},R={class:"text-center"},U={class:"text-center"},it={__name:"Index",props:{schools:{type:Object,default:null}},setup($){V("currencyFormat");const g=V("dateFormat"),S=t=>{T.Inertia.post(route("admin.schools.database-creation-retry",{school:t}),{},{preserveState:!0,preserveScroll:!0,onSuccess:f=>{L().showNotification(f)}})};return(t,f)=>{const b=w("AppLayout");return n(),r(b,{title:t.$t("Schools"),actions:[{title:t.$t("New School"),href:t.route("admin.schools.create"),icon:"mdi-plus"}]},{default:a(()=>[i(O,null,{default:a(()=>[i(D,null,{default:a(()=>[$.schools.data.length?(n(),r(E,{key:0},{default:a(()=>[e("thead",null,[e("tr",null,[q,e("th",null,o(t.$t("School Name")),1),e("th",null,o(t.$t("Domain")),1),e("th",null,o(t.$t("Customer")),1),e("th",M,o(t.$t("Database")),1),e("th",G,o(t.$t("Status")),1),e("th",null,o(t.$t("Created At")),1),e("th",H,o(t.$t("Actions")),1)])]),e("tbody",null,[(n(!0),y(B,null,z($.schools.data,(s,v)=>{var C;return n(),y("tr",{key:v},[e("td",J,o(v+1),1),e("td",null,o(s.name),1),e("td",null,[e("a",{href:"https://"+s.domain,target:"_blank"},o(s.domain),9,K)]),e("td",null,o((C=s.customer)==null?void 0:C.name),1),e("td",Q,[s.database_created==1?(n(),r(k,{key:0,class:"ma-2",color:"primary"},{default:a(()=>[c(o(t.$t("Created")),1)]),_:1})):d("",!0),i(h,{text:t.$t("Click to refresh")},{activator:a(({props:l})=>[s.database_created==0?(n(),r(u,m({key:0,class:"ma-2",color:"secondary",rounded:"",size:"small"},l,{onClick:f[0]||(f[0]=p=>t.$inertia.reload())}),{default:a(()=>[c(o(t.$t("Creating"))+" ",1),i(N,{class:"ml-3",width:3,size:"x-small",color:"red",indeterminate:""})]),_:2},1040)):d("",!0)]),_:2},1032,["text"]),i(h,{text:t.$t("Click to retry")},{activator:a(({props:l})=>[s.database_created==2?(n(),r(u,m({key:0,class:"ma-2 text-white",color:"error",rounded:"",size:"small"},l,{onClick:p=>S(s.id)}),{default:a(()=>[c(o(t.$t("Failed"))+" ",1),i(F,null,{default:a(()=>[c("mdi-reload")]),_:1})]),_:2},1040,["onClick"])):d("",!0)]),_:2},1032,["text"])]),e("td",R,[s.is_active?(n(),r(k,{key:0,class:"ma-2",color:"primary"},{default:a(()=>[c(o(t.$t("Active")),1)]),_:1})):d("",!0),s.is_active?d("",!0):(n(),r(k,{key:1,class:"ma-2",color:"secondary"},{default:a(()=>[c(o(t.$t("Inactive")),1)]),_:1}))]),e("td",null,o(_(g)(s.created_at)),1),e("td",U,[i(h,{text:t.$t("View School")},{activator:a(({props:l})=>[i(u,m({variant:"plain",size:"small",icon:"mdi-eye-outline"},l,{onClick:p=>t.$inertia.visit(t.route("admin.schools.show",{school:s.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),i(h,{text:t.$t("Finger Print Setting")},{activator:a(({props:l})=>[i(u,m({variant:"plain",size:"small",icon:"mdi-cog-outline"},l,{onClick:p=>t.$inertia.visit(t.route("admin.schools.settings.index",{school:s.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),i(h,{text:t.$t("Edit School")},{activator:a(({props:l})=>[i(u,m({variant:"plain",size:"small",icon:"mdi-clipboard-edit-outline"},l,{onClick:p=>t.$inertia.visit(t.route("admin.schools.edit",{school:s.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),i(h,{text:t.$t("Delete School")},{activator:a(({props:l})=>[i(u,m({variant:"plain",size:"small",icon:"mdi-delete-outline"},l,{onClick:p=>_(A)().showDialog(t.route("admin.schools.destroy",{school:s.id}))}),null,16,["onClick"])]),_:2},1032,["text"])])])}),128))])]),_:1})):d("",!0),i(I,null,{default:a(()=>[$.schools.data.length?d("",!0):(n(),r(j,{key:0})),i(P,{pagination:$.schools},null,8,["pagination"])]),_:1})]),_:1})]),_:1})]),_:1},8,["title","actions"])}}};export{it as default};

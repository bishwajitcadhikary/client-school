import{r as k,aw as B,d as t,w as e,aO as I,H as U,b as j,o as c,V as b,aS as A,e as p,f as s,g as l,i as r,U as E,W as d,aR as i,av as n,m as f,n as h,c as m,Y as D,aN as L,bi as W,aP as q,k as T,t as P,l as N,aT as F,aU as M,a as x,u as H}from"./app.88dbe7b3.js";import{V as z}from"./VContainer.184131ca.js";import{V as w}from"./VRow.f135c61b.js";import{V as v}from"./VCol.2c4b1735.js";/* empty css              */const Y={class:"text-sm"},G={class:"text-body-2"},J={class:"text-sm"},K={class:"text-body-2"},Q={class:"text-sm"},X={class:"text-body-2"},Z={class:"text-sm"},ee={class:"text-body-2"},te={class:"text-sm"},ae={class:"text-body-2"},le={class:"text-sm"},se={class:"text-body-2"},oe={class:"text-sm"},ne={class:"text-body-2"},ue=["href"],de={class:"text-sm"},me={__name:"Show",props:{school:{type:Object,required:!0,default:null}},setup(o){const C=o,V=k(!1),S=`https://${C.school.domain}`,$=k(!0),_=k(!1),g=()=>{let a=new Request(S,{method:"get"});fetch(a,{mode:"no-cors"}).then(u=>{u.status!==404&&($.value=!0)}).catch(u=>{$.value=!1})};g();const O=()=>{x({_method:"PUT"}).post(route("admin.schools.change-status",{school:C.school.id}),{preserveState:!0,preserveScroll:!0,only:["school"],onSuccess:a=>H().showNotification(a),onFinish:a=>{_.value=!1}})};return(a,u)=>{const R=j("AppLayout");return c(),B(U,null,[t(R,{title:o.school.name,back:a.route("admin.schools.index")},{default:e(()=>[t(z,null,{default:e(()=>[t(w,null,{default:e(()=>[t(v,{cols:"12",lg:"4",md:"5"},{default:e(()=>[t(w,null,{default:e(()=>[t(v,{cols:"12"},{default:e(()=>[t(b,null,{default:e(()=>[t(A,null,{default:e(()=>[t(p,null,{default:e(()=>[s(l(a.$t("Database Credentials")),1)]),_:1})]),_:1}),t(r,null,{default:e(()=>[t(E,null,{default:e(()=>[t(d,null,{default:e(()=>[t(i,null,{default:e(()=>[n("h6",Y,[s(l(a.$t("School:"))+" ",1),n("span",G,l(o.school.name),1)])]),_:1})]),_:1}),t(d,null,{default:e(()=>[t(i,null,{default:e(()=>[n("h6",J,[s(l(a.$t("HOST:"))+" ",1),n("span",K,l(o.school.host),1)])]),_:1})]),_:1}),t(d,null,{default:e(()=>[t(i,null,{default:e(()=>[n("h6",Q,[s(l(a.$t("PORT:"))+" ",1),n("span",X,l(o.school.port),1)])]),_:1})]),_:1}),t(d,null,{default:e(()=>[t(i,null,{default:e(()=>[n("h6",Z,[s(l(a.$t("USERNAME:"))+" ",1),n("span",ee,l(o.school.username),1)])]),_:1})]),_:1}),t(d,null,{default:e(()=>[t(i,null,{default:e(()=>[n("h6",te,[s(l(a.$t("PASSWORD:"))+" ",1),n("span",ae,l(V.value?o.school.password:"*********"),1),t(f,{variant:"plain",onClick:u[0]||(u[0]=y=>V.value=!V.value)},{default:e(()=>[t(h,null,{default:e(()=>[s(l(V.value?"mdi-eye-off":"mdi-eye"),1)]),_:1})]),_:1})])]),_:1})]),_:1}),t(d,null,{default:e(()=>[t(i,null,{default:e(()=>[n("h6",le,[s(l(a.$t("DATABASE:"))+" ",1),n("span",se,l(o.school.database),1)])]),_:1})]),_:1}),t(d,null,{default:e(()=>[t(i,null,{default:e(()=>[n("h6",oe,[s(l(a.$t("DOMAIN:"))+" ",1),n("span",ne,[n("a",{href:"http://"+o.school.domain,target:"_blank"},l(o.school.domain),9,ue)])])]),_:1})]),_:1}),t(d,null,{default:e(()=>[t(i,null,{default:e(()=>[n("h6",de,[s(l(a.$t("STATUS:"))+" ",1),o.school.is_active?(c(),m(D,{key:0,color:"primary"},{default:e(()=>[s(l(a.$t("Active"))+" ",1),t(h,{class:"ml-2",icon:"mdi-check"})]),_:1})):(c(),m(D,{key:1,color:"error"},{default:e(()=>[s(l(a.$t("Inactive"))+" ",1),t(h,{class:"ml-2",icon:"mdi-close"})]),_:1}))])]),_:1})]),_:1})]),_:1})]),_:1}),t(r,{class:"d-flex justify-center"},{default:e(()=>[t(f,{class:"me-3",onClick:u[1]||(u[1]=y=>a.$inertia.visit(a.route("admin.schools.edit",{school:o.school.id})))},{default:e(()=>[s(l(a.$t("Edit")),1)]),_:1}),t(f,{class:"me-3","prepend-icon":"mdi-database",href:a.route("admin.schools.database-download",{school:o.school.id})},{default:e(()=>[s(l(a.$t("Download")),1)]),_:1},8,["href"]),t(f,{color:o.school.is_active?"error":"primary",onClick:u[2]||(u[2]=y=>_.value=!0)},{default:e(()=>[s(l(o.school.is_active?a.$t("Deactivate"):a.$t("Activate"))+" ",1),t(h,null,{default:e(()=>[s(l(o.school.is_active?"mdi-arrow-down":"mdi-arrow-up"),1)]),_:1})]),_:1},8,["color"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(v,null,{default:e(()=>[$.value?(c(),m(b,{key:0},{default:e(()=>[t(r,null,{default:e(()=>[n("iframe",{src:S,frameborder:"0",width:"100%",height:"420"})]),_:1}),t(L,{"model-value":!$.value,class:"align-center justify-center text-center",contained:""},{default:e(()=>[t(W,{size:"64",color:"primary",indeterminate:""})]),_:1},8,["model-value"])]),_:1})):(c(),m(w,{key:1,justify:"center"},{default:e(()=>[t(v,{cols:"12",md:"6"},{default:e(()=>[t(b,null,{default:e(()=>[t(r,{class:"d-flex justify-center align-center"},{default:e(()=>[t(q,{class:"text-primary mb-4",variant:"tonal"},{default:e(()=>[t(h,null,{default:e(()=>[s("mdi-server")]),_:1})]),_:1})]),_:1}),t(r,{class:"text-center"},{default:e(()=>[t(v,{cols:"12"},{default:e(()=>[s(l(a.$t("Site is not reachable. Maybe it is down or site deployment is taking time. Please try again later.")),1)]),_:1}),t(v,{cols:"12"},{default:e(()=>[t(f,{onClick:g},{default:e(()=>[t(h,null,{default:e(()=>[s("mdi-refresh")]),_:1}),s(" "+l(a.$t("Refresh")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1})]),_:1})]),_:1})]),_:1},8,["title","back"]),t(I,{modelValue:_.value,"onUpdate:modelValue":u[4]||(u[4]=y=>_.value=y),persistent:"","max-width":"30%"},{default:e(()=>[t(b,null,{default:e(()=>[t(A,null,{default:e(()=>[t(p,null,{default:e(()=>[s(l(a.$t("Are you sure to :status the school",{status:o.school.is_active?T(P)("deactivate"):T(P)("activate")})),1)]),_:1})]),_:1}),o.school.is_active?(c(),m(r,{key:0},{default:e(()=>[s(l(a.$t("Website will be deactivated")),1)]),_:1})):N("",!0),o.school.is_active?N("",!0):(c(),m(r,{key:1},{default:e(()=>[s(l(a.$t("After activation website will be live")),1)]),_:1})),t(F,null,{default:e(()=>[t(M),t(f,{color:"primary",text:"",onClick:u[3]||(u[3]=y=>_.value=!1)},{default:e(()=>[s(l(a.$t("Cancel")),1)]),_:1}),t(f,{color:"error",text:"",onClick:O},{default:e(()=>[s(l(o.school.is_active?a.$t("Deactivate"):a.$t("Activate")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};export{me as default};

import{bs as T,r as v,a9 as D,o as $,aw as R,a as F,bP as U,y as j,d as e,av as u,w as l,V as I,k as s,aL as _,H as M,b as k,aS as N,bO as B,i as S,g as d,j as L,E as z,ar as A,l as H,m as K,f as q,aQ as C}from"./app.ff209ba5.js";import O from"./AuthProvider.61ed6078.js";import{a as Q,b as G,c as J,d as W}from"./auth-v1-tree.87718d64.js";import{V as X}from"./VForm.75801f54.js";import{V as Y}from"./VRow.1d74aad8.js";import{V as i}from"./VCol.196fcba1.js";import{V as w}from"./VTextField.7da22a41.js";import{V as Z}from"./VCheckbox.b29d69b8.js";import{e as ee}from"./VCounter.feafebbb.js";import"./form.96b9598d.js";/* empty css              */import"./VCheckboxBtn.510f2727.js";import"./VSelectionControl.67abed86.js";const ae=T({props:{sitekey:{type:String,required:!0},size:{type:String,required:!1,default:"normal"},theme:{type:String,required:!1,default:"light"},hl:{type:String,required:!1}},emits:{verify:c=>c!=null&&c!="",expire:null,fail:null},setup(c,{expose:h,emit:a}){const p=c,y=v(null);let n=null;h({execute:function(){window.grecaptcha.execute(n)},reset:function(){window.grecaptcha.reset(n)}});function m(){n=window.grecaptcha.render(y.value,{sitekey:p.sitekey,theme:p.theme,size:p.size,callback:f=>a("verify",f),"expired-callback":()=>a("expire"),"error-callback":()=>a("fail")})}return D(()=>{window.grecaptcha==null?new Promise(f=>{window.recaptchaReady=function(){f()};const g=window.document,b="recaptcha-script",V=g.createElement("script");V.id=b,V.setAttribute("src",`https://www.google.com/recaptcha/api.js?onload=recaptchaReady&render=explicit&hl=${p.hl}`),g.head.appendChild(V)}).then(()=>{m()}):m()}),(f,g)=>($(),R("div",{ref_key:"recaptchaDiv",ref:y},null,512))}});const te={class:"auth-wrapper d-flex align-center justify-center pa-4"},se={class:"d-flex"},re=["src"],le={class:"text-h5 font-weight-semibold mb-1"},oe={class:"mb-0"},ne={key:0,class:"text-error"},ie={class:"d-flex align-center"},ue={class:"me-1"},de={href:"javascript:void(0)",class:"text-primary"},ce={class:"mx-4"},pe={components:{VueRecaptcha:ae}},Se=Object.assign(pe,{__name:"Register",props:{showRecaptcha:{type:Boolean,default:!1},recaptchaSiteKey:{type:String,default:null}},setup(c){const h=v(!1),a=F({name:null,phone:null,email:null,password:null,password_confirmation:null,terms:!1,recaptcha:null}),p=U(),y=j(()=>p.global.name.value==="light"?Q:G),n=v(!1),m=v(),f=()=>{a.post(route("register"),{preserveScroll:!0,preserveState:!0,onFinish:()=>a.reset("password","password_confirmation")})},g=function(r){a.recaptcha=r,a.errors.recaptcha=null},b=function(){a.recaptcha=null,m.value.reset()},V=function(){a.recaptcha=null,m.value.reset()};return(r,o)=>{const x=k("Head"),E=k("VueRecaptcha"),P=k("Link");return $(),R(M,null,[e(x,{title:r.$t("Register")},null,8,["title"]),u("div",te,[e(I,{class:"auth-card pa-4 pt-7","max-width":"448"},{default:l(()=>[e(N,{class:"justify-center"},{prepend:l(()=>[u("div",se,[u("img",{src:s(B),class:"w-100"},null,8,re)])]),_:1}),e(S,{class:"pt-2"},{default:l(()=>[u("h5",le,d(r.$t("Adventure starts here")),1),u("p",oe,d(r.$t("Make your school management easy and fun!")),1)]),_:1}),e(S,null,{default:l(()=>[e(X,{modelValue:h.value,"onUpdate:modelValue":o[8]||(o[8]=t=>h.value=t),onSubmit:L(f,["prevent"])},{default:l(()=>[e(Y,null,{default:l(()=>[e(i,{cols:"12"},{default:l(()=>[e(w,{modelValue:s(a).name,"onUpdate:modelValue":o[0]||(o[0]=t=>s(a).name=t),label:r.$t("Name"),"error-message":s(a).errors.name,rules:[t=>!!t||r.$t("Name is required")],required:""},null,8,["modelValue","label","error-message","rules"])]),_:1}),e(i,{cols:"12"},{default:l(()=>[e(w,{modelValue:s(a).phone,"onUpdate:modelValue":o[1]||(o[1]=t=>s(a).phone=t),label:r.$t("Phone"),"error-message":s(a).errors.phone,rules:[t=>!!t||r.$t("Phone is required")],required:""},null,8,["modelValue","label","error-message","rules"])]),_:1}),e(i,{cols:"12"},{default:l(()=>[e(w,{modelValue:s(a).email,"onUpdate:modelValue":o[2]||(o[2]=t=>s(a).email=t),label:r.$t("Email"),type:"email","error-messages":s(a).errors.email,rules:[t=>!!t||r.$t("Email is required"),t=>/.+@.+\..+/.test(t)||r.$t("Email must be valid"),t=>t.length<=255||r.$t("Email must be less than 255 characters")],required:""},null,8,["modelValue","label","error-messages","rules"])]),_:1}),e(i,{cols:"12"},{default:l(()=>[e(w,{modelValue:s(a).password,"onUpdate:modelValue":o[3]||(o[3]=t=>s(a).password=t),label:r.$t("Password"),type:n.value?"text":"password","append-inner-icon":n.value?"mdi-eye-off-outline":"mdi-eye-outline","error-messages":s(a).errors.password,rules:[t=>!!t||r.$t("Password is required"),t=>t.length>=8||r.$t("Password must be at least 8 characters"),t=>t.length<=255],min:"8",required:"","onClick:appendInner":o[4]||(o[4]=t=>n.value=!n.value)},null,8,["modelValue","label","type","append-inner-icon","error-messages","rules"])]),_:1}),e(i,{cols:"12"},{default:l(()=>[e(w,{modelValue:s(a).password_confirmation,"onUpdate:modelValue":o[5]||(o[5]=t=>s(a).password_confirmation=t),label:r.$t("Confirm Password"),type:n.value?"text":"password","append-inner-icon":n.value?"mdi-eye-off-outline":"mdi-eye-outline","error-messages":s(a).errors.password_confirmation,min:"8",required:"","onClick:appendInner":o[6]||(o[6]=t=>n.value=!n.value)},null,8,["modelValue","label","type","append-inner-icon","error-messages"])]),_:1}),e(i,{cols:"12"},{default:l(()=>[z(e(E,{ref_key:"vueRecaptchaRef",ref:m,sitekey:c.recaptchaSiteKey,size:"normal",theme:"light",class:"g-recaptcha",onVerify:g,onExpire:b,onFail:V},null,8,["sitekey"]),[[A,c.showRecaptcha]]),s(a).errors.recaptcha?($(),R("p",ne,d(s(a).errors.recaptcha),1)):H("",!0)]),_:1}),e(i,{cols:"12"},{default:l(()=>[u("div",ie,[e(Z,{id:"terms",modelValue:s(a).terms,"onUpdate:modelValue":o[7]||(o[7]=t=>s(a).terms=t),inline:"","error-messages":s(a).errors.terms},null,8,["modelValue","error-messages"]),e(ee,{for:"terms",style:{opacity:"1"}},{default:l(()=>[u("span",ue,d(r.$t("I agree to")),1),u("a",de,d(r.$t("privacy policy & terms")),1)]),_:1})])]),_:1}),e(i,{cols:"12"},{default:l(()=>[e(K,{loading:s(a).processing,disabled:!s(a).isDirty&&h.value,type:"submit",block:""},{default:l(()=>[q(d(r.$t("Sign up")),1)]),_:1},8,["loading","disabled"])]),_:1}),e(i,{cols:"12",class:"text-center text-base"},{default:l(()=>[u("span",null,d(r.$t("Already have an account?")),1),e(P,{class:"text-primary ms-2",href:r.route("login")},{default:l(()=>[q(d(r.$t("Sign in instead")),1)]),_:1},8,["href"])]),_:1}),e(i,{cols:"12",class:"d-flex align-center"},{default:l(()=>[e(C),u("span",ce,d(r.$t("or")),1),e(C)]),_:1}),e(i,{cols:"12",class:"text-center"},{default:l(()=>[e(O)]),_:1})]),_:1})]),_:1},8,["modelValue","onSubmit"])]),_:1})]),_:1}),e(_,{class:"auth-footer-start-tree d-none d-md-block",src:s(J),width:250},null,8,["src"]),e(_,{src:s(W),class:"auth-footer-end-tree d-none d-md-block",width:350},null,8,["src"]),e(_,{class:"auth-footer-mask d-none d-md-block",src:s(y)},null,8,["src"])])],64)}}});export{Se as default};

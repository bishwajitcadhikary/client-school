import{r as S,a as N,aa as z,d as t,w as e,au as O,M as X,b as Q,o as d,V as p,i as m,c,av as R,aw as Y,m as f,a9 as u,g as a,ax as G,P as U,Q as i,ay as h,f as s,S as P,n as V,k as v,az as H,p as A,aA as g,N as J,aB as x,e as _,j as K,l as D,h as Z,t as B,aC as ee,aD as te,a5 as ae,u as E}from"./app.e3237c79.js";import{V as le}from"./VContainer.24155a4e.js";import{V as F}from"./VRow.35345fce.js";import{V as w}from"./VCol.0b3da7dc.js";import{V as se,a as I,b as oe,c as L}from"./VWindowItem.0cb0de2f.js";import{V as ue,a as ne}from"./VAlert.3a74d033.js";import{V as re}from"./VForm.a297b50e.js";/* empty css              */const de={class:"text-h6 mt-4"},ie={class:"text-h6"},me={class:"text-sm"},ce={class:"text-body-2"},fe={class:"text-sm"},ve={class:"text-body-2"},ye={class:"text-sm"},he={class:"text-body-2"},pe={class:"text-sm"},Ve={class:"text-body-2"},we={class:"text-sm"},$e={class:"text-body-2"},ge={class:"text-sm"},_e={class:"text-body-2"},be={class:"text-sm"},Ce={class:"text-body-2"},ke={class:"text-sm"},Se={class:"text-body-2"},Pe={class:"text-sm"},Ae={class:"text-body-2"},Ie=u("div",{class:"flex-grow-1"},null,-1),Le={class:"text-h3 text-primary font-weight-semibold"},xe={class:"mt-3"},Fe={class:"text-sm font-weight-regular"},Te={class:"my-6"},Ne={class:"d-flex font-weight-semibold mt-3 mb-2"},Ue={class:"text-sm"},De=u("div",{class:"flex-grow-1"},null,-1),Be={class:"text-sm"},Qe={__name:"Show",props:{customer:{type:Object,required:!0,default:null},expiration:{type:String,default:null},percent:{type:String,default:null}},setup(o){const T=o,j=ae("currencyFormat"),b=S("overview"),C=S(!1),k=S(!1),$=S(!1),y=N({_method:"PUT",password:null,password_confirmation:null}),M=()=>{y.post(route("admin.customers.change-password",{customer:T.customer.id}),{preserveState:!0,preserveScroll:!0,onSuccess:l=>{E().showNotification(l),y.reset()}})},W=()=>{N({_method:"PUT"}).post(route("admin.customers.toggle-suspend",{customer:T.customer.id}),{preserveState:!1,onSuccess:l=>E().showNotification(l),onFinish:l=>{$.value=!1}})};return(l,n)=>{const q=Q("AppLayout");return d(),z(X,null,[t(q,{title:o.customer.name},{default:e(()=>[t(le,null,{default:e(()=>[t(F,null,{default:e(()=>[t(w,{cols:"12",lg:"4",md:"5"},{default:e(()=>[t(F,null,{default:e(()=>[t(w,{cols:"12"},{default:e(()=>[t(p,null,{default:e(()=>[t(m,{class:"text-center pt-15"},{default:e(()=>[o.customer.avatar?(d(),c(Y,{key:0,rounded:"sm",size:"120",variant:"tonal"},{default:e(()=>[t(R,{src:o.customer.avatar},null,8,["src"])]),_:1})):f("",!0),u("h6",de,a(o.customer.name),1)]),_:1}),t(m,null,{default:e(()=>[u("h6",ie,a(l.$t("Details")),1),t(G),t(U,null,{default:e(()=>[t(i,null,{default:e(()=>[t(h,null,{default:e(()=>[u("h6",me,[s(a(l.$t("Username:"))+" ",1),u("span",ce,a(o.customer.username),1)])]),_:1})]),_:1}),t(i,null,{default:e(()=>[t(h,null,{default:e(()=>[u("h6",fe,[s(a(l.$t("Email:"))+" ",1),u("span",ve,a(o.customer.email),1)])]),_:1})]),_:1}),t(i,null,{default:e(()=>[t(h,null,{default:e(()=>[u("h6",ye,[s(a(l.$t("Status:"))+" ",1),u("span",he,[o.customer.status===1?(d(),c(P,{key:0,color:"primary",variant:"tonal"},{default:e(()=>[s(a(l.$t("Active")),1)]),_:1})):f("",!0),o.customer.status===0?(d(),c(P,{key:1,color:"secondary",variant:"tonal"},{default:e(()=>[s(a(l.$t("Inactive")),1)]),_:1})):f("",!0),o.customer.status===2?(d(),c(P,{key:2,class:"text-white",color:"red",variant:"tonal"},{default:e(()=>[s(a(l.$t("Inactive")),1)]),_:1})):f("",!0)])])]),_:1})]),_:1}),t(i,null,{default:e(()=>[t(h,null,{default:e(()=>[u("h6",pe,[s(a(l.$t("Contact:"))+" ",1),u("span",Ve,a(o.customer.phone),1)])]),_:1})]),_:1}),o.customer.currency?(d(),c(i,{key:0},{default:e(()=>[t(h,null,{default:e(()=>[u("h6",we,[s(a(l.$t("Currency:"))+" ",1),u("span",$e,a(o.customer.currency.name),1)])]),_:1})]),_:1})):f("",!0),o.customer.language?(d(),c(i,{key:1},{default:e(()=>[t(h,null,{default:e(()=>[u("h6",ge,[s(a(l.$t("Language:"))+" ",1),u("span",_e,a(o.customer.language.name),1)])]),_:1})]),_:1})):f("",!0),o.customer.country?(d(),c(i,{key:2},{default:e(()=>[t(h,null,{default:e(()=>[u("h6",be,[s(a(l.$t("Country:"))+" ",1),u("span",Ce,a(o.customer.country),1)])]),_:1})]),_:1})):f("",!0),o.customer.website?(d(),c(i,{key:3},{default:e(()=>[t(h,null,{default:e(()=>[u("h6",ke,[s(a(l.$t("Website:"))+" ",1),u("span",Se,a(o.customer.website),1)])]),_:1})]),_:1})):f("",!0),t(i,null,{default:e(()=>[t(h,null,{default:e(()=>[u("h6",Pe,[s(a(l.$t("Last Login IP:"))+" ",1),u("span",Ae,a(o.customer.last_login_ip),1)])]),_:1})]),_:1})]),_:1})]),_:1}),t(m,{class:"d-flex justify-center"},{default:e(()=>[t(V,{class:"me-3",onClick:n[0]||(n[0]=r=>l.$inertia.visit(l.route("admin.customers.edit",{customer:o.customer.id})))},{default:e(()=>[s(a(l.$t("Edit")),1)]),_:1}),t(V,{color:o.customer.status!==2?"error":"success",onClick:n[1]||(n[1]=r=>$.value=!0)},{default:e(()=>[s(a(o.customer.status===2?l.$t("Activate"):l.$t("Suspend")),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1}),o.customer.plan?(d(),c(w,{key:0,cols:"12"},{default:e(()=>[t(p,{variant:"elevated"},{default:e(()=>[t(m,{class:"d-flex"},{default:e(()=>[t(P,{color:"primary"},{default:e(()=>[s(a(o.customer.plan.name),1)]),_:1}),Ie,u("h3",Le,a(v(j)(o.customer.inertval==="monthly"?o.customer.plan.monthly_price:o.customer.plan.yearly_price,l.$page.props.app.currency.code)),1),u("sub",xe,[u("h6",Fe," / "+a(o.customer.interval.replace("ly","")),1)])]),_:1}),t(m),t(m,null,{default:e(()=>[u("div",Te,[u("div",Ne,[u("h6",Ue,a(l.$t("Expiration")),1),De,u("h6",Be,a(o.expiration),1)]),t(H,{rounded:"","model-value":o.percent,color:"primary"},null,8,["model-value"])]),t(V,{block:""},{default:e(()=>[s(a(l.$t("Upgrade Plan")),1)]),_:1})]),_:1})]),_:1})]),_:1})):f("",!0)]),_:1})]),_:1}),t(w,{cols:"12",lg:"8",md:"7"},{default:e(()=>[t(p,{class:"mb-5"},{default:e(()=>[t(se,{modelValue:b.value,"onUpdate:modelValue":n[2]||(n[2]=r=>b.value=r),"background-color":"deep-purple-darken-4","center-active":""},{default:e(()=>[t(I,{value:"overview"},{default:e(()=>[t(A,{class:"mr-2"},{default:e(()=>[s(" mdi-user ")]),_:1}),s(" "+a(l.$t("Overview")),1)]),_:1}),t(I,{value:"security"},{default:e(()=>[t(A,{class:"mr-2"},{default:e(()=>[s(" mdi-lock ")]),_:1}),s(" "+a(l.$t("Security")),1)]),_:1}),t(I,{value:"notifications"},{default:e(()=>[t(A,{class:"mr-2"},{default:e(()=>[s(" mdi-bell ")]),_:1}),s(" "+a(l.$t("Notifications")),1)]),_:1}),t(I,{value:"connections"},{default:e(()=>[t(A,{class:"mr-2"},{default:e(()=>[s(" mdi-link ")]),_:1}),s(" "+a(l.$t("Connections")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(oe,{modelValue:b.value,"onUpdate:modelValue":n[7]||(n[7]=r=>b.value=r)},{default:e(()=>[t(L,{value:"overview"},{default:e(()=>[t(p,null,{default:e(()=>[t(g,null,{append:e(()=>[t(V,{"append-icon":"mdi-arrow-down",color:"primary"},{default:e(()=>[s(a(l.$t("Export"))+" ",1),t(J,{activator:"parent"},{default:e(()=>[t(U,null,{default:e(()=>[t(i,{key:"pdf",value:"pdf"},{default:e(()=>[t(x,null,{default:e(()=>[s("PDF")]),_:1})]),_:1}),t(i,{key:"xlsx",value:"xlsx"},{default:e(()=>[t(x,null,{default:e(()=>[s("XLSX")]),_:1})]),_:1}),t(i,{key:"csv",value:"csv"},{default:e(()=>[t(x,null,{default:e(()=>[s("CSV")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),default:e(()=>[t(_,null,{default:e(()=>[s(a(l.$t("Schools")),1)]),_:1})]),_:1})]),_:1})]),_:1}),t(L,{value:"security"},{default:e(()=>[t(p,null,{default:e(()=>[t(g,null,{default:e(()=>[t(_,null,{default:e(()=>[s(a(l.$t("Change Password")),1)]),_:1})]),_:1}),t(m,null,{default:e(()=>[t(ue,{class:"mb-6",color:"warning",icon:"mdi-warning"},{default:e(()=>[t(ne,null,{default:e(()=>[s(a(l.$t("Ensure that these requirements are met")),1)]),_:1}),u("span",null,a(l.$t("Minimum 8 characters long, uppercase & symbol")),1)]),_:1}),t(re,{onSubmit:K(M,["prevent"])},{default:e(()=>[t(F,null,{default:e(()=>[t(w,{cols:"12",md:"6"},{default:e(()=>[t(D,{modelValue:v(y).password,"onUpdate:modelValue":n[3]||(n[3]=r=>v(y).password=r),"append-inner-icon":C.value?"mdi-eye":"mdi-eye-off","error-messages":v(y).errors.password,label:l.$t("Password"),type:C.value?"text":"password",hint:"At least 8 characters","onClick:appendInner":n[4]||(n[4]=r=>C.value=!C.value)},null,8,["modelValue","append-inner-icon","error-messages","label","type"])]),_:1}),t(w,{cols:"12",md:"6"},{default:e(()=>[t(D,{modelValue:v(y).password_confirmation,"onUpdate:modelValue":n[5]||(n[5]=r=>v(y).password_confirmation=r),"append-inner-icon":k.value?"mdi-eye":"mdi-eye-off","error-messages":v(y).errors.password_confirmation,label:l.$t("Confirm Password"),type:k.value?"text":"password","onClick:appendInner":n[6]||(n[6]=r=>k.value=!k.value)},null,8,["modelValue","append-inner-icon","error-messages","label","type"])]),_:1}),t(w,{cols:"12"},{default:e(()=>[t(V,{loading:v(y).processing,type:"submit"},{default:e(()=>[s(a(l.$t("Change Password")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1}),t(L,{value:"notifications"},{default:e(()=>[t(p,null,{default:e(()=>[t(g,null,{default:e(()=>[t(_,null,{default:e(()=>[s(a(l.$t("Notifications")),1)]),_:1}),t(Z,null,{default:e(()=>[s(a(l.$t("You will receive notification for the below selected items.")),1)]),_:1})]),_:1}),t(m)]),_:1})]),_:1}),t(L,{value:"connections"},{default:e(()=>[t(p,null,{default:e(()=>[t(g,null,{default:e(()=>[t(_,null,{default:e(()=>[s(a(l.$t("Connections")),1)]),_:1})]),_:1}),t(m)]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["title"]),t(O,{modelValue:$.value,"onUpdate:modelValue":n[9]||(n[9]=r=>$.value=r),persistent:"","max-width":"30%"},{default:e(()=>[t(p,null,{default:e(()=>[t(g,null,{default:e(()=>[t(_,null,{default:e(()=>[s(a(l.$t("Are you sure to :status the customer",{status:o.customer.status==2?v(B)("activate"):v(B)("suspend")})),1)]),_:1})]),_:1}),o.customer.status!==2?(d(),c(m,{key:0},{default:e(()=>[s(a(l.$t("Customer unable to access the account after the suspension")),1)]),_:1})):f("",!0),o.customer.status==2?(d(),c(m,{key:1},{default:e(()=>[s(a(l.$t("After activation user can access the account")),1)]),_:1})):f("",!0),t(ee,null,{default:e(()=>[t(te),t(V,{color:"primary",text:"",onClick:n[8]||(n[8]=r=>$.value=!1)},{default:e(()=>[s(a(l.$t("Cancel")),1)]),_:1}),t(V,{color:"error",text:"",onClick:W},{default:e(()=>[s(a(o.customer.status==2?l.$t("Activate"):l.$t("Suspend")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};export{Qe as default};

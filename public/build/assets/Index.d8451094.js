import{aJ as E,aK as j,as as M,aZ as O,aS as R,m as b,H as C,N as G,b as t,aP as w,b0 as H,aG as J,aC as _,ax as v,a as U,w as n,r as K,o as h,h as u,i as T,s as D,t as g,F as P,u as y,aY as Y,g as V,e as Z,aA as q,p as k,f as z,ay as Q,aB as W}from"./app.886b2409.js";import X from"./SettingsDrawerContent.58f302a6.js";import{a as F,c as ee,V as te,e as ae}from"./VCard.1fa31838.js";import{V as se}from"./VTable.c1dc17df.js";import{V as I}from"./VSwitch.67b957c8.js";import{V as le}from"./VDialog.518d42e9.js";import"./VSelectionControl.137abeee.js";const B=E()({name:"VTooltip",inheritAttrs:!1,props:{id:String,modelValue:Boolean,text:String,location:{type:String,default:"end"},origin:{type:String,default:"auto"},...j({transition:!1})},emits:{"update:modelValue":s=>!0},setup(s,$){let{attrs:c,slots:d}=$;const p=M(s,"modelValue"),{scopeId:A}=O(),f=R(),S=b(()=>s.id||`v-tooltip-${f}`),m=C(),L=b(()=>s.location.split(" ").length>1?s.location:s.location+" center"),N=b(()=>s.origin==="auto"||s.origin==="overlap"||s.origin.split(" ").length>1||s.location.split(" ").length>1?s.origin:s.origin+" center"),e=b(()=>s.transition?s.transition:p.value?"scale-transition":"fade-transition");return G(()=>t(H,w({modelValue:p.value,"onUpdate:modelValue":l=>p.value=l,ref:m,class:["v-tooltip"],id:S.value,transition:e.value,absolute:!0,locationStrategy:"connected",scrollStrategy:"reposition",location:L.value,origin:N.value,"min-width":0,offset:10,scrim:!1,persistent:!0,"open-on-click":!1,"open-on-hover":!0,"close-on-back":!1,role:"tooltip",eager:!0,activatorProps:{"aria-describedby":S.value}},A,c),{activator:d.activator,default:function(){var i;for(var l,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return(i=(l=d.default)==null?void 0:l.call(d,...a))!=null?i:s.text}})),J({},m)}}),oe=u("th",null,null,-1),ne={class:"pa-1",width:"10%"},ge={__name:"Index",props:{languages:{type:Object,default:null}},setup(s){const $=s,c=W("Notification");C([]),C([]);const d=C(!1),p=C(null),A=[_("Name"),_("Code"),_("Status"),_("Default")],f=v({statuses:[...$.languages.data.map(e=>!!e.is_active)]});function S(e,l){v({is_active:f.statuses[e]}).put(route("admin.settings.languages.change-status",{language:l}),{onSuccess:o=>{o.props.flash.success&&c.success(o.props.flash.success),o.props.flash.error&&c.error(o.props.flash.error),f.statuses=o.props.languages.data.map(a=>!!a.is_active)}})}const m=v({statuses:[...$.languages.data.map(e=>!!e.is_default)]});function L(e,l){v({is_default:f.statuses[e]}).put(route("admin.settings.languages.change-default",{language:l}),{onSuccess:o=>{o.props.flash.success&&c.success(o.props.flash.success),o.props.flash.error&&c.error(o.props.flash.error),m.statuses=o.props.languages.data.map(a=>!!a.is_default)}})}function N(){d.value=!1,v({}).delete(route("admin.settings.languages.destroy",{language:p.value}),{onSuccess:e=>{e.props.flash.success&&c.success(e.props.flash.success),e.props.flash.error&&c.error(e.props.flash.error),f.statuses=e.props.languages.data.map(l=>!!l.is_active),m.statuses=e.props.languages.data.map(l=>!!l.is_default)}})}return(e,l)=>{const o=K("AdminLayout");return h(),U(o,{title:e.$t("Languages"),action:{href:e.route("admin.settings.languages.create"),icon:"mdi-plus",title:e.$t("Add New")}},{"sub-navbar":n(()=>[t(X)]),default:n(()=>[t(q,null,{default:n(()=>[t(F,null,{default:n(()=>[t(se,{class:"table-rounded"},{default:n(()=>[u("thead",null,[u("tr",null,[(h(),T(P,null,D(A,a=>u("th",null,g(a),1)),64)),oe])]),u("tbody",null,[(h(!0),T(P,null,D(s.languages.data,(a,r)=>(h(),T("tr",{key:r},[u("td",null,g(a.name),1),u("td",null,g(a.code),1),u("td",null,[t(I,{modelValue:y(f).statuses[r],"onUpdate:modelValue":i=>y(f).statuses[r]=i,color:"primary","hide-detail":"",onChange:i=>S(r,a.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),u("td",null,[t(I,{modelValue:y(m).statuses[r],"onUpdate:modelValue":i=>y(m).statuses[r]=i,color:"primary","hide-details":"",onChange:i=>L(r,a.id)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),u("td",ne,[t(Y,{rounded:"xl"},{default:n(()=>[t(B,{text:e.$t("Edit Phrases")},{activator:n(({props:i})=>[t(V,w({icon:"mdi-translate"},i,{onClick:x=>e.$inertia.visit(e.route("admin.settings.languages.edit-phrases",{language:a.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),t(B,{text:e.$t("Edit Language")},{activator:n(({props:i})=>[t(V,w({icon:"mdi-clipboard-edit-outline"},i,{onClick:x=>e.$inertia.visit(e.route("admin.settings.languages.edit",{language:a.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),t(B,{text:e.$t("Delete Language")},{activator:n(({props:i})=>[a.is_default?Z("",!0):(h(),U(V,w({key:0,icon:"mdi-delete-outline"},i,{onClick:x=>{d.value=!0,p.value=a.id}}),null,16,["onClick"]))]),_:2},1032,["text"])]),_:2},1024)])]))),128))])]),_:1})]),_:1})]),_:1}),t(le,{modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=a=>d.value=a),"max-width":"290"},{default:n(()=>[t(F,{class:"pa-3"},{default:n(()=>[t(ee,{class:"text-h5 text-center"},{default:n(()=>[k(g(e.$t("Are your sure to delete?")),1)]),_:1}),t(te,{class:"text-center"},{default:n(()=>[u("p",null,g(e.$t("Action cannot be undone")),1)]),_:1}),t(ae,null,{default:n(()=>[t(z),t(V,{onClick:l[0]||(l[0]=a=>d.value=!1)},{default:n(()=>[k(g(e.$t("Cancel")),1)]),_:1}),t(V,{color:"error",onClick:Q(N,["stop"])},{default:n(()=>[k(g(e.$t("Delete")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["title","action"])}}};export{ge as default};

import{r as C,a as P,aw as j,d as t,w as e,aO as W,H as q,b as M,o as d,V as k,i as y,c as i,aL as O,aP as R,l as m,av as u,g as s,aQ as z,U as H,W as V,aR as p,f as o,k as c,Y as S,m as w,n as Q,aS as F,e as I,j as Y,t as T,aT as G,aU as J,a1 as U,u as L}from"./app.ff209ba5.js";import{V as K}from"./VContainer.70025531.js";import{V as _}from"./VRow.1d74aad8.js";import{V as v}from"./VCol.196fcba1.js";import{V as X,a as Z,b as ee,c as te}from"./VWindowItem.c2012aba.js";import{V as ae,a as se}from"./VAlert.c377b488.js";import{V as le}from"./VForm.75801f54.js";import{V as x}from"./VTextField.7da22a41.js";/* empty css              */import"./form.96b9598d.js";import"./VCounter.feafebbb.js";const oe={class:"text-h6 mt-4"},ue={class:"text-h6"},ne={class:"text-sm"},re={class:"text-body-2"},de={class:"text-sm"},ie={class:"text-body-2"},me={class:"text-sm"},ce={class:"text-body-2"},fe={class:"text-sm"},Ve={class:"text-body-2"},pe={class:"text-sm"},ye={class:"text-body-2"},ve={class:"text-sm"},he={class:"text-body-2"},we={class:"text-sm"},$e={class:"text-body-2"},be={class:"text-sm"},ge={class:"text-body-2"},Ce={class:"text-sm"},ke={class:"text-body-2"},Be={__name:"Show",props:{customer:{type:Object,required:!0,default:null},expiration:{type:String,default:null},percent:{type:String,default:null}},setup(l){const A=l;U("currencyFormat");const N=U("dateFormat"),$=C("overview"),b=C(!1),g=C(!1),h=C(!1),f=P({_method:"PUT",password:null,password_confirmation:null}),B=()=>{f.post(route("admin.customers.change-password",{customer:A.customer.id}),{preserveState:!0,preserveScroll:!0,onSuccess:a=>{L().showNotification(a),f.reset()}})},D=()=>{P({_method:"PUT"}).post(route("admin.customers.toggle-suspend",{customer:A.customer.id}),{preserveState:!1,onSuccess:a=>L().showNotification(a),onFinish:a=>{h.value=!1}})};return(a,n)=>{const E=M("AppLayout");return d(),j(q,null,[t(E,{title:l.customer.name},{default:e(()=>[t(K,null,{default:e(()=>[t(_,null,{default:e(()=>[t(v,{cols:"12",lg:"4",md:"5"},{default:e(()=>[t(_,null,{default:e(()=>[t(v,{cols:"12"},{default:e(()=>[t(k,null,{default:e(()=>[t(y,{class:"text-center pt-15"},{default:e(()=>[l.customer.avatar?(d(),i(R,{key:0,rounded:"sm",size:"120",variant:"tonal"},{default:e(()=>[t(O,{src:l.customer.avatar},null,8,["src"])]),_:1})):m("",!0),u("h6",oe,s(l.customer.name),1)]),_:1}),t(y,null,{default:e(()=>[u("h6",ue,s(a.$t("Details")),1),t(z),t(H,null,{default:e(()=>[t(V,null,{default:e(()=>[t(p,null,{default:e(()=>[u("h6",ne,[o(s(a.$t("Username:"))+" ",1),u("span",re,s(l.customer.username),1)])]),_:1})]),_:1}),t(V,null,{default:e(()=>[t(p,null,{default:e(()=>[u("h6",de,[o(s(a.$t("Email:"))+" ",1),u("span",ie,s(l.customer.email),1)])]),_:1})]),_:1}),t(V,null,{default:e(()=>[t(p,null,{default:e(()=>[u("h6",me,[o(s(a.$t("Plan Expire At:"))+" ",1),u("span",ce,s(c(N)(l.customer.plan_expire_at)),1)])]),_:1})]),_:1}),t(V,null,{default:e(()=>[t(p,null,{default:e(()=>[u("h6",fe,[o(s(a.$t("Status:"))+" ",1),u("span",Ve,[l.customer.status==1?(d(),i(S,{key:0,color:"primary",variant:"tonal"},{default:e(()=>[o(s(a.$t("Active")),1)]),_:1})):m("",!0),l.customer.status==0?(d(),i(S,{key:1,color:"secondary",variant:"tonal"},{default:e(()=>[o(s(a.$t("Inactive")),1)]),_:1})):m("",!0),l.customer.status==2?(d(),i(S,{key:2,class:"text-white",color:"red",variant:"tonal"},{default:e(()=>[o(s(a.$t("Inactive")),1)]),_:1})):m("",!0)])])]),_:1})]),_:1}),t(V,null,{default:e(()=>[t(p,null,{default:e(()=>[u("h6",pe,[o(s(a.$t("Contact:"))+" ",1),u("span",ye,s(l.customer.phone),1)])]),_:1})]),_:1}),l.customer.currency?(d(),i(V,{key:0},{default:e(()=>[t(p,null,{default:e(()=>[u("h6",ve,[o(s(a.$t("Currency:"))+" ",1),u("span",he,s(l.customer.currency.name),1)])]),_:1})]),_:1})):m("",!0),l.customer.language?(d(),i(V,{key:1},{default:e(()=>[t(p,null,{default:e(()=>[u("h6",we,[o(s(a.$t("Language:"))+" ",1),u("span",$e,s(l.customer.language.name),1)])]),_:1})]),_:1})):m("",!0),l.customer.country?(d(),i(V,{key:2},{default:e(()=>[t(p,null,{default:e(()=>[u("h6",be,[o(s(a.$t("Country:"))+" ",1),u("span",ge,s(l.customer.country),1)])]),_:1})]),_:1})):m("",!0),l.customer.website?(d(),i(V,{key:3},{default:e(()=>[t(p,null,{default:e(()=>[u("h6",Ce,[o(s(a.$t("Website:"))+" ",1),u("span",ke,s(l.customer.website),1)])]),_:1})]),_:1})):m("",!0)]),_:1})]),_:1}),t(y,{class:"d-flex justify-center"},{default:e(()=>[t(w,{class:"me-3",onClick:n[0]||(n[0]=r=>a.$inertia.visit(a.route("admin.customers.edit",{customer:l.customer.id})))},{default:e(()=>[o(s(a.$t("Edit")),1)]),_:1}),t(w,{color:l.customer.status!==2?"error":"success",onClick:n[1]||(n[1]=r=>h.value=!0)},{default:e(()=>[o(s(l.customer.status==2?a.$t("Activate"):a.$t("Suspend")),1)]),_:1},8,["color"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),t(v,{cols:"12",lg:"8",md:"7"},{default:e(()=>[t(k,{class:"mb-5"},{default:e(()=>[t(X,{modelValue:$.value,"onUpdate:modelValue":n[2]||(n[2]=r=>$.value=r),"background-color":"deep-purple-darken-4","center-active":""},{default:e(()=>[t(Z,{value:"security"},{default:e(()=>[t(Q,{class:"mr-2"},{default:e(()=>[o(" mdi-lock ")]),_:1}),o(" "+s(a.$t("Security")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(ee,{modelValue:$.value,"onUpdate:modelValue":n[7]||(n[7]=r=>$.value=r)},{default:e(()=>[t(te,{value:"security"},{default:e(()=>[t(k,null,{default:e(()=>[t(F,null,{default:e(()=>[t(I,null,{default:e(()=>[o(s(a.$t("Change Password")),1)]),_:1})]),_:1}),t(y,null,{default:e(()=>[t(ae,{class:"mb-6",color:"warning",icon:"mdi-warning"},{default:e(()=>[t(se,null,{default:e(()=>[o(s(a.$t("Ensure that these requirements are met")),1)]),_:1}),u("span",null,s(a.$t("Minimum 8 characters long, uppercase & symbol")),1)]),_:1}),t(le,{onSubmit:Y(B,["prevent"])},{default:e(()=>[t(_,null,{default:e(()=>[t(v,{cols:"12",md:"6"},{default:e(()=>[t(x,{modelValue:c(f).password,"onUpdate:modelValue":n[3]||(n[3]=r=>c(f).password=r),"append-inner-icon":b.value?"mdi-eye":"mdi-eye-off","error-messages":c(f).errors.password,label:a.$t("Password"),type:b.value?"text":"password",hint:"At least 8 characters","onClick:appendInner":n[4]||(n[4]=r=>b.value=!b.value)},null,8,["modelValue","append-inner-icon","error-messages","label","type"])]),_:1}),t(v,{cols:"12",md:"6"},{default:e(()=>[t(x,{modelValue:c(f).password_confirmation,"onUpdate:modelValue":n[5]||(n[5]=r=>c(f).password_confirmation=r),"append-inner-icon":g.value?"mdi-eye":"mdi-eye-off","error-messages":c(f).errors.password_confirmation,label:a.$t("Confirm Password"),type:g.value?"text":"password","onClick:appendInner":n[6]||(n[6]=r=>g.value=!g.value)},null,8,["modelValue","append-inner-icon","error-messages","label","type"])]),_:1}),t(v,{cols:"12"},{default:e(()=>[t(w,{loading:c(f).processing,type:"submit"},{default:e(()=>[o(s(a.$t("Change Password")),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["onSubmit"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["title"]),t(W,{modelValue:h.value,"onUpdate:modelValue":n[9]||(n[9]=r=>h.value=r),persistent:"","max-width":"30%"},{default:e(()=>[t(k,null,{default:e(()=>[t(F,null,{default:e(()=>[t(I,null,{default:e(()=>[o(s(a.$t("Are you sure to :status the customer",{status:l.customer.status==2?c(T)("activate"):c(T)("suspend")})),1)]),_:1})]),_:1}),l.customer.status!==2?(d(),i(y,{key:0},{default:e(()=>[o(s(a.$t("Customer unable to access the account after the suspension")),1)]),_:1})):m("",!0),l.customer.status==2?(d(),i(y,{key:1},{default:e(()=>[o(s(a.$t("After activation user can access the account")),1)]),_:1})):m("",!0),t(G,null,{default:e(()=>[t(J),t(w,{color:"primary",text:"",onClick:n[8]||(n[8]=r=>h.value=!1)},{default:e(()=>[o(s(a.$t("Cancel")),1)]),_:1}),t(w,{color:"error",text:"",onClick:D},{default:e(()=>[o(s(l.customer.status==2?a.$t("Activate"):a.$t("Suspend")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};export{Be as default};

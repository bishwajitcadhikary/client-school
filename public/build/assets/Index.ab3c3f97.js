import{c as n,w as o,b as g,o as r,d as s,V as D,a9 as e,g as a,aa as y,ab as N,S as f,f as d,m as c,n as u,O as m,b6 as z,p as A,k as _,ac as B,M as F,a5 as V,aq as I,u as L}from"./app.340fc64f.js";import{_ as T}from"./Pagination.515e6079.js";import{V as j}from"./VTable.623b1e8c.js";import{V as h}from"./VTooltip.6af89680.js";import{V as E}from"./VContainer.a50ae478.js";/* empty css              */const O=e("th",null,"#",-1),P={class:"text-center"},q={class:"text-center"},M={class:"text-center",width:"15%"},G={width:"5%"},H={class:"text-center"},J={class:"text-center"},K={class:"text-center"},Q={class:"mb-5 mt-5"},x={__name:"Index",props:{schools:{type:Object,default:null}},setup(v){V("currencyFormat");const b=V("dateFormat"),S=t=>{I.Inertia.post(route("admin.schools.database-creation-retry",{school:t}),{},{preserveState:!0,preserveScroll:!0,onSuccess:p=>{L().showNotification(p)}})};return(t,p)=>{const w=g("AppLayout");return r(),n(w,{title:t.$t("Schools"),actions:[{title:t.$t("New School"),href:t.route("admin.schools.create"),icon:"mdi-plus"}]},{default:o(()=>[s(E,null,{default:o(()=>[s(D,null,{default:o(()=>[s(j,null,{default:o(()=>[e("thead",null,[e("tr",null,[O,e("th",null,a(t.$t("School Name")),1),e("th",null,a(t.$t("Domain")),1),e("th",null,a(t.$t("Customer")),1),e("th",P,a(t.$t("Database")),1),e("th",q,a(t.$t("Status")),1),e("th",null,a(t.$t("Created At")),1),e("th",M,a(t.$t("Actions")),1)])]),e("tbody",null,[(r(!0),y(F,null,N(v.schools.data,(l,C)=>{var k;return r(),y("tr",{key:C},[e("td",G,a(C+1),1),e("td",null,a(l.name),1),e("td",null,a(l.domain),1),e("td",null,a((k=l.customer)==null?void 0:k.name),1),e("td",H,[l.database_created==1?(r(),n(f,{key:0,class:"ma-2",color:"primary"},{default:o(()=>[d(a(t.$t("Created")),1)]),_:1})):c("",!0),s(h,{text:t.$t("Click to refresh")},{activator:o(({props:i})=>[l.database_created==0?(r(),n(u,m({key:0,class:"ma-2",color:"secondary",rounded:"",size:"small"},i,{onClick:p[0]||(p[0]=$=>t.$inertia.reload())}),{default:o(()=>[d(a(t.$t("Creating"))+" ",1),s(z,{class:"ml-3",width:3,size:"x-small",color:"red",indeterminate:""})]),_:2},1040)):c("",!0)]),_:2},1032,["text"]),s(h,{text:t.$t("Click to retry")},{activator:o(({props:i})=>[l.database_created==2?(r(),n(u,m({key:0,class:"ma-2 text-white",color:"error",rounded:"",size:"small"},i,{onClick:$=>S(l.id)}),{default:o(()=>[d(a(t.$t("Failed"))+" ",1),s(A,null,{default:o(()=>[d("mdi-reload")]),_:1})]),_:2},1040,["onClick"])):c("",!0)]),_:2},1032,["text"])]),e("td",J,[l.is_active?(r(),n(f,{key:0,class:"ma-2",color:"primary"},{default:o(()=>[d(a(t.$t("Active")),1)]),_:1})):c("",!0),l.is_active?c("",!0):(r(),n(f,{key:1,class:"ma-2",color:"secondary"},{default:o(()=>[d(a(t.$t("Inactive")),1)]),_:1}))]),e("td",null,a(_(b)(l.created_at)),1),e("td",K,[s(h,{text:t.$t("View School")},{activator:o(({props:i})=>[s(u,m({variant:"plain",size:"small",icon:"mdi-eye-outline"},i,{onClick:$=>t.$inertia.visit(t.route("admin.schools.show",{school:l.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),s(h,{text:t.$t("Edit School")},{activator:o(({props:i})=>[s(u,m({variant:"plain",size:"small",icon:"mdi-clipboard-edit-outline"},i,{onClick:$=>t.$inertia.visit(t.route("admin.schools.edit",{school:l.id}))}),null,16,["onClick"])]),_:2},1032,["text"]),s(h,{text:t.$t("Delete School")},{activator:o(({props:i})=>[s(u,m({variant:"plain",size:"small",icon:"mdi-delete-outline"},i,{onClick:$=>_(B)().showDialog(t.route("admin.schools.destroy",{school:l.id}))}),null,16,["onClick"])]),_:2},1032,["text"])])])}),128))])]),_:1}),e("div",Q,[s(T,{pagination:v.schools},null,8,["pagination"])])]),_:1})]),_:1})]),_:1},8,["title","actions"])}}};export{x as default};

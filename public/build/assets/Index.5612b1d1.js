import{_ as T}from"./Pagination.4693f81e.js";import{r as V,aa as $,d as n,w as a,au as N,M as w,b as B,o as u,V as _,a9 as e,g as t,ab as F,c as i,bo as C,f as d,S as m,k as g,n as f,O as R,aA as z,e as L,i as U,bq as q,aC as G,m as S,p as E,a5 as M,aq as b,u as O}from"./app.fc5e7aab.js";import{V as H}from"./VContainer.88b2197d.js";import{V as A}from"./VTable.0896bf51.js";import{V as J}from"./VTooltip.fea51317.js";/* empty css              */const K=e("th",null,"Order ID",-1),Q={class:"text-center"},W={class:"text-center",width:"15%"},X={class:"text-center"},Y={class:"text-center"},Z={class:"mb-5 mt-5"},x={colspan:"2"},ee=["src"],oe={__name:"Index",props:{orders:{type:Object,default:null}},setup(h){const k=h,y=M("dateFormat"),c=V(!1),s=V(null),D=l=>{c.value=!0,s.value=k.orders.data.find(o=>o.id===l)},I=l=>{b.Inertia.post(route("admin.orders.accept",l),{_method:"PUT"},{preserveState:!0,preserveScroll:!0,only:["orders","flash"],onSuccess:o=>{O().showNotification(o)},onFinish:()=>{c.value=!1}})},j=l=>{b.Inertia.post(route("admin.orders.reject",l),{_method:"PUT"},{preserveState:!0,preserveScroll:!0,only:["orders","flash"],onSuccess:o=>{O().showNotification(o)},onFinish:()=>{c.value=!1}})};return(l,o)=>{const P=B("AppLayout");return u(),$(w,null,[n(P,{title:l.$t("Orders")},{default:a(()=>[n(H,null,{default:a(()=>[n(_,null,{default:a(()=>[n(A,null,{default:a(()=>[e("thead",null,[e("tr",null,[K,e("th",null,t(l.$t("Customer")),1),e("th",null,t(l.$t("Plan")),1),e("th",null,t(l.$t("Gateway")),1),e("th",Q,t(l.$t("Status")),1),e("th",null,t(l.$t("Order At")),1),e("th",W,t(l.$t("Actions")),1)])]),e("tbody",null,[(u(!0),$(w,null,F(k.orders.data,r=>(u(),$("tr",{key:r.id},[e("td",null,t(r.id),1),e("td",null,t(r.plan.name),1),e("td",null,t(r.gateway.name),1),e("td",X,[r.status===0?(u(),i(m,{key:0,color:"warning",dark:""},{default:a(()=>[n(C,{width:"3",size:"x-small",class:"me-3",color:"warning",indeterminate:""}),d(" "+t(l.$t("Pending")),1)]),_:1})):r.status===1?(u(),i(m,{key:1,color:"primary",dark:"","prepend-icon":"mdi-check"},{default:a(()=>[d(t(l.$t("Accepted")),1)]),_:1})):(u(),i(m,{key:2,color:"error",dark:"","prepend-icon":"mdi-close"},{default:a(()=>[d(t(l.$t("Rejected")),1)]),_:1}))]),e("td",null,t(g(y)(r.created_at)),1),e("td",Y,[n(J,{text:l.$t("View Details")},{activator:a(({props:p})=>[n(f,R({variant:"plain",size:"small",icon:"mdi-eye-outline"},p,{onClick:v=>D(r.id)}),null,16,["onClick"])]),_:2},1032,["text"])])]))),128))])]),_:1}),e("div",Z,[n(T,{pagination:h.orders},null,8,["pagination"])])]),_:1})]),_:1})]),_:1},8,["title"]),n(N,{modelValue:c.value,"onUpdate:modelValue":o[3]||(o[3]=r=>c.value=r),"max-width":"500",persistent:""},{default:a(()=>[n(_,null,{default:a(()=>[n(z,null,{default:a(()=>[n(L,null,{default:a(()=>[d(t(l.$t("Order Details")),1)]),_:1})]),_:1}),n(U,null,{default:a(()=>[n(A,null,{default:a(()=>{var r,p,v;return[e("tbody",null,[e("tr",null,[e("td",null,t(l.$t("Order ID")),1),e("td",null,t(s.value.id),1)]),e("tr",null,[e("td",null,t(l.$t("Transaction ID")),1),e("td",null,t(s.value.trx_id),1)]),e("tr",null,[e("td",null,t(l.$t("Customer")),1),e("td",null,t((r=s.value.customer)==null?void 0:r.name),1)]),e("tr",null,[e("td",null,t(l.$t("Plan")),1),e("td",null,t((p=s.value.plan)==null?void 0:p.name),1)]),e("tr",null,[e("td",null,t(l.$t("Gateway")),1),e("td",null,t((v=s.value.gateway)==null?void 0:v.name),1)]),e("tr",null,[e("td",null,t(l.$t("Status")),1),e("td",null,[s.value.status===0?(u(),i(m,{key:0,color:"warning",dark:""},{default:a(()=>[n(C,{width:"3",size:"x-small",class:"me-3",color:"warning",indeterminate:""}),d(" "+t(l.$t("Pending")),1)]),_:1})):s.value.status===1?(u(),i(m,{key:1,color:"primary",dark:"","prepend-icon":"mdi-check"},{default:a(()=>[d(t(l.$t("Accepted")),1)]),_:1})):(u(),i(m,{key:2,color:"error",dark:"","prepend-icon":"mdi-close"},{default:a(()=>[d(t(l.$t("Rejected")),1)]),_:1}))])]),e("tr",null,[e("td",null,t(l.$t("Description")),1),e("td",null,t(s.value.description),1)]),e("tr",null,[e("td",null,t(l.$t("Order At")),1),e("td",null,t(g(y)(s.value.created_at)),1)]),e("tr",null,[e("td",x,[n(q,{class:"pa-5"},{default:a(()=>[e("img",{src:s.value.screenshot,alt:""},null,8,ee)]),_:1})])])])]}),_:1})]),_:1}),n(G,{class:"justify-space-between"},{default:a(()=>[s.value.status===0?(u(),i(f,{key:0,color:"primary",variant:"text",onClick:o[0]||(o[0]=r=>I(s.value.id))},{default:a(()=>[d(t(l.$t("Accept")),1)]),_:1})):S("",!0),s.value.status===0?(u(),i(f,{key:1,color:"error",variant:"text",onClick:o[1]||(o[1]=r=>j(s.value.id))},{default:a(()=>[d(t(l.$t("Reject")),1)]),_:1})):S("",!0),n(f,{color:"green-darken-1",variant:"text",onClick:o[2]||(o[2]=r=>c.value=!1)},{default:a(()=>[n(E,null,{default:a(()=>[d("mdi-close")]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}};export{oe as default};
